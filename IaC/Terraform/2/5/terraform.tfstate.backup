{
  "version": 4,
  "terraform_version": "1.3.4",
  "serial": 2299,
  "lineage": "a303f85f-0818-b7f9-7b66-f5af816577b9",
  "outputs": {
    "client_lb_dns": {
      "value": "cl-20221112145139043100000012-481935381.us-east-1.elb.amazonaws.com",
      "type": "string"
    },
    "consul_bootstrap_token": {
      "value": "85697c2a-b34b-4759-42c3-b96a868a3315",
      "type": "string",
      "sensitive": true
    },
    "consul_server_endpoint": {
      "value": "cs-20221112145139048000000013-593535364.us-east-1.elb.amazonaws.com",
      "type": "string"
    }
  },
  "resources": [
    {
      "mode": "data",
      "type": "aws_availability_zones",
      "name": "availabile",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "all_availability_zones": null,
            "exclude_names": null,
            "exclude_zone_ids": null,
            "filter": null,
            "group_names": [
              "us-east-1"
            ],
            "id": "us-east-1",
            "names": [
              "us-east-1a",
              "us-east-1b",
              "us-east-1c",
              "us-east-1d",
              "us-east-1e",
              "us-east-1f"
            ],
            "state": "available",
            "zone_ids": [
              "use1-az6",
              "use1-az1",
              "use1-az2",
              "use1-az4",
              "use1-az3",
              "use1-az5"
            ]
          },
          "sensitive_attributes": []
        }
      ]
    },
    {
      "mode": "data",
      "type": "aws_iam_policy_document",
      "name": "instance_permissions_policy",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "511273657",
            "json": "{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Sid\": \"DescribeInstances\",\n      \"Effect\": \"Allow\",\n      \"Action\": \"ec2:DescribeInstances\",\n      \"Resource\": \"*\"\n    }\n  ]\n}",
            "override_json": null,
            "override_policy_documents": null,
            "policy_id": null,
            "source_json": null,
            "source_policy_documents": null,
            "statement": [
              {
                "actions": [
                  "ec2:DescribeInstances"
                ],
                "condition": [],
                "effect": "Allow",
                "not_actions": [],
                "not_principals": [],
                "not_resources": [],
                "principals": [],
                "resources": [
                  "*"
                ],
                "sid": "DescribeInstances"
              }
            ],
            "version": "2012-10-17"
          },
          "sensitive_attributes": []
        }
      ]
    },
    {
      "mode": "data",
      "type": "aws_iam_policy_document",
      "name": "instance_trust_policy",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "1903849331",
            "json": "{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Sid\": \"\",\n      \"Effect\": \"Allow\",\n      \"Action\": \"sts:AssumeRole\",\n      \"Principal\": {\n        \"Service\": \"ec2.amazonaws.com\"\n      }\n    }\n  ]\n}",
            "override_json": null,
            "override_policy_documents": null,
            "policy_id": null,
            "source_json": null,
            "source_policy_documents": null,
            "statement": [
              {
                "actions": [
                  "sts:AssumeRole"
                ],
                "condition": [],
                "effect": "Allow",
                "not_actions": [],
                "not_principals": [],
                "not_resources": [],
                "principals": [
                  {
                    "identifiers": [
                      "ec2.amazonaws.com"
                    ],
                    "type": "Service"
                  }
                ],
                "resources": [],
                "sid": ""
              }
            ],
            "version": "2012-10-17"
          },
          "sensitive_attributes": []
        }
      ]
    },
    {
      "mode": "data",
      "type": "aws_ssm_parameter",
      "name": "ubuntu_latest",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:ssm:us-east-1::parameter/aws/service/canonical/ubuntu/server/18.04/stable/current/amd64/hvm/ebs-gp2/ami-id",
            "id": "/aws/service/canonical/ubuntu/server/18.04/stable/current/amd64/hvm/ebs-gp2/ami-id",
            "name": "/aws/service/canonical/ubuntu/server/18.04/stable/current/amd64/hvm/ebs-gp2/ami-id",
            "type": "String",
            "value": "ami-094f380725f62923a",
            "version": 302,
            "with_decryption": true
          },
          "sensitive_attributes": []
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_cloudwatch_log_group",
      "name": "acl",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:logs:us-east-1:321863202336:log-group:Microservice-acl-logs",
            "id": "Microservice-acl-logs",
            "kms_key_id": "",
            "name": "Microservice-acl-logs",
            "name_prefix": null,
            "retention_in_days": 0,
            "tags": {},
            "tags_all": {
              "project": "Microservice"
            }
          },
          "sensitive_attributes": [],
          "private": "bnVsbA=="
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_cloudwatch_log_group",
      "name": "client",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:logs:us-east-1:321863202336:log-group:Microservice-client-logs",
            "id": "Microservice-client-logs",
            "kms_key_id": "",
            "name": "Microservice-client-logs",
            "name_prefix": null,
            "retention_in_days": 0,
            "tags": {},
            "tags_all": {
              "project": "Microservice"
            }
          },
          "sensitive_attributes": [],
          "private": "bnVsbA=="
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_cloudwatch_log_group",
      "name": "client_sidecars",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:logs:us-east-1:321863202336:log-group:Microservice-client-sidecars-logs",
            "id": "Microservice-client-sidecars-logs",
            "kms_key_id": "",
            "name": "Microservice-client-sidecars-logs",
            "name_prefix": null,
            "retention_in_days": 0,
            "tags": {},
            "tags_all": {
              "project": "Microservice"
            }
          },
          "sensitive_attributes": [],
          "private": "bnVsbA=="
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_cloudwatch_log_group",
      "name": "fruits",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:logs:us-east-1:321863202336:log-group:Microservice-fruits-logs",
            "id": "Microservice-fruits-logs",
            "kms_key_id": "",
            "name": "Microservice-fruits-logs",
            "name_prefix": null,
            "retention_in_days": 0,
            "tags": {},
            "tags_all": {
              "project": "Microservice"
            }
          },
          "sensitive_attributes": [],
          "private": "bnVsbA=="
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_cloudwatch_log_group",
      "name": "fruits_sidecars",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:logs:us-east-1:321863202336:log-group:Microservice-fruits-sidecars-logs",
            "id": "Microservice-fruits-sidecars-logs",
            "kms_key_id": "",
            "name": "Microservice-fruits-sidecars-logs",
            "name_prefix": null,
            "retention_in_days": 0,
            "tags": {},
            "tags_all": {
              "project": "Microservice"
            }
          },
          "sensitive_attributes": [],
          "private": "bnVsbA=="
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_cloudwatch_log_group",
      "name": "vegetables",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:logs:us-east-1:321863202336:log-group:Microservice-vegetables-logs",
            "id": "Microservice-vegetables-logs",
            "kms_key_id": "",
            "name": "Microservice-vegetables-logs",
            "name_prefix": null,
            "retention_in_days": 0,
            "tags": {},
            "tags_all": {
              "project": "Microservice"
            }
          },
          "sensitive_attributes": [],
          "private": "bnVsbA=="
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_cloudwatch_log_group",
      "name": "vegetables_sidecars",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:logs:us-east-1:321863202336:log-group:Microservice-vegetables-sidecars-logs",
            "id": "Microservice-vegetables-sidecars-logs",
            "kms_key_id": "",
            "name": "Microservice-vegetables-sidecars-logs",
            "name_prefix": null,
            "retention_in_days": 0,
            "tags": {},
            "tags_all": {
              "project": "Microservice"
            }
          },
          "sensitive_attributes": [],
          "private": "bnVsbA=="
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_ecs_cluster",
      "name": "main",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:ecs:us-east-1:321863202336:cluster/Microservice",
            "capacity_providers": [],
            "configuration": [],
            "default_capacity_provider_strategy": [],
            "id": "arn:aws:ecs:us-east-1:321863202336:cluster/Microservice",
            "name": "Microservice",
            "setting": [
              {
                "name": "containerInsights",
                "value": "disabled"
              }
            ],
            "tags": {},
            "tags_all": {
              "project": "Microservice"
            }
          },
          "sensitive_attributes": [],
          "private": "bnVsbA=="
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_ecs_service",
      "name": "client",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "capacity_provider_strategy": [],
            "cluster": "arn:aws:ecs:us-east-1:321863202336:cluster/Microservice",
            "deployment_circuit_breaker": [
              {
                "enable": false,
                "rollback": false
              }
            ],
            "deployment_controller": [
              {
                "type": "ECS"
              }
            ],
            "deployment_maximum_percent": 200,
            "deployment_minimum_healthy_percent": 100,
            "desired_count": 1,
            "enable_ecs_managed_tags": false,
            "enable_execute_command": false,
            "force_new_deployment": null,
            "health_check_grace_period_seconds": 0,
            "iam_role": "aws-service-role",
            "id": "arn:aws:ecs:us-east-1:321863202336:service/Microservice/Microservice-client",
            "launch_type": "FARGATE",
            "load_balancer": [
              {
                "container_name": "client",
                "container_port": 9090,
                "elb_name": "",
                "target_group_arn": "arn:aws:elasticloadbalancing:us-east-1:321863202336:targetgroup/cl-2022111214512679060000000a/d352953b31c7a8ab"
              }
            ],
            "name": "Microservice-client",
            "network_configuration": [
              {
                "assign_public_ip": false,
                "security_groups": [
                  "sg-01a0d8ba570778729",
                  "sg-0cffc3728a1b93aa4"
                ],
                "subnets": [
                  "subnet-04e5b7eb6345ca38d",
                  "subnet-0a44d86f13a3ea809",
                  "subnet-0bbeb83d0ff5ba713"
                ]
              }
            ],
            "ordered_placement_strategy": [],
            "placement_constraints": [],
            "platform_version": "LATEST",
            "propagate_tags": "TASK_DEFINITION",
            "scheduling_strategy": "REPLICA",
            "service_registries": [],
            "tags": null,
            "tags_all": {
              "project": "Microservice"
            },
            "task_definition": "arn:aws:ecs:us-east-1:321863202336:task-definition/Microservice-client:3",
            "timeouts": null,
            "wait_for_steady_state": false
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiZGVsZXRlIjoxMjAwMDAwMDAwMDAwfX0=",
          "dependencies": [
            "aws_cloudwatch_log_group.acl",
            "aws_ecs_cluster.main",
            "aws_instance.consul_server",
            "aws_lb_target_group.client_lb_targets",
            "aws_nat_gateway.nat",
            "aws_secretsmanager_secret.consul_bootstrap_token",
            "aws_secretsmanager_secret.consul_server_root_ca_cert",
            "aws_security_group.acl_controller",
            "aws_security_group.consul_client",
            "aws_security_group.ecs_client_service",
            "aws_subnet.private",
            "module.client.aws_ecs_task_definition.this",
            "module.consul_acl_controller.aws_ecs_service.this",
            "module.consul_acl_controller.aws_ecs_task_definition.this",
            "module.consul_acl_controller.aws_iam_policy.this_execution",
            "module.consul_acl_controller.aws_iam_role.this_execution",
            "module.consul_acl_controller.aws_iam_role.this_task",
            "module.consul_acl_controller.aws_iam_role_policy_attachment.consul-controller-execution",
            "module.consul_acl_controller.aws_secretsmanager_secret.client_token",
            "module.consul_acl_controller.aws_secretsmanager_secret_version.client_token"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_ecs_service",
      "name": "fruits",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "capacity_provider_strategy": [],
            "cluster": "arn:aws:ecs:us-east-1:321863202336:cluster/Microservice",
            "deployment_circuit_breaker": [
              {
                "enable": false,
                "rollback": false
              }
            ],
            "deployment_controller": [
              {
                "type": "ECS"
              }
            ],
            "deployment_maximum_percent": 200,
            "deployment_minimum_healthy_percent": 100,
            "desired_count": 2,
            "enable_ecs_managed_tags": false,
            "enable_execute_command": false,
            "force_new_deployment": null,
            "health_check_grace_period_seconds": 0,
            "iam_role": "aws-service-role",
            "id": "arn:aws:ecs:us-east-1:321863202336:service/Microservice/Microservice-fruits",
            "launch_type": "FARGATE",
            "load_balancer": [],
            "name": "Microservice-fruits",
            "network_configuration": [
              {
                "assign_public_ip": false,
                "security_groups": [
                  "sg-01a0d8ba570778729",
                  "sg-0c252702870e44a7a"
                ],
                "subnets": [
                  "subnet-04e5b7eb6345ca38d",
                  "subnet-0a44d86f13a3ea809",
                  "subnet-0bbeb83d0ff5ba713"
                ]
              }
            ],
            "ordered_placement_strategy": [],
            "placement_constraints": [],
            "platform_version": "LATEST",
            "propagate_tags": "TASK_DEFINITION",
            "scheduling_strategy": "REPLICA",
            "service_registries": [],
            "tags": {},
            "tags_all": {
              "project": "Microservice"
            },
            "task_definition": "arn:aws:ecs:us-east-1:321863202336:task-definition/Microservice-fruits:3",
            "timeouts": null,
            "wait_for_steady_state": false
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiZGVsZXRlIjoxMjAwMDAwMDAwMDAwfX0=",
          "dependencies": [
            "aws_cloudwatch_log_group.acl",
            "aws_cloudwatch_log_group.fruits",
            "aws_cloudwatch_log_group.fruits_sidecars",
            "aws_ecs_cluster.main",
            "aws_eip.nat",
            "aws_iam_instance_profile.consul_instance_profile",
            "aws_iam_role.consul_instance",
            "aws_instance.consul_server",
            "aws_internet_gateway.gw",
            "aws_nat_gateway.nat",
            "aws_secretsmanager_secret.consul_bootstrap_token",
            "aws_secretsmanager_secret.consul_gossip_key",
            "aws_secretsmanager_secret.consul_server_root_ca_cert",
            "aws_security_group.acl_controller",
            "aws_security_group.consul_client",
            "aws_security_group.consul_server",
            "aws_security_group.ecs_fruits_service",
            "aws_subnet.private",
            "aws_subnet.public",
            "aws_vpc.main",
            "data.aws_availability_zones.availabile",
            "data.aws_iam_policy_document.instance_trust_policy",
            "data.aws_ssm_parameter.ubuntu_latest",
            "module.consul_acl_controller.aws_ecs_service.this",
            "module.consul_acl_controller.aws_ecs_task_definition.this",
            "module.consul_acl_controller.aws_iam_policy.this_execution",
            "module.consul_acl_controller.aws_iam_role.this_execution",
            "module.consul_acl_controller.aws_iam_role.this_task",
            "module.consul_acl_controller.aws_iam_role_policy_attachment.consul-controller-execution",
            "module.consul_acl_controller.aws_secretsmanager_secret.client_token",
            "module.consul_acl_controller.aws_secretsmanager_secret_version.client_token",
            "module.fruits.aws_ecs_task_definition.this",
            "module.fruits.aws_iam_role.execution",
            "module.fruits.aws_iam_role.task",
            "module.fruits.aws_secretsmanager_secret.service_token",
            "random_id.consul_gossip_key",
            "random_uuid.consul_bootstrap_token",
            "tls_cert_request.consul_server_cert",
            "tls_locally_signed_cert.consul_server_signed_cert",
            "tls_private_key.ca_key",
            "tls_private_key.consul_server_key",
            "tls_self_signed_cert.ca_cert"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_ecs_service",
      "name": "vegetables",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "capacity_provider_strategy": [],
            "cluster": "arn:aws:ecs:us-east-1:321863202336:cluster/Microservice",
            "deployment_circuit_breaker": [
              {
                "enable": false,
                "rollback": false
              }
            ],
            "deployment_controller": [
              {
                "type": "ECS"
              }
            ],
            "deployment_maximum_percent": 200,
            "deployment_minimum_healthy_percent": 100,
            "desired_count": 3,
            "enable_ecs_managed_tags": false,
            "enable_execute_command": false,
            "force_new_deployment": null,
            "health_check_grace_period_seconds": 0,
            "iam_role": "aws-service-role",
            "id": "arn:aws:ecs:us-east-1:321863202336:service/Microservice/Microservice-vegetables",
            "launch_type": "FARGATE",
            "load_balancer": [],
            "name": "Microservice-vegetables",
            "network_configuration": [
              {
                "assign_public_ip": false,
                "security_groups": [
                  "sg-00ef2f09f17783f2e",
                  "sg-01a0d8ba570778729"
                ],
                "subnets": [
                  "subnet-04e5b7eb6345ca38d",
                  "subnet-0a44d86f13a3ea809",
                  "subnet-0bbeb83d0ff5ba713"
                ]
              }
            ],
            "ordered_placement_strategy": [],
            "placement_constraints": [],
            "platform_version": "LATEST",
            "propagate_tags": "TASK_DEFINITION",
            "scheduling_strategy": "REPLICA",
            "service_registries": [],
            "tags": {},
            "tags_all": {
              "project": "Microservice"
            },
            "task_definition": "arn:aws:ecs:us-east-1:321863202336:task-definition/Microservice-vegetables:3",
            "timeouts": null,
            "wait_for_steady_state": false
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiZGVsZXRlIjoxMjAwMDAwMDAwMDAwfX0=",
          "dependencies": [
            "aws_cloudwatch_log_group.acl",
            "aws_cloudwatch_log_group.vegetables",
            "aws_cloudwatch_log_group.vegetables_sidecars",
            "aws_ecs_cluster.main",
            "aws_eip.nat",
            "aws_iam_instance_profile.consul_instance_profile",
            "aws_iam_role.consul_instance",
            "aws_instance.consul_server",
            "aws_internet_gateway.gw",
            "aws_nat_gateway.nat",
            "aws_secretsmanager_secret.consul_bootstrap_token",
            "aws_secretsmanager_secret.consul_gossip_key",
            "aws_secretsmanager_secret.consul_server_root_ca_cert",
            "aws_security_group.acl_controller",
            "aws_security_group.consul_client",
            "aws_security_group.consul_server",
            "aws_security_group.ecs_vegetables_service",
            "aws_subnet.private",
            "aws_subnet.public",
            "aws_vpc.main",
            "data.aws_availability_zones.availabile",
            "data.aws_iam_policy_document.instance_trust_policy",
            "data.aws_ssm_parameter.ubuntu_latest",
            "module.consul_acl_controller.aws_ecs_service.this",
            "module.consul_acl_controller.aws_ecs_task_definition.this",
            "module.consul_acl_controller.aws_iam_policy.this_execution",
            "module.consul_acl_controller.aws_iam_role.this_execution",
            "module.consul_acl_controller.aws_iam_role.this_task",
            "module.consul_acl_controller.aws_iam_role_policy_attachment.consul-controller-execution",
            "module.consul_acl_controller.aws_secretsmanager_secret.client_token",
            "module.consul_acl_controller.aws_secretsmanager_secret_version.client_token",
            "module.vegetables.aws_ecs_task_definition.this",
            "module.vegetables.aws_iam_role.execution",
            "module.vegetables.aws_iam_role.task",
            "module.vegetables.aws_secretsmanager_secret.service_token",
            "random_id.consul_gossip_key",
            "random_uuid.consul_bootstrap_token",
            "tls_cert_request.consul_server_cert",
            "tls_locally_signed_cert.consul_server_signed_cert",
            "tls_private_key.ca_key",
            "tls_private_key.consul_server_key",
            "tls_self_signed_cert.ca_cert"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_eip",
      "name": "nat",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "address": null,
            "allocation_id": "eipalloc-0c3cd00e475c00aa6",
            "associate_with_private_ip": null,
            "association_id": "eipassoc-0ceb4b2f0ed83ebec",
            "carrier_ip": "",
            "customer_owned_ip": "",
            "customer_owned_ipv4_pool": "",
            "domain": "vpc",
            "id": "eipalloc-0c3cd00e475c00aa6",
            "instance": "",
            "network_border_group": "us-east-1",
            "network_interface": "eni-0cac11c9e2202456f",
            "private_dns": "ip-10-255-0-222.ec2.internal",
            "private_ip": "10.255.0.222",
            "public_dns": "ec2-3-230-99-226.compute-1.amazonaws.com",
            "public_ip": "3.230.99.226",
            "public_ipv4_pool": "amazon",
            "tags": {
              "Name": "Microservice-nat-eip"
            },
            "tags_all": {
              "Name": "Microservice-nat-eip",
              "project": "Microservice"
            },
            "timeouts": null,
            "vpc": true
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiZGVsZXRlIjoxODAwMDAwMDAwMDAsInJlYWQiOjkwMDAwMDAwMDAwMCwidXBkYXRlIjozMDAwMDAwMDAwMDB9fQ=="
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_iam_instance_profile",
      "name": "consul_instance_profile",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:iam::321863202336:instance-profile/Microservice-instance-profile-20221112145105320500000006",
            "create_date": "2022-11-12T14:51:05Z",
            "id": "Microservice-instance-profile-20221112145105320500000006",
            "name": "Microservice-instance-profile-20221112145105320500000006",
            "name_prefix": "Microservice-instance-profile-",
            "path": "/",
            "role": "consul-role-20221112145104696600000001",
            "tags": {},
            "tags_all": {
              "project": "Microservice"
            },
            "unique_id": "AIPAUV4EKWYQIGBO34ZAT"
          },
          "sensitive_attributes": [],
          "private": "bnVsbA==",
          "dependencies": [
            "aws_iam_role.consul_instance",
            "data.aws_iam_policy_document.instance_trust_policy"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_iam_role",
      "name": "consul_instance",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:iam::321863202336:role/consul-role-20221112145104696600000001",
            "assume_role_policy": "{\"Version\":\"2012-10-17\",\"Statement\":[{\"Sid\":\"\",\"Effect\":\"Allow\",\"Principal\":{\"Service\":\"ec2.amazonaws.com\"},\"Action\":\"sts:AssumeRole\"}]}",
            "create_date": "2022-11-12T14:51:04Z",
            "description": "",
            "force_detach_policies": false,
            "id": "consul-role-20221112145104696600000001",
            "inline_policy": [
              {
                "name": "Microservice-instance-policy-20221112145105317400000005",
                "policy": "{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Sid\": \"DescribeInstances\",\n      \"Effect\": \"Allow\",\n      \"Action\": \"ec2:DescribeInstances\",\n      \"Resource\": \"*\"\n    }\n  ]\n}"
              }
            ],
            "managed_policy_arns": [],
            "max_session_duration": 3600,
            "name": "consul-role-20221112145104696600000001",
            "name_prefix": "consul-role-",
            "path": "/",
            "permissions_boundary": null,
            "tags": {},
            "tags_all": {
              "project": "Microservice"
            },
            "unique_id": "AROAUV4EKWYQGIIPBSTEY"
          },
          "sensitive_attributes": [],
          "private": "bnVsbA==",
          "dependencies": [
            "data.aws_iam_policy_document.instance_trust_policy"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_iam_role_policy",
      "name": "consul_instance_policy",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "consul-role-20221112145104696600000001:Microservice-instance-policy-20221112145105317400000005",
            "name": "Microservice-instance-policy-20221112145105317400000005",
            "name_prefix": "Microservice-instance-policy-",
            "policy": "{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Sid\": \"DescribeInstances\",\n      \"Effect\": \"Allow\",\n      \"Action\": \"ec2:DescribeInstances\",\n      \"Resource\": \"*\"\n    }\n  ]\n}",
            "role": "consul-role-20221112145104696600000001"
          },
          "sensitive_attributes": [],
          "private": "bnVsbA==",
          "dependencies": [
            "aws_iam_role.consul_instance",
            "data.aws_iam_policy_document.instance_permissions_policy",
            "data.aws_iam_policy_document.instance_trust_policy"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_instance",
      "name": "consul_server",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "index_key": 0,
          "schema_version": 1,
          "attributes": {
            "ami": "ami-094f380725f62923a",
            "arn": "arn:aws:ec2:us-east-1:321863202336:instance/i-0807dd0944b9fd63e",
            "associate_public_ip_address": false,
            "availability_zone": "us-east-1a",
            "capacity_reservation_specification": [
              {
                "capacity_reservation_preference": "open",
                "capacity_reservation_target": []
              }
            ],
            "cpu_core_count": 1,
            "cpu_threads_per_core": 1,
            "credit_specification": [
              {
                "cpu_credits": "standard"
              }
            ],
            "disable_api_termination": false,
            "ebs_block_device": [],
            "ebs_optimized": false,
            "enclave_options": [
              {
                "enabled": false
              }
            ],
            "ephemeral_block_device": [],
            "get_password_data": false,
            "hibernation": false,
            "host_id": null,
            "iam_instance_profile": "Microservice-instance-profile-20221112145105320500000006",
            "id": "i-0807dd0944b9fd63e",
            "instance_initiated_shutdown_behavior": "stop",
            "instance_state": "running",
            "instance_type": "t2.micro",
            "ipv6_address_count": 0,
            "ipv6_addresses": [],
            "key_name": "CICD",
            "launch_template": [],
            "metadata_options": [
              {
                "http_endpoint": "enabled",
                "http_put_response_hop_limit": 1,
                "http_tokens": "optional",
                "instance_metadata_tags": "disabled"
              }
            ],
            "monitoring": false,
            "network_interface": [],
            "outpost_arn": "",
            "password_data": "",
            "placement_group": "",
            "placement_partition_number": null,
            "primary_network_interface_id": "eni-0de780bc66484e6c9",
            "private_dns": "ip-10-255-3-250.ec2.internal",
            "private_ip": "10.255.3.250",
            "public_dns": "",
            "public_ip": "",
            "root_block_device": [
              {
                "delete_on_termination": true,
                "device_name": "/dev/sda1",
                "encrypted": false,
                "iops": 100,
                "kms_key_id": "",
                "tags": {},
                "throughput": 0,
                "volume_id": "vol-0b00328f12063879b",
                "volume_size": 8,
                "volume_type": "gp2"
              }
            ],
            "secondary_private_ips": [],
            "security_groups": [],
            "source_dest_check": true,
            "subnet_id": "subnet-0bbeb83d0ff5ba713",
            "tags": {
              "Name": "Microservice-consul-server"
            },
            "tags_all": {
              "Name": "Microservice-consul-server",
              "project": "Microservice"
            },
            "tenancy": "default",
            "timeouts": null,
            "user_data": "c874a681253e7f9cc0cb592b01cf1373b6790561",
            "user_data_base64": null,
            "volume_tags": null,
            "vpc_security_group_ids": [
              "sg-099249b9de6500d0a"
            ]
          },
          "sensitive_attributes": [
            [
              {
                "type": "get_attr",
                "value": "ami"
              }
            ],
            [
              {
                "type": "get_attr",
                "value": "user_data"
              }
            ]
          ],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDAsImRlbGV0ZSI6MTIwMDAwMDAwMDAwMCwidXBkYXRlIjo2MDAwMDAwMDAwMDB9LCJzY2hlbWFfdmVyc2lvbiI6IjEifQ==",
          "dependencies": [
            "aws_eip.nat",
            "aws_iam_instance_profile.consul_instance_profile",
            "aws_iam_role.consul_instance",
            "aws_internet_gateway.gw",
            "aws_nat_gateway.nat",
            "aws_security_group.consul_server",
            "aws_subnet.private",
            "aws_subnet.public",
            "aws_vpc.main",
            "data.aws_availability_zones.availabile",
            "data.aws_iam_policy_document.instance_trust_policy",
            "data.aws_ssm_parameter.ubuntu_latest",
            "random_id.consul_gossip_key",
            "random_uuid.consul_bootstrap_token",
            "tls_cert_request.consul_server_cert",
            "tls_locally_signed_cert.consul_server_signed_cert",
            "tls_private_key.ca_key",
            "tls_private_key.consul_server_key",
            "tls_self_signed_cert.ca_cert"
          ]
        },
        {
          "index_key": 1,
          "schema_version": 1,
          "attributes": {
            "ami": "ami-094f380725f62923a",
            "arn": "arn:aws:ec2:us-east-1:321863202336:instance/i-0380db629bf089434",
            "associate_public_ip_address": false,
            "availability_zone": "us-east-1b",
            "capacity_reservation_specification": [
              {
                "capacity_reservation_preference": "open",
                "capacity_reservation_target": []
              }
            ],
            "cpu_core_count": 1,
            "cpu_threads_per_core": 1,
            "credit_specification": [
              {
                "cpu_credits": "standard"
              }
            ],
            "disable_api_termination": false,
            "ebs_block_device": [],
            "ebs_optimized": false,
            "enclave_options": [
              {
                "enabled": false
              }
            ],
            "ephemeral_block_device": [],
            "get_password_data": false,
            "hibernation": false,
            "host_id": null,
            "iam_instance_profile": "Microservice-instance-profile-20221112145105320500000006",
            "id": "i-0380db629bf089434",
            "instance_initiated_shutdown_behavior": "stop",
            "instance_state": "running",
            "instance_type": "t2.micro",
            "ipv6_address_count": 0,
            "ipv6_addresses": [],
            "key_name": "CICD",
            "launch_template": [],
            "metadata_options": [
              {
                "http_endpoint": "enabled",
                "http_put_response_hop_limit": 1,
                "http_tokens": "optional",
                "instance_metadata_tags": "disabled"
              }
            ],
            "monitoring": false,
            "network_interface": [],
            "outpost_arn": "",
            "password_data": "",
            "placement_group": "",
            "placement_partition_number": null,
            "primary_network_interface_id": "eni-0bb6eab49ec344915",
            "private_dns": "ip-10-255-4-250.ec2.internal",
            "private_ip": "10.255.4.250",
            "public_dns": "",
            "public_ip": "",
            "root_block_device": [
              {
                "delete_on_termination": true,
                "device_name": "/dev/sda1",
                "encrypted": false,
                "iops": 100,
                "kms_key_id": "",
                "tags": {},
                "throughput": 0,
                "volume_id": "vol-0bb2280567ad81e59",
                "volume_size": 8,
                "volume_type": "gp2"
              }
            ],
            "secondary_private_ips": [],
            "security_groups": [],
            "source_dest_check": true,
            "subnet_id": "subnet-04e5b7eb6345ca38d",
            "tags": {
              "Name": "Microservice-consul-server"
            },
            "tags_all": {
              "Name": "Microservice-consul-server",
              "project": "Microservice"
            },
            "tenancy": "default",
            "timeouts": null,
            "user_data": "c874a681253e7f9cc0cb592b01cf1373b6790561",
            "user_data_base64": null,
            "volume_tags": null,
            "vpc_security_group_ids": [
              "sg-099249b9de6500d0a"
            ]
          },
          "sensitive_attributes": [
            [
              {
                "type": "get_attr",
                "value": "ami"
              }
            ],
            [
              {
                "type": "get_attr",
                "value": "user_data"
              }
            ]
          ],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDAsImRlbGV0ZSI6MTIwMDAwMDAwMDAwMCwidXBkYXRlIjo2MDAwMDAwMDAwMDB9LCJzY2hlbWFfdmVyc2lvbiI6IjEifQ==",
          "dependencies": [
            "aws_eip.nat",
            "aws_iam_instance_profile.consul_instance_profile",
            "aws_iam_role.consul_instance",
            "aws_internet_gateway.gw",
            "aws_nat_gateway.nat",
            "aws_security_group.consul_server",
            "aws_subnet.private",
            "aws_subnet.public",
            "aws_vpc.main",
            "data.aws_availability_zones.availabile",
            "data.aws_iam_policy_document.instance_trust_policy",
            "data.aws_ssm_parameter.ubuntu_latest",
            "random_id.consul_gossip_key",
            "random_uuid.consul_bootstrap_token",
            "tls_cert_request.consul_server_cert",
            "tls_locally_signed_cert.consul_server_signed_cert",
            "tls_private_key.ca_key",
            "tls_private_key.consul_server_key",
            "tls_self_signed_cert.ca_cert"
          ]
        },
        {
          "index_key": 2,
          "schema_version": 1,
          "attributes": {
            "ami": "ami-094f380725f62923a",
            "arn": "arn:aws:ec2:us-east-1:321863202336:instance/i-0285987aae057376d",
            "associate_public_ip_address": false,
            "availability_zone": "us-east-1c",
            "capacity_reservation_specification": [
              {
                "capacity_reservation_preference": "open",
                "capacity_reservation_target": []
              }
            ],
            "cpu_core_count": 1,
            "cpu_threads_per_core": 1,
            "credit_specification": [
              {
                "cpu_credits": "standard"
              }
            ],
            "disable_api_termination": false,
            "ebs_block_device": [],
            "ebs_optimized": false,
            "enclave_options": [
              {
                "enabled": false
              }
            ],
            "ephemeral_block_device": [],
            "get_password_data": false,
            "hibernation": false,
            "host_id": null,
            "iam_instance_profile": "Microservice-instance-profile-20221112145105320500000006",
            "id": "i-0285987aae057376d",
            "instance_initiated_shutdown_behavior": "stop",
            "instance_state": "running",
            "instance_type": "t2.micro",
            "ipv6_address_count": 0,
            "ipv6_addresses": [],
            "key_name": "CICD",
            "launch_template": [],
            "metadata_options": [
              {
                "http_endpoint": "enabled",
                "http_put_response_hop_limit": 1,
                "http_tokens": "optional",
                "instance_metadata_tags": "disabled"
              }
            ],
            "monitoring": false,
            "network_interface": [],
            "outpost_arn": "",
            "password_data": "",
            "placement_group": "",
            "placement_partition_number": null,
            "primary_network_interface_id": "eni-0e9949f2785ef6050",
            "private_dns": "ip-10-255-5-250.ec2.internal",
            "private_ip": "10.255.5.250",
            "public_dns": "",
            "public_ip": "",
            "root_block_device": [
              {
                "delete_on_termination": true,
                "device_name": "/dev/sda1",
                "encrypted": false,
                "iops": 100,
                "kms_key_id": "",
                "tags": {},
                "throughput": 0,
                "volume_id": "vol-08ca9a53ef299742d",
                "volume_size": 8,
                "volume_type": "gp2"
              }
            ],
            "secondary_private_ips": [],
            "security_groups": [],
            "source_dest_check": true,
            "subnet_id": "subnet-0a44d86f13a3ea809",
            "tags": {
              "Name": "Microservice-consul-server"
            },
            "tags_all": {
              "Name": "Microservice-consul-server",
              "project": "Microservice"
            },
            "tenancy": "default",
            "timeouts": null,
            "user_data": "c874a681253e7f9cc0cb592b01cf1373b6790561",
            "user_data_base64": null,
            "volume_tags": null,
            "vpc_security_group_ids": [
              "sg-099249b9de6500d0a"
            ]
          },
          "sensitive_attributes": [
            [
              {
                "type": "get_attr",
                "value": "user_data"
              }
            ],
            [
              {
                "type": "get_attr",
                "value": "ami"
              }
            ]
          ],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDAsImRlbGV0ZSI6MTIwMDAwMDAwMDAwMCwidXBkYXRlIjo2MDAwMDAwMDAwMDB9LCJzY2hlbWFfdmVyc2lvbiI6IjEifQ==",
          "dependencies": [
            "aws_eip.nat",
            "aws_iam_instance_profile.consul_instance_profile",
            "aws_iam_role.consul_instance",
            "aws_internet_gateway.gw",
            "aws_nat_gateway.nat",
            "aws_security_group.consul_server",
            "aws_subnet.private",
            "aws_subnet.public",
            "aws_vpc.main",
            "data.aws_availability_zones.availabile",
            "data.aws_iam_policy_document.instance_trust_policy",
            "data.aws_ssm_parameter.ubuntu_latest",
            "random_id.consul_gossip_key",
            "random_uuid.consul_bootstrap_token",
            "tls_cert_request.consul_server_cert",
            "tls_locally_signed_cert.consul_server_signed_cert",
            "tls_private_key.ca_key",
            "tls_private_key.consul_server_key",
            "tls_self_signed_cert.ca_cert"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_instance",
      "name": "database",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 1,
          "attributes": {
            "ami": "ami-094f380725f62923a",
            "arn": "arn:aws:ec2:us-east-1:321863202336:instance/i-09ff60169b7cb4f73",
            "associate_public_ip_address": false,
            "availability_zone": "us-east-1a",
            "capacity_reservation_specification": [
              {
                "capacity_reservation_preference": "open",
                "capacity_reservation_target": []
              }
            ],
            "cpu_core_count": 1,
            "cpu_threads_per_core": 2,
            "credit_specification": [
              {
                "cpu_credits": "unlimited"
              }
            ],
            "disable_api_termination": false,
            "ebs_block_device": [],
            "ebs_optimized": false,
            "enclave_options": [
              {
                "enabled": false
              }
            ],
            "ephemeral_block_device": [],
            "get_password_data": false,
            "hibernation": false,
            "host_id": null,
            "iam_instance_profile": "",
            "id": "i-09ff60169b7cb4f73",
            "instance_initiated_shutdown_behavior": "stop",
            "instance_state": "running",
            "instance_type": "t3.micro",
            "ipv6_address_count": 0,
            "ipv6_addresses": [],
            "key_name": "CICD",
            "launch_template": [],
            "metadata_options": [
              {
                "http_endpoint": "enabled",
                "http_put_response_hop_limit": 1,
                "http_tokens": "optional",
                "instance_metadata_tags": "disabled"
              }
            ],
            "monitoring": false,
            "network_interface": [],
            "outpost_arn": "",
            "password_data": "",
            "placement_group": "",
            "placement_partition_number": null,
            "primary_network_interface_id": "eni-08a3e6aac62781660",
            "private_dns": "ip-10-255-3-253.ec2.internal",
            "private_ip": "10.255.3.253",
            "public_dns": "",
            "public_ip": "",
            "root_block_device": [
              {
                "delete_on_termination": true,
                "device_name": "/dev/sda1",
                "encrypted": false,
                "iops": 100,
                "kms_key_id": "",
                "tags": {},
                "throughput": 0,
                "volume_id": "vol-0a969369dca673556",
                "volume_size": 8,
                "volume_type": "gp2"
              }
            ],
            "secondary_private_ips": [],
            "security_groups": [],
            "source_dest_check": true,
            "subnet_id": "subnet-0bbeb83d0ff5ba713",
            "tags": {
              "Name": "Microservice-database"
            },
            "tags_all": {
              "Name": "Microservice-database",
              "project": "Microservice"
            },
            "tenancy": "default",
            "timeouts": null,
            "user_data": "d8e85b3d073867dd9195cf36046680ccdc93b4d7",
            "user_data_base64": null,
            "volume_tags": null,
            "vpc_security_group_ids": [
              "sg-0ac3f4150d01861c6"
            ]
          },
          "sensitive_attributes": [
            [
              {
                "type": "get_attr",
                "value": "ami"
              }
            ]
          ],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDAsImRlbGV0ZSI6MTIwMDAwMDAwMDAwMCwidXBkYXRlIjo2MDAwMDAwMDAwMDB9LCJzY2hlbWFfdmVyc2lvbiI6IjEifQ==",
          "dependencies": [
            "aws_eip.nat",
            "aws_internet_gateway.gw",
            "aws_nat_gateway.nat",
            "aws_security_group.database",
            "aws_subnet.private",
            "aws_subnet.public",
            "aws_vpc.main",
            "data.aws_availability_zones.availabile",
            "data.aws_ssm_parameter.ubuntu_latest"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_internet_gateway",
      "name": "gw",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:ec2:us-east-1:321863202336:internet-gateway/igw-02e31bad3fada8627",
            "id": "igw-02e31bad3fada8627",
            "owner_id": "321863202336",
            "tags": {
              "Name": "Microservice-internet-gateway"
            },
            "tags_all": {
              "Name": "Microservice-internet-gateway",
              "project": "Microservice"
            },
            "vpc_id": "vpc-063729d25a525321f"
          },
          "sensitive_attributes": [],
          "private": "bnVsbA==",
          "dependencies": [
            "aws_vpc.main"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_lb",
      "name": "client_lb",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "access_logs": [
              {
                "bucket": "",
                "enabled": false,
                "prefix": ""
              }
            ],
            "arn": "arn:aws:elasticloadbalancing:us-east-1:321863202336:loadbalancer/app/cl-20221112145139043100000012/6611607ecfabab80",
            "arn_suffix": "app/cl-20221112145139043100000012/6611607ecfabab80",
            "customer_owned_ipv4_pool": "",
            "desync_mitigation_mode": "defensive",
            "dns_name": "cl-20221112145139043100000012-481935381.us-east-1.elb.amazonaws.com",
            "drop_invalid_header_fields": false,
            "enable_cross_zone_load_balancing": null,
            "enable_deletion_protection": false,
            "enable_http2": true,
            "enable_waf_fail_open": false,
            "id": "arn:aws:elasticloadbalancing:us-east-1:321863202336:loadbalancer/app/cl-20221112145139043100000012/6611607ecfabab80",
            "idle_timeout": 60,
            "internal": false,
            "ip_address_type": "dualstack",
            "load_balancer_type": "application",
            "name": "cl-20221112145139043100000012",
            "name_prefix": "cl-",
            "security_groups": [
              "sg-0fabe5ddb4777f433"
            ],
            "subnet_mapping": [
              {
                "allocation_id": "",
                "ipv6_address": "",
                "outpost_id": "",
                "private_ipv4_address": "",
                "subnet_id": "subnet-032653db81b4fe346"
              },
              {
                "allocation_id": "",
                "ipv6_address": "",
                "outpost_id": "",
                "private_ipv4_address": "",
                "subnet_id": "subnet-055366b6983931828"
              },
              {
                "allocation_id": "",
                "ipv6_address": "",
                "outpost_id": "",
                "private_ipv4_address": "",
                "subnet_id": "subnet-081e3f95d78a7ed93"
              }
            ],
            "subnets": [
              "subnet-032653db81b4fe346",
              "subnet-055366b6983931828",
              "subnet-081e3f95d78a7ed93"
            ],
            "tags": {
              "Name": "Microservice-client-lb"
            },
            "tags_all": {
              "Name": "Microservice-client-lb",
              "project": "Microservice"
            },
            "timeouts": null,
            "vpc_id": "vpc-063729d25a525321f",
            "zone_id": "Z35SXDOTRQ7X7K"
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDAsImRlbGV0ZSI6NjAwMDAwMDAwMDAwLCJ1cGRhdGUiOjYwMDAwMDAwMDAwMH19",
          "dependencies": [
            "aws_security_group.client_lb",
            "aws_subnet.public",
            "aws_vpc.main",
            "data.aws_availability_zones.availabile"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_lb",
      "name": "consul_server_lb",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "access_logs": [
              {
                "bucket": "",
                "enabled": false,
                "prefix": ""
              }
            ],
            "arn": "arn:aws:elasticloadbalancing:us-east-1:321863202336:loadbalancer/app/cs-20221112145139048000000013/fc743d82c220317b",
            "arn_suffix": "app/cs-20221112145139048000000013/fc743d82c220317b",
            "customer_owned_ipv4_pool": "",
            "desync_mitigation_mode": "defensive",
            "dns_name": "cs-20221112145139048000000013-593535364.us-east-1.elb.amazonaws.com",
            "drop_invalid_header_fields": false,
            "enable_cross_zone_load_balancing": null,
            "enable_deletion_protection": false,
            "enable_http2": true,
            "enable_waf_fail_open": false,
            "id": "arn:aws:elasticloadbalancing:us-east-1:321863202336:loadbalancer/app/cs-20221112145139048000000013/fc743d82c220317b",
            "idle_timeout": 60,
            "internal": false,
            "ip_address_type": "dualstack",
            "load_balancer_type": "application",
            "name": "cs-20221112145139048000000013",
            "name_prefix": "cs-",
            "security_groups": [
              "sg-0b0c486662f6fb5da"
            ],
            "subnet_mapping": [
              {
                "allocation_id": "",
                "ipv6_address": "",
                "outpost_id": "",
                "private_ipv4_address": "",
                "subnet_id": "subnet-032653db81b4fe346"
              },
              {
                "allocation_id": "",
                "ipv6_address": "",
                "outpost_id": "",
                "private_ipv4_address": "",
                "subnet_id": "subnet-055366b6983931828"
              },
              {
                "allocation_id": "",
                "ipv6_address": "",
                "outpost_id": "",
                "private_ipv4_address": "",
                "subnet_id": "subnet-081e3f95d78a7ed93"
              }
            ],
            "subnets": [
              "subnet-032653db81b4fe346",
              "subnet-055366b6983931828",
              "subnet-081e3f95d78a7ed93"
            ],
            "tags": {
              "Name": "Microservice-consul-server-lb"
            },
            "tags_all": {
              "Name": "Microservice-consul-server-lb",
              "project": "Microservice"
            },
            "timeouts": null,
            "vpc_id": "vpc-063729d25a525321f",
            "zone_id": "Z35SXDOTRQ7X7K"
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDAsImRlbGV0ZSI6NjAwMDAwMDAwMDAwLCJ1cGRhdGUiOjYwMDAwMDAwMDAwMH19",
          "dependencies": [
            "aws_security_group.consul_server_lb",
            "aws_subnet.public",
            "aws_vpc.main",
            "data.aws_availability_zones.availabile"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_lb_listener",
      "name": "client_lb",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "alpn_policy": null,
            "arn": "arn:aws:elasticloadbalancing:us-east-1:321863202336:listener/app/cl-20221112145139043100000012/6611607ecfabab80/189f7b0b42b7f072",
            "certificate_arn": null,
            "default_action": [
              {
                "authenticate_cognito": [],
                "authenticate_oidc": [],
                "fixed_response": [],
                "forward": [],
                "order": 1,
                "redirect": [],
                "target_group_arn": "arn:aws:elasticloadbalancing:us-east-1:321863202336:targetgroup/cl-2022111214512679060000000a/d352953b31c7a8ab",
                "type": "forward"
              }
            ],
            "id": "arn:aws:elasticloadbalancing:us-east-1:321863202336:listener/app/cl-20221112145139043100000012/6611607ecfabab80/189f7b0b42b7f072",
            "load_balancer_arn": "arn:aws:elasticloadbalancing:us-east-1:321863202336:loadbalancer/app/cl-20221112145139043100000012/6611607ecfabab80",
            "port": 80,
            "protocol": "HTTP",
            "ssl_policy": "",
            "tags": {},
            "tags_all": {
              "project": "Microservice"
            },
            "timeouts": null
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsicmVhZCI6NjAwMDAwMDAwMDAwfX0=",
          "dependencies": [
            "aws_lb.client_lb",
            "aws_lb_target_group.client_lb_targets",
            "aws_security_group.client_lb",
            "aws_subnet.public",
            "aws_vpc.main",
            "data.aws_availability_zones.availabile"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_lb_listener",
      "name": "consul_server_lb_http_80",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "alpn_policy": null,
            "arn": "arn:aws:elasticloadbalancing:us-east-1:321863202336:listener/app/cs-20221112145139048000000013/fc743d82c220317b/385c5f9d48582782",
            "certificate_arn": null,
            "default_action": [
              {
                "authenticate_cognito": [],
                "authenticate_oidc": [],
                "fixed_response": [],
                "forward": [],
                "order": 1,
                "redirect": [],
                "target_group_arn": "arn:aws:elasticloadbalancing:us-east-1:321863202336:targetgroup/cs-2022111214512791260000000e/fb2379dad4cf7a00",
                "type": "forward"
              }
            ],
            "id": "arn:aws:elasticloadbalancing:us-east-1:321863202336:listener/app/cs-20221112145139048000000013/fc743d82c220317b/385c5f9d48582782",
            "load_balancer_arn": "arn:aws:elasticloadbalancing:us-east-1:321863202336:loadbalancer/app/cs-20221112145139048000000013/fc743d82c220317b",
            "port": 80,
            "protocol": "HTTP",
            "ssl_policy": "",
            "tags": {},
            "tags_all": {
              "project": "Microservice"
            },
            "timeouts": null
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsicmVhZCI6NjAwMDAwMDAwMDAwfX0=",
          "dependencies": [
            "aws_lb.consul_server_lb",
            "aws_lb_target_group.consul_server_lb_targets",
            "aws_security_group.consul_server_lb",
            "aws_subnet.public",
            "aws_vpc.main",
            "data.aws_availability_zones.availabile"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_lb_target_group",
      "name": "client_lb_targets",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:elasticloadbalancing:us-east-1:321863202336:targetgroup/cl-2022111214512679060000000a/d352953b31c7a8ab",
            "arn_suffix": "targetgroup/cl-2022111214512679060000000a/d352953b31c7a8ab",
            "connection_termination": false,
            "deregistration_delay": "30",
            "health_check": [
              {
                "enabled": true,
                "healthy_threshold": 3,
                "interval": 60,
                "matcher": "200",
                "path": "/",
                "port": "traffic-port",
                "protocol": "HTTP",
                "timeout": 30,
                "unhealthy_threshold": 3
              }
            ],
            "id": "arn:aws:elasticloadbalancing:us-east-1:321863202336:targetgroup/cl-2022111214512679060000000a/d352953b31c7a8ab",
            "lambda_multi_value_headers_enabled": false,
            "load_balancing_algorithm_type": "round_robin",
            "name": "cl-2022111214512679060000000a",
            "name_prefix": "cl-",
            "port": 9090,
            "preserve_client_ip": null,
            "protocol": "HTTP",
            "protocol_version": "HTTP1",
            "proxy_protocol_v2": false,
            "slow_start": 0,
            "stickiness": [
              {
                "cookie_duration": 86400,
                "cookie_name": "",
                "enabled": false,
                "type": "lb_cookie"
              }
            ],
            "tags": {
              "Name": "Microservice-client-tg"
            },
            "tags_all": {
              "Name": "Microservice-client-tg",
              "project": "Microservice"
            },
            "target_type": "ip",
            "vpc_id": "vpc-063729d25a525321f"
          },
          "sensitive_attributes": [],
          "private": "bnVsbA==",
          "dependencies": [
            "aws_vpc.main"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_lb_target_group",
      "name": "consul_server_lb_targets",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:elasticloadbalancing:us-east-1:321863202336:targetgroup/cs-2022111214512791260000000e/fb2379dad4cf7a00",
            "arn_suffix": "targetgroup/cs-2022111214512791260000000e/fb2379dad4cf7a00",
            "connection_termination": false,
            "deregistration_delay": "30",
            "health_check": [
              {
                "enabled": true,
                "healthy_threshold": 3,
                "interval": 60,
                "matcher": "200",
                "path": "/v1/status/leader",
                "port": "traffic-port",
                "protocol": "HTTP",
                "timeout": 30,
                "unhealthy_threshold": 3
              }
            ],
            "id": "arn:aws:elasticloadbalancing:us-east-1:321863202336:targetgroup/cs-2022111214512791260000000e/fb2379dad4cf7a00",
            "lambda_multi_value_headers_enabled": false,
            "load_balancing_algorithm_type": "round_robin",
            "name": "cs-2022111214512791260000000e",
            "name_prefix": "cs-",
            "port": 8500,
            "preserve_client_ip": null,
            "protocol": "HTTP",
            "protocol_version": "HTTP1",
            "proxy_protocol_v2": false,
            "slow_start": 0,
            "stickiness": [
              {
                "cookie_duration": 86400,
                "cookie_name": "",
                "enabled": false,
                "type": "lb_cookie"
              }
            ],
            "tags": {
              "Name": "Microservice-consul-server-tg"
            },
            "tags_all": {
              "Name": "Microservice-consul-server-tg",
              "project": "Microservice"
            },
            "target_type": "instance",
            "vpc_id": "vpc-063729d25a525321f"
          },
          "sensitive_attributes": [],
          "private": "bnVsbA==",
          "dependencies": [
            "aws_vpc.main"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_lb_target_group_attachment",
      "name": "consul_server",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "index_key": 0,
          "schema_version": 0,
          "attributes": {
            "availability_zone": null,
            "id": "arn:aws:elasticloadbalancing:us-east-1:321863202336:targetgroup/cs-2022111214512791260000000e/fb2379dad4cf7a00-20221112145414395200000014",
            "port": 8500,
            "target_group_arn": "arn:aws:elasticloadbalancing:us-east-1:321863202336:targetgroup/cs-2022111214512791260000000e/fb2379dad4cf7a00",
            "target_id": "i-0807dd0944b9fd63e"
          },
          "sensitive_attributes": [],
          "private": "bnVsbA==",
          "dependencies": [
            "aws_eip.nat",
            "aws_iam_instance_profile.consul_instance_profile",
            "aws_iam_role.consul_instance",
            "aws_instance.consul_server",
            "aws_internet_gateway.gw",
            "aws_lb_target_group.consul_server_lb_targets",
            "aws_nat_gateway.nat",
            "aws_security_group.consul_server",
            "aws_subnet.private",
            "aws_subnet.public",
            "aws_vpc.main",
            "data.aws_availability_zones.availabile",
            "data.aws_iam_policy_document.instance_trust_policy",
            "data.aws_ssm_parameter.ubuntu_latest",
            "random_id.consul_gossip_key",
            "random_uuid.consul_bootstrap_token",
            "tls_cert_request.consul_server_cert",
            "tls_locally_signed_cert.consul_server_signed_cert",
            "tls_private_key.ca_key",
            "tls_private_key.consul_server_key",
            "tls_self_signed_cert.ca_cert"
          ]
        },
        {
          "index_key": 1,
          "schema_version": 0,
          "attributes": {
            "availability_zone": null,
            "id": "arn:aws:elasticloadbalancing:us-east-1:321863202336:targetgroup/cs-2022111214512791260000000e/fb2379dad4cf7a00-20221112145414501200000016",
            "port": 8500,
            "target_group_arn": "arn:aws:elasticloadbalancing:us-east-1:321863202336:targetgroup/cs-2022111214512791260000000e/fb2379dad4cf7a00",
            "target_id": "i-0380db629bf089434"
          },
          "sensitive_attributes": [],
          "private": "bnVsbA==",
          "dependencies": [
            "aws_eip.nat",
            "aws_iam_instance_profile.consul_instance_profile",
            "aws_iam_role.consul_instance",
            "aws_instance.consul_server",
            "aws_internet_gateway.gw",
            "aws_lb_target_group.consul_server_lb_targets",
            "aws_nat_gateway.nat",
            "aws_security_group.consul_server",
            "aws_subnet.private",
            "aws_subnet.public",
            "aws_vpc.main",
            "data.aws_availability_zones.availabile",
            "data.aws_iam_policy_document.instance_trust_policy",
            "data.aws_ssm_parameter.ubuntu_latest",
            "random_id.consul_gossip_key",
            "random_uuid.consul_bootstrap_token",
            "tls_cert_request.consul_server_cert",
            "tls_locally_signed_cert.consul_server_signed_cert",
            "tls_private_key.ca_key",
            "tls_private_key.consul_server_key",
            "tls_self_signed_cert.ca_cert"
          ]
        },
        {
          "index_key": 2,
          "schema_version": 0,
          "attributes": {
            "availability_zone": null,
            "id": "arn:aws:elasticloadbalancing:us-east-1:321863202336:targetgroup/cs-2022111214512791260000000e/fb2379dad4cf7a00-20221112145414433600000015",
            "port": 8500,
            "target_group_arn": "arn:aws:elasticloadbalancing:us-east-1:321863202336:targetgroup/cs-2022111214512791260000000e/fb2379dad4cf7a00",
            "target_id": "i-0285987aae057376d"
          },
          "sensitive_attributes": [],
          "private": "bnVsbA==",
          "dependencies": [
            "aws_eip.nat",
            "aws_iam_instance_profile.consul_instance_profile",
            "aws_iam_role.consul_instance",
            "aws_instance.consul_server",
            "aws_internet_gateway.gw",
            "aws_lb_target_group.consul_server_lb_targets",
            "aws_nat_gateway.nat",
            "aws_security_group.consul_server",
            "aws_subnet.private",
            "aws_subnet.public",
            "aws_vpc.main",
            "data.aws_availability_zones.availabile",
            "data.aws_iam_policy_document.instance_trust_policy",
            "data.aws_ssm_parameter.ubuntu_latest",
            "random_id.consul_gossip_key",
            "random_uuid.consul_bootstrap_token",
            "tls_cert_request.consul_server_cert",
            "tls_locally_signed_cert.consul_server_signed_cert",
            "tls_private_key.ca_key",
            "tls_private_key.consul_server_key",
            "tls_self_signed_cert.ca_cert"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_nat_gateway",
      "name": "nat",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "allocation_id": "eipalloc-0c3cd00e475c00aa6",
            "connectivity_type": "public",
            "id": "nat-0fbe94c17bfbed37f",
            "network_interface_id": "eni-0cac11c9e2202456f",
            "private_ip": "10.255.0.222",
            "public_ip": "3.230.99.226",
            "subnet_id": "subnet-055366b6983931828",
            "tags": {
              "Name": "Microservice-nat"
            },
            "tags_all": {
              "Name": "Microservice-nat",
              "project": "Microservice"
            }
          },
          "sensitive_attributes": [],
          "private": "bnVsbA==",
          "dependencies": [
            "aws_eip.nat",
            "aws_internet_gateway.gw",
            "aws_subnet.public",
            "aws_vpc.main",
            "data.aws_availability_zones.availabile"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_route",
      "name": "internet_access",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "carrier_gateway_id": "",
            "destination_cidr_block": "0.0.0.0/0",
            "destination_ipv6_cidr_block": "",
            "destination_prefix_list_id": "",
            "egress_only_gateway_id": "",
            "gateway_id": "igw-02e31bad3fada8627",
            "id": "r-rtb-09b8250aad3904e8b1080289494",
            "instance_id": "",
            "instance_owner_id": "",
            "local_gateway_id": "",
            "nat_gateway_id": "",
            "network_interface_id": "",
            "origin": "CreateRoute",
            "route_table_id": "rtb-09b8250aad3904e8b",
            "state": "active",
            "timeouts": null,
            "transit_gateway_id": "",
            "vpc_endpoint_id": "",
            "vpc_peering_connection_id": ""
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjozMDAwMDAwMDAwMDAsImRlbGV0ZSI6MzAwMDAwMDAwMDAwLCJ1cGRhdGUiOjEyMDAwMDAwMDAwMH19",
          "dependencies": [
            "aws_internet_gateway.gw",
            "aws_route_table.public_rt",
            "aws_vpc.main"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_route",
      "name": "private_access",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "carrier_gateway_id": "",
            "destination_cidr_block": "0.0.0.0/0",
            "destination_ipv6_cidr_block": "",
            "destination_prefix_list_id": "",
            "egress_only_gateway_id": "",
            "gateway_id": "",
            "id": "r-rtb-0b9d05ff180e871821080289494",
            "instance_id": "",
            "instance_owner_id": "",
            "local_gateway_id": "",
            "nat_gateway_id": "nat-0fbe94c17bfbed37f",
            "network_interface_id": "",
            "origin": "CreateRoute",
            "route_table_id": "rtb-0b9d05ff180e87182",
            "state": "active",
            "timeouts": null,
            "transit_gateway_id": "",
            "vpc_endpoint_id": "",
            "vpc_peering_connection_id": ""
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjozMDAwMDAwMDAwMDAsImRlbGV0ZSI6MzAwMDAwMDAwMDAwLCJ1cGRhdGUiOjEyMDAwMDAwMDAwMH19",
          "dependencies": [
            "aws_eip.nat",
            "aws_internet_gateway.gw",
            "aws_nat_gateway.nat",
            "aws_route_table.private_rt",
            "aws_subnet.public",
            "aws_vpc.main",
            "data.aws_availability_zones.availabile"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_route_table",
      "name": "private_rt",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:ec2:us-east-1:321863202336:route-table/rtb-0b9d05ff180e87182",
            "id": "rtb-0b9d05ff180e87182",
            "owner_id": "321863202336",
            "propagating_vgws": [],
            "route": [
              {
                "carrier_gateway_id": "",
                "cidr_block": "0.0.0.0/0",
                "destination_prefix_list_id": "",
                "egress_only_gateway_id": "",
                "gateway_id": "",
                "instance_id": "",
                "ipv6_cidr_block": "",
                "local_gateway_id": "",
                "nat_gateway_id": "nat-0fbe94c17bfbed37f",
                "network_interface_id": "",
                "transit_gateway_id": "",
                "vpc_endpoint_id": "",
                "vpc_peering_connection_id": ""
              }
            ],
            "tags": {
              "Name": "Microservice-private-route-table"
            },
            "tags_all": {
              "Name": "Microservice-private-route-table",
              "project": "Microservice"
            },
            "timeouts": null,
            "vpc_id": "vpc-063729d25a525321f"
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjozMDAwMDAwMDAwMDAsImRlbGV0ZSI6MzAwMDAwMDAwMDAwLCJ1cGRhdGUiOjEyMDAwMDAwMDAwMH19",
          "dependencies": [
            "aws_vpc.main"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_route_table",
      "name": "public_rt",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:ec2:us-east-1:321863202336:route-table/rtb-09b8250aad3904e8b",
            "id": "rtb-09b8250aad3904e8b",
            "owner_id": "321863202336",
            "propagating_vgws": [],
            "route": [
              {
                "carrier_gateway_id": "",
                "cidr_block": "0.0.0.0/0",
                "destination_prefix_list_id": "",
                "egress_only_gateway_id": "",
                "gateway_id": "igw-02e31bad3fada8627",
                "instance_id": "",
                "ipv6_cidr_block": "",
                "local_gateway_id": "",
                "nat_gateway_id": "",
                "network_interface_id": "",
                "transit_gateway_id": "",
                "vpc_endpoint_id": "",
                "vpc_peering_connection_id": ""
              }
            ],
            "tags": {
              "Name": "Microservice-public-route-table"
            },
            "tags_all": {
              "Name": "Microservice-public-route-table",
              "project": "Microservice"
            },
            "timeouts": null,
            "vpc_id": "vpc-063729d25a525321f"
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjozMDAwMDAwMDAwMDAsImRlbGV0ZSI6MzAwMDAwMDAwMDAwLCJ1cGRhdGUiOjEyMDAwMDAwMDAwMH19",
          "dependencies": [
            "aws_vpc.main"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_route_table_association",
      "name": "private",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "index_key": 0,
          "schema_version": 0,
          "attributes": {
            "gateway_id": "",
            "id": "rtbassoc-04a1bde51b6437e56",
            "route_table_id": "rtb-0b9d05ff180e87182",
            "subnet_id": "subnet-0bbeb83d0ff5ba713"
          },
          "sensitive_attributes": [],
          "private": "bnVsbA==",
          "dependencies": [
            "aws_route_table.private_rt",
            "aws_subnet.private",
            "aws_vpc.main",
            "data.aws_availability_zones.availabile"
          ]
        },
        {
          "index_key": 1,
          "schema_version": 0,
          "attributes": {
            "gateway_id": "",
            "id": "rtbassoc-0a526ba8ba6e0d403",
            "route_table_id": "rtb-0b9d05ff180e87182",
            "subnet_id": "subnet-04e5b7eb6345ca38d"
          },
          "sensitive_attributes": [],
          "private": "bnVsbA==",
          "dependencies": [
            "aws_route_table.private_rt",
            "aws_subnet.private",
            "aws_vpc.main",
            "data.aws_availability_zones.availabile"
          ]
        },
        {
          "index_key": 2,
          "schema_version": 0,
          "attributes": {
            "gateway_id": "",
            "id": "rtbassoc-0aa2f0002b3804185",
            "route_table_id": "rtb-0b9d05ff180e87182",
            "subnet_id": "subnet-0a44d86f13a3ea809"
          },
          "sensitive_attributes": [],
          "private": "bnVsbA==",
          "dependencies": [
            "aws_route_table.private_rt",
            "aws_subnet.private",
            "aws_vpc.main",
            "data.aws_availability_zones.availabile"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_route_table_association",
      "name": "public",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "index_key": 0,
          "schema_version": 0,
          "attributes": {
            "gateway_id": "",
            "id": "rtbassoc-00b714e13f174410d",
            "route_table_id": "rtb-09b8250aad3904e8b",
            "subnet_id": "subnet-055366b6983931828"
          },
          "sensitive_attributes": [],
          "private": "bnVsbA==",
          "dependencies": [
            "aws_route_table.public_rt",
            "aws_subnet.public",
            "aws_vpc.main",
            "data.aws_availability_zones.availabile"
          ]
        },
        {
          "index_key": 1,
          "schema_version": 0,
          "attributes": {
            "gateway_id": "",
            "id": "rtbassoc-035a5176ba680f100",
            "route_table_id": "rtb-09b8250aad3904e8b",
            "subnet_id": "subnet-032653db81b4fe346"
          },
          "sensitive_attributes": [],
          "private": "bnVsbA==",
          "dependencies": [
            "aws_route_table.public_rt",
            "aws_subnet.public",
            "aws_vpc.main",
            "data.aws_availability_zones.availabile"
          ]
        },
        {
          "index_key": 2,
          "schema_version": 0,
          "attributes": {
            "gateway_id": "",
            "id": "rtbassoc-0481c5bbc1166eb07",
            "route_table_id": "rtb-09b8250aad3904e8b",
            "subnet_id": "subnet-081e3f95d78a7ed93"
          },
          "sensitive_attributes": [],
          "private": "bnVsbA==",
          "dependencies": [
            "aws_route_table.public_rt",
            "aws_subnet.public",
            "aws_vpc.main",
            "data.aws_availability_zones.availabile"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_secretsmanager_secret",
      "name": "consul_bootstrap_token",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:secretsmanager:us-east-1:321863202336:secret:Microservice-bootstrap-token-20221112145104728500000004-DGyda6",
            "description": "",
            "force_overwrite_replica_secret": false,
            "id": "arn:aws:secretsmanager:us-east-1:321863202336:secret:Microservice-bootstrap-token-20221112145104728500000004-DGyda6",
            "kms_key_id": "",
            "name": "Microservice-bootstrap-token-20221112145104728500000004",
            "name_prefix": "Microservice-bootstrap-token-",
            "policy": "",
            "recovery_window_in_days": 30,
            "replica": [],
            "rotation_enabled": false,
            "rotation_lambda_arn": "",
            "rotation_rules": [],
            "tags": {},
            "tags_all": {
              "project": "Microservice"
            }
          },
          "sensitive_attributes": [],
          "private": "bnVsbA=="
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_secretsmanager_secret",
      "name": "consul_gossip_key",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:secretsmanager:us-east-1:321863202336:secret:Microservice-gossip-key-20221112145104705800000002-bEmTO5",
            "description": "",
            "force_overwrite_replica_secret": false,
            "id": "arn:aws:secretsmanager:us-east-1:321863202336:secret:Microservice-gossip-key-20221112145104705800000002-bEmTO5",
            "kms_key_id": "",
            "name": "Microservice-gossip-key-20221112145104705800000002",
            "name_prefix": "Microservice-gossip-key-",
            "policy": "",
            "recovery_window_in_days": 30,
            "replica": [],
            "rotation_enabled": false,
            "rotation_lambda_arn": "",
            "rotation_rules": [],
            "tags": {},
            "tags_all": {
              "project": "Microservice"
            }
          },
          "sensitive_attributes": [],
          "private": "bnVsbA=="
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_secretsmanager_secret",
      "name": "consul_server_root_ca_cert",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:secretsmanager:us-east-1:321863202336:secret:Microservice-root-ca-cert-20221112145104712200000003-WB9O04",
            "description": "",
            "force_overwrite_replica_secret": false,
            "id": "arn:aws:secretsmanager:us-east-1:321863202336:secret:Microservice-root-ca-cert-20221112145104712200000003-WB9O04",
            "kms_key_id": "",
            "name": "Microservice-root-ca-cert-20221112145104712200000003",
            "name_prefix": "Microservice-root-ca-cert-",
            "policy": "",
            "recovery_window_in_days": 30,
            "replica": [],
            "rotation_enabled": false,
            "rotation_lambda_arn": "",
            "rotation_rules": [],
            "tags": {},
            "tags_all": {
              "project": "Microservice"
            }
          },
          "sensitive_attributes": [],
          "private": "bnVsbA=="
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_secretsmanager_secret_version",
      "name": "consul_bootstrap_token",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:secretsmanager:us-east-1:321863202336:secret:Microservice-bootstrap-token-20221112145104728500000004-DGyda6",
            "id": "arn:aws:secretsmanager:us-east-1:321863202336:secret:Microservice-bootstrap-token-20221112145104728500000004-DGyda6|04EC68AA-8B3C-42BE-9C8C-12D610A7957A",
            "secret_binary": "",
            "secret_id": "arn:aws:secretsmanager:us-east-1:321863202336:secret:Microservice-bootstrap-token-20221112145104728500000004-DGyda6",
            "secret_string": "85697c2a-b34b-4759-42c3-b96a868a3315",
            "version_id": "04EC68AA-8B3C-42BE-9C8C-12D610A7957A",
            "version_stages": [
              "AWSCURRENT"
            ]
          },
          "sensitive_attributes": [],
          "private": "bnVsbA==",
          "dependencies": [
            "aws_secretsmanager_secret.consul_bootstrap_token",
            "random_uuid.consul_bootstrap_token"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_secretsmanager_secret_version",
      "name": "consul_gossip_key",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:secretsmanager:us-east-1:321863202336:secret:Microservice-gossip-key-20221112145104705800000002-bEmTO5",
            "id": "arn:aws:secretsmanager:us-east-1:321863202336:secret:Microservice-gossip-key-20221112145104705800000002-bEmTO5|DB6F1D92-6B2F-4EC7-990B-AA22DFE4517E",
            "secret_binary": "",
            "secret_id": "arn:aws:secretsmanager:us-east-1:321863202336:secret:Microservice-gossip-key-20221112145104705800000002-bEmTO5",
            "secret_string": "7atOmRVh0+o9/RRL76n0+xjgjOZZB4YRtJFrwuLUmJc=",
            "version_id": "DB6F1D92-6B2F-4EC7-990B-AA22DFE4517E",
            "version_stages": [
              "AWSCURRENT"
            ]
          },
          "sensitive_attributes": [],
          "private": "bnVsbA==",
          "dependencies": [
            "aws_secretsmanager_secret.consul_gossip_key",
            "random_id.consul_gossip_key"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_secretsmanager_secret_version",
      "name": "consul_server_root_ca_cert",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:secretsmanager:us-east-1:321863202336:secret:Microservice-root-ca-cert-20221112145104712200000003-WB9O04",
            "id": "arn:aws:secretsmanager:us-east-1:321863202336:secret:Microservice-root-ca-cert-20221112145104712200000003-WB9O04|C76B8B68-CB65-4EDE-83E5-6EB92335DDEF",
            "secret_binary": "",
            "secret_id": "arn:aws:secretsmanager:us-east-1:321863202336:secret:Microservice-root-ca-cert-20221112145104712200000003-WB9O04",
            "secret_string": "-----BEGIN CERTIFICATE-----\nMIIBqDCCAU2gAwIBAgIRAK2Yyb526faKLe7FQZyCHcIwCgYIKoZIzj0EAwIwMzEX\nMBUGA1UEChMOSGFzaGlDb3JwIEluYy4xGDAWBgNVBAMTD0NvbnN1bCBBZ2VudCBD\nQTAeFw0yMjExMTIxNDUxMDRaFw0yMzExMTIxNDUxMDRaMDMxFzAVBgNVBAoTDkhh\nc2hpQ29ycCBJbmMuMRgwFgYDVQQDEw9Db25zdWwgQWdlbnQgQ0EwWTATBgcqhkjO\nPQIBBggqhkjOPQMBBwNCAARAs3cfXaA9ydPPVXg0TmfVNa+UZYnL7QWNCk7PnHx7\nqr10B1sSvD7EMTz2f0axCdSgogkYnWWWNxOtLZqgu8uZo0IwQDAOBgNVHQ8BAf8E\nBAMCAqQwDwYDVR0TAQH/BAUwAwEB/zAdBgNVHQ4EFgQUcg0DVtsbJ5UiMvSjssk6\naDvAVH0wCgYIKoZIzj0EAwIDSQAwRgIhAMT4iBGihCu3uc7qkUIYBjvTsgf1feNg\noFOITbGulbGHAiEAqSCt/vGHTfF6+iqMdQODwCp+uRTnKEf6tMxp33ARm1w=\n-----END CERTIFICATE-----\n",
            "version_id": "C76B8B68-CB65-4EDE-83E5-6EB92335DDEF",
            "version_stages": [
              "AWSCURRENT"
            ]
          },
          "sensitive_attributes": [],
          "private": "bnVsbA==",
          "dependencies": [
            "aws_secretsmanager_secret.consul_server_root_ca_cert",
            "tls_private_key.ca_key",
            "tls_self_signed_cert.ca_cert"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_security_group",
      "name": "acl_controller",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 1,
          "attributes": {
            "arn": "arn:aws:ec2:us-east-1:321863202336:security-group/sg-0857dbcfcc05bae7b",
            "description": "Consul ACL Controller service security group.",
            "egress": [
              {
                "cidr_blocks": [
                  "0.0.0.0/0"
                ],
                "description": "Allow any outbound traffic.",
                "from_port": 0,
                "ipv6_cidr_blocks": [
                  "::/0"
                ],
                "prefix_list_ids": [],
                "protocol": "-1",
                "security_groups": [],
                "self": false,
                "to_port": 0
              }
            ],
            "id": "sg-0857dbcfcc05bae7b",
            "ingress": [
              {
                "cidr_blocks": [],
                "description": "Allow traffic from resources with this security group.",
                "from_port": 0,
                "ipv6_cidr_blocks": [],
                "prefix_list_ids": [],
                "protocol": "-1",
                "security_groups": [],
                "self": true,
                "to_port": 0
              }
            ],
            "name": "Microservice-acl-controller-2022111214512759420000000c",
            "name_prefix": "Microservice-acl-controller-",
            "owner_id": "321863202336",
            "revoke_rules_on_delete": false,
            "tags": {},
            "tags_all": {
              "project": "Microservice"
            },
            "timeouts": null,
            "vpc_id": "vpc-063729d25a525321f"
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDAsImRlbGV0ZSI6OTAwMDAwMDAwMDAwfSwic2NoZW1hX3ZlcnNpb24iOiIxIn0=",
          "dependencies": [
            "aws_vpc.main"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_security_group",
      "name": "client_lb",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 1,
          "attributes": {
            "arn": "arn:aws:ec2:us-east-1:321863202336:security-group/sg-0fabe5ddb4777f433",
            "description": "security group for client service application load balancer",
            "egress": [
              {
                "cidr_blocks": [
                  "0.0.0.0/0"
                ],
                "description": "Allow all outbound traffic.",
                "from_port": 0,
                "ipv6_cidr_blocks": [
                  "::/0"
                ],
                "prefix_list_ids": [],
                "protocol": "-1",
                "security_groups": [],
                "self": false,
                "to_port": 0
              }
            ],
            "id": "sg-0fabe5ddb4777f433",
            "ingress": [
              {
                "cidr_blocks": [
                  "0.0.0.0/0"
                ],
                "description": "Allow HTTP traffic on port 80.",
                "from_port": 80,
                "ipv6_cidr_blocks": [
                  "::/0"
                ],
                "prefix_list_ids": [],
                "protocol": "tcp",
                "security_groups": [],
                "self": false,
                "to_port": 80
              }
            ],
            "name": "Microservice-ecs-client-lb20221112145128813400000010",
            "name_prefix": "Microservice-ecs-client-lb",
            "owner_id": "321863202336",
            "revoke_rules_on_delete": false,
            "tags": {},
            "tags_all": {
              "project": "Microservice"
            },
            "timeouts": null,
            "vpc_id": "vpc-063729d25a525321f"
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDAsImRlbGV0ZSI6OTAwMDAwMDAwMDAwfSwic2NoZW1hX3ZlcnNpb24iOiIxIn0=",
          "dependencies": [
            "aws_vpc.main"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_security_group",
      "name": "consul_client",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 1,
          "attributes": {
            "arn": "arn:aws:ec2:us-east-1:321863202336:security-group/sg-01a0d8ba570778729",
            "description": "General security group for consul clients.",
            "egress": [
              {
                "cidr_blocks": [
                  "0.0.0.0/0"
                ],
                "description": "Allow any outbound traffic.",
                "from_port": 0,
                "ipv6_cidr_blocks": [
                  "::/0"
                ],
                "prefix_list_ids": [],
                "protocol": "-1",
                "security_groups": [],
                "self": false,
                "to_port": 0
              }
            ],
            "id": "sg-01a0d8ba570778729",
            "ingress": [
              {
                "cidr_blocks": [],
                "description": "Allow LAN Serf traffic from resources with this security group.",
                "from_port": 8301,
                "ipv6_cidr_blocks": [],
                "prefix_list_ids": [],
                "protocol": "tcp",
                "security_groups": [],
                "self": true,
                "to_port": 8301
              },
              {
                "cidr_blocks": [],
                "description": "Allow Proxy traffic from resources with this security group.",
                "from_port": 20000,
                "ipv6_cidr_blocks": [],
                "prefix_list_ids": [],
                "protocol": "tcp",
                "security_groups": [],
                "self": true,
                "to_port": 20000
              }
            ],
            "name": "Microservice-consul-client-2022111214512680840000000b",
            "name_prefix": "Microservice-consul-client-",
            "owner_id": "321863202336",
            "revoke_rules_on_delete": false,
            "tags": {},
            "tags_all": {
              "project": "Microservice"
            },
            "timeouts": null,
            "vpc_id": "vpc-063729d25a525321f"
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDAsImRlbGV0ZSI6OTAwMDAwMDAwMDAwfSwic2NoZW1hX3ZlcnNpb24iOiIxIn0=",
          "dependencies": [
            "aws_vpc.main"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_security_group",
      "name": "consul_server",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 1,
          "attributes": {
            "arn": "arn:aws:ec2:us-east-1:321863202336:security-group/sg-099249b9de6500d0a",
            "description": "Security group for Consul servers",
            "egress": [
              {
                "cidr_blocks": [
                  "0.0.0.0/0"
                ],
                "description": "Allow all outbound traffic.",
                "from_port": 0,
                "ipv6_cidr_blocks": [
                  "::/0"
                ],
                "prefix_list_ids": [],
                "protocol": "-1",
                "security_groups": [],
                "self": false,
                "to_port": 0
              }
            ],
            "id": "sg-099249b9de6500d0a",
            "ingress": [
              {
                "cidr_blocks": [],
                "description": "Allow HTTP API traffic from Consul Client to Server.",
                "from_port": 8500,
                "ipv6_cidr_blocks": [],
                "prefix_list_ids": [],
                "protocol": "tcp",
                "security_groups": [
                  "sg-01a0d8ba570778729"
                ],
                "self": false,
                "to_port": 8500
              },
              {
                "cidr_blocks": [],
                "description": "Allow HTTP traffic from Load Balancer to the Consul Server API.",
                "from_port": 8500,
                "ipv6_cidr_blocks": [],
                "prefix_list_ids": [],
                "protocol": "tcp",
                "security_groups": [
                  "sg-0b0c486662f6fb5da"
                ],
                "self": false,
                "to_port": 8500
              },
              {
                "cidr_blocks": [],
                "description": "Allow HTTPS API traffic from Consul Client to Server.",
                "from_port": 8501,
                "ipv6_cidr_blocks": [],
                "prefix_list_ids": [],
                "protocol": "tcp",
                "security_groups": [
                  "sg-01a0d8ba570778729"
                ],
                "self": false,
                "to_port": 8501
              },
              {
                "cidr_blocks": [],
                "description": "Allow HTTPS API traffic from Consul Server to Server.",
                "from_port": 8501,
                "ipv6_cidr_blocks": [],
                "prefix_list_ids": [],
                "protocol": "tcp",
                "security_groups": [],
                "self": true,
                "to_port": 8501
              },
              {
                "cidr_blocks": [],
                "description": "Allow LAN gossip between consul servers for cluster membership, distributed health checks of agents",
                "from_port": 8301,
                "ipv6_cidr_blocks": [],
                "prefix_list_ids": [],
                "protocol": "tcp",
                "security_groups": [],
                "self": true,
                "to_port": 8301
              },
              {
                "cidr_blocks": [],
                "description": "Allow LAN gossip traffic from Consul Client to Server.  For data replication between servers.",
                "from_port": 8301,
                "ipv6_cidr_blocks": [],
                "prefix_list_ids": [],
                "protocol": "tcp",
                "security_groups": [
                  "sg-01a0d8ba570778729"
                ],
                "self": false,
                "to_port": 8301
              },
              {
                "cidr_blocks": [],
                "description": "Allow RPC traffic between consul servers for data replication",
                "from_port": 8300,
                "ipv6_cidr_blocks": [],
                "prefix_list_ids": [],
                "protocol": "tcp",
                "security_groups": [],
                "self": true,
                "to_port": 8300
              },
              {
                "cidr_blocks": [],
                "description": "Allow RPC traffic from Consul Client to Server.  For data replication between servers.",
                "from_port": 8300,
                "ipv6_cidr_blocks": [],
                "prefix_list_ids": [],
                "protocol": "tcp",
                "security_groups": [
                  "sg-01a0d8ba570778729"
                ],
                "self": false,
                "to_port": 8300
              },
              {
                "cidr_blocks": [],
                "description": "Allow WAN gossip traffic between consul servers for data replication accross data centers",
                "from_port": 8302,
                "ipv6_cidr_blocks": [],
                "prefix_list_ids": [],
                "protocol": "tcp",
                "security_groups": [],
                "self": true,
                "to_port": 8302
              }
            ],
            "name": "Microservice-consul-server20221112145126789400000009",
            "name_prefix": "Microservice-consul-server",
            "owner_id": "321863202336",
            "revoke_rules_on_delete": false,
            "tags": {},
            "tags_all": {
              "project": "Microservice"
            },
            "timeouts": null,
            "vpc_id": "vpc-063729d25a525321f"
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDAsImRlbGV0ZSI6OTAwMDAwMDAwMDAwfSwic2NoZW1hX3ZlcnNpb24iOiIxIn0=",
          "dependencies": [
            "aws_vpc.main"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_security_group",
      "name": "consul_server_lb",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 1,
          "attributes": {
            "arn": "arn:aws:ec2:us-east-1:321863202336:security-group/sg-0b0c486662f6fb5da",
            "description": "Security Group for the consul server lb",
            "egress": [
              {
                "cidr_blocks": [
                  "0.0.0.0/0"
                ],
                "description": "Allow any outbound traffic.",
                "from_port": 0,
                "ipv6_cidr_blocks": [
                  "::/0"
                ],
                "prefix_list_ids": [],
                "protocol": "-1",
                "security_groups": [],
                "self": false,
                "to_port": 0
              }
            ],
            "id": "sg-0b0c486662f6fb5da",
            "ingress": [
              {
                "cidr_blocks": [
                  "0.0.0.0/0",
                  "10.255.0.0/20"
                ],
                "description": "Allow HTTP traffic.",
                "from_port": 80,
                "ipv6_cidr_blocks": [],
                "prefix_list_ids": [],
                "protocol": "tcp",
                "security_groups": [],
                "self": false,
                "to_port": 80
              }
            ],
            "name": "Microservice-consul-server-lb20221112145126783800000007",
            "name_prefix": "Microservice-consul-server-lb",
            "owner_id": "321863202336",
            "revoke_rules_on_delete": false,
            "tags": {},
            "tags_all": {
              "project": "Microservice"
            },
            "timeouts": null,
            "vpc_id": "vpc-063729d25a525321f"
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDAsImRlbGV0ZSI6OTAwMDAwMDAwMDAwfSwic2NoZW1hX3ZlcnNpb24iOiIxIn0=",
          "dependencies": [
            "aws_vpc.main"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_security_group",
      "name": "database",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 1,
          "attributes": {
            "arn": "arn:aws:ec2:us-east-1:321863202336:security-group/sg-0ac3f4150d01861c6",
            "description": "Database security group.",
            "egress": [
              {
                "cidr_blocks": [
                  "0.0.0.0/0"
                ],
                "description": "Allow all outbound traffic.",
                "from_port": 0,
                "ipv6_cidr_blocks": [
                  "::/0"
                ],
                "prefix_list_ids": [],
                "protocol": "-1",
                "security_groups": [],
                "self": false,
                "to_port": 0
              }
            ],
            "id": "sg-0ac3f4150d01861c6",
            "ingress": [
              {
                "cidr_blocks": [],
                "description": "Allow incoming traffic from the fruits service.",
                "from_port": 27017,
                "ipv6_cidr_blocks": [],
                "prefix_list_ids": [],
                "protocol": "tcp",
                "security_groups": [
                  "sg-00ef2f09f17783f2e"
                ],
                "self": false,
                "to_port": 27017
              },
              {
                "cidr_blocks": [],
                "description": "Allow incoming traffic from the vegetables service.",
                "from_port": 27017,
                "ipv6_cidr_blocks": [],
                "prefix_list_ids": [],
                "protocol": "tcp",
                "security_groups": [
                  "sg-0c252702870e44a7a"
                ],
                "self": false,
                "to_port": 27017
              }
            ],
            "name": "Microservice-database20221112145128983000000011",
            "name_prefix": "Microservice-database",
            "owner_id": "321863202336",
            "revoke_rules_on_delete": false,
            "tags": {},
            "tags_all": {
              "project": "Microservice"
            },
            "timeouts": null,
            "vpc_id": "vpc-063729d25a525321f"
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDAsImRlbGV0ZSI6OTAwMDAwMDAwMDAwfSwic2NoZW1hX3ZlcnNpb24iOiIxIn0=",
          "dependencies": [
            "aws_vpc.main"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_security_group",
      "name": "ecs_client_service",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 1,
          "attributes": {
            "arn": "arn:aws:ec2:us-east-1:321863202336:security-group/sg-0cffc3728a1b93aa4",
            "description": "ECS Client service security group.",
            "egress": [
              {
                "cidr_blocks": [
                  "0.0.0.0/0"
                ],
                "description": "Allow all outbound traffic.",
                "from_port": 0,
                "ipv6_cidr_blocks": [
                  "::/0"
                ],
                "prefix_list_ids": [],
                "protocol": "-1",
                "security_groups": [],
                "self": false,
                "to_port": 0
              }
            ],
            "id": "sg-0cffc3728a1b93aa4",
            "ingress": [
              {
                "cidr_blocks": [],
                "description": "Allow incoming traffic from the client LB to the service container port.",
                "from_port": 9090,
                "ipv6_cidr_blocks": [],
                "prefix_list_ids": [],
                "protocol": "tcp",
                "security_groups": [
                  "sg-0fabe5ddb4777f433"
                ],
                "self": false,
                "to_port": 9090
              },
              {
                "cidr_blocks": [],
                "description": "Allow traffic from resources with this security group.",
                "from_port": 0,
                "ipv6_cidr_blocks": [],
                "prefix_list_ids": [],
                "protocol": "-1",
                "security_groups": [],
                "self": true,
                "to_port": 0
              }
            ],
            "name": "Microservice-ecs-client-service2022111214512770810000000d",
            "name_prefix": "Microservice-ecs-client-service",
            "owner_id": "321863202336",
            "revoke_rules_on_delete": false,
            "tags": {},
            "tags_all": {
              "project": "Microservice"
            },
            "timeouts": null,
            "vpc_id": "vpc-063729d25a525321f"
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDAsImRlbGV0ZSI6OTAwMDAwMDAwMDAwfSwic2NoZW1hX3ZlcnNpb24iOiIxIn0=",
          "dependencies": [
            "aws_vpc.main"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_security_group",
      "name": "ecs_fruits_service",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 1,
          "attributes": {
            "arn": "arn:aws:ec2:us-east-1:321863202336:security-group/sg-0c252702870e44a7a",
            "description": "ECS fruits service security group.",
            "egress": [
              {
                "cidr_blocks": [
                  "0.0.0.0/0"
                ],
                "description": "Allow all outbound traffic.",
                "from_port": 0,
                "ipv6_cidr_blocks": [
                  "::/0"
                ],
                "prefix_list_ids": [],
                "protocol": "-1",
                "security_groups": [],
                "self": false,
                "to_port": 0
              }
            ],
            "id": "sg-0c252702870e44a7a",
            "ingress": [
              {
                "cidr_blocks": [],
                "description": "Allow traffic from resources with this security group.",
                "from_port": 0,
                "ipv6_cidr_blocks": [],
                "prefix_list_ids": [],
                "protocol": "-1",
                "security_groups": [],
                "self": true,
                "to_port": 0
              }
            ],
            "name": "Microservice-ecs-fruits-service20221112145126788500000008",
            "name_prefix": "Microservice-ecs-fruits-service",
            "owner_id": "321863202336",
            "revoke_rules_on_delete": false,
            "tags": {},
            "tags_all": {
              "project": "Microservice"
            },
            "timeouts": null,
            "vpc_id": "vpc-063729d25a525321f"
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDAsImRlbGV0ZSI6OTAwMDAwMDAwMDAwfSwic2NoZW1hX3ZlcnNpb24iOiIxIn0=",
          "dependencies": [
            "aws_vpc.main"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_security_group",
      "name": "ecs_vegetables_service",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 1,
          "attributes": {
            "arn": "arn:aws:ec2:us-east-1:321863202336:security-group/sg-00ef2f09f17783f2e",
            "description": "ECS vegetables service security group.",
            "egress": [
              {
                "cidr_blocks": [
                  "0.0.0.0/0"
                ],
                "description": "Allow all outbound traffic.",
                "from_port": 0,
                "ipv6_cidr_blocks": [
                  "::/0"
                ],
                "prefix_list_ids": [],
                "protocol": "-1",
                "security_groups": [],
                "self": false,
                "to_port": 0
              }
            ],
            "id": "sg-00ef2f09f17783f2e",
            "ingress": [
              {
                "cidr_blocks": [],
                "description": "Allow traffic from resources with this security group.",
                "from_port": 0,
                "ipv6_cidr_blocks": [],
                "prefix_list_ids": [],
                "protocol": "-1",
                "security_groups": [],
                "self": true,
                "to_port": 0
              }
            ],
            "name": "Microservice-ecs-vegetables-service2022111214512878890000000f",
            "name_prefix": "Microservice-ecs-vegetables-service",
            "owner_id": "321863202336",
            "revoke_rules_on_delete": false,
            "tags": {},
            "tags_all": {
              "project": "Microservice"
            },
            "timeouts": null,
            "vpc_id": "vpc-063729d25a525321f"
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDAsImRlbGV0ZSI6OTAwMDAwMDAwMDAwfSwic2NoZW1hX3ZlcnNpb24iOiIxIn0=",
          "dependencies": [
            "aws_vpc.main"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_security_group_rule",
      "name": "acl_controller_allow_inbound_self",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 2,
          "attributes": {
            "cidr_blocks": [],
            "description": "Allow traffic from resources with this security group.",
            "from_port": 0,
            "id": "sgrule-2941312375",
            "ipv6_cidr_blocks": [],
            "prefix_list_ids": [],
            "protocol": "-1",
            "security_group_id": "sg-0857dbcfcc05bae7b",
            "self": true,
            "source_security_group_id": "sg-0857dbcfcc05bae7b",
            "to_port": 0,
            "type": "ingress"
          },
          "sensitive_attributes": [],
          "private": "eyJzY2hlbWFfdmVyc2lvbiI6IjIifQ==",
          "dependencies": [
            "aws_security_group.acl_controller",
            "aws_vpc.main"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_security_group_rule",
      "name": "acl_controller_allow_outbound",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 2,
          "attributes": {
            "cidr_blocks": [
              "0.0.0.0/0"
            ],
            "description": "Allow any outbound traffic.",
            "from_port": 0,
            "id": "sgrule-933820879",
            "ipv6_cidr_blocks": [
              "::/0"
            ],
            "prefix_list_ids": [],
            "protocol": "-1",
            "security_group_id": "sg-0857dbcfcc05bae7b",
            "self": false,
            "source_security_group_id": null,
            "to_port": 0,
            "type": "egress"
          },
          "sensitive_attributes": [],
          "private": "eyJzY2hlbWFfdmVyc2lvbiI6IjIifQ==",
          "dependencies": [
            "aws_security_group.acl_controller",
            "aws_vpc.main"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_security_group_rule",
      "name": "client_lb",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 2,
          "attributes": {
            "cidr_blocks": [
              "0.0.0.0/0"
            ],
            "description": "Allow all outbound traffic.",
            "from_port": 0,
            "id": "sgrule-3443499029",
            "ipv6_cidr_blocks": [
              "::/0"
            ],
            "prefix_list_ids": [],
            "protocol": "-1",
            "security_group_id": "sg-0fabe5ddb4777f433",
            "self": false,
            "source_security_group_id": null,
            "to_port": 0,
            "type": "egress"
          },
          "sensitive_attributes": [],
          "private": "eyJzY2hlbWFfdmVyc2lvbiI6IjIifQ==",
          "dependencies": [
            "aws_security_group.client_lb",
            "aws_vpc.main"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_security_group_rule",
      "name": "client_lb_inbound_80",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 2,
          "attributes": {
            "cidr_blocks": [
              "0.0.0.0/0"
            ],
            "description": "Allow HTTP traffic on port 80.",
            "from_port": 80,
            "id": "sgrule-2375374687",
            "ipv6_cidr_blocks": [
              "::/0"
            ],
            "prefix_list_ids": [],
            "protocol": "tcp",
            "security_group_id": "sg-0fabe5ddb4777f433",
            "self": false,
            "source_security_group_id": null,
            "to_port": 80,
            "type": "ingress"
          },
          "sensitive_attributes": [],
          "private": "eyJzY2hlbWFfdmVyc2lvbiI6IjIifQ==",
          "dependencies": [
            "aws_security_group.client_lb",
            "aws_vpc.main"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_security_group_rule",
      "name": "consul_allow_outbound",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 2,
          "attributes": {
            "cidr_blocks": [
              "0.0.0.0/0"
            ],
            "description": "Allow all outbound traffic.",
            "from_port": 0,
            "id": "sgrule-3083625026",
            "ipv6_cidr_blocks": [
              "::/0"
            ],
            "prefix_list_ids": [],
            "protocol": "-1",
            "security_group_id": "sg-099249b9de6500d0a",
            "self": false,
            "source_security_group_id": null,
            "to_port": 0,
            "type": "egress"
          },
          "sensitive_attributes": [],
          "private": "eyJzY2hlbWFfdmVyc2lvbiI6IjIifQ==",
          "dependencies": [
            "aws_security_group.consul_server",
            "aws_vpc.main"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_security_group_rule",
      "name": "consul_client_allow_inbound_self_20000",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 2,
          "attributes": {
            "cidr_blocks": [],
            "description": "Allow Proxy traffic from resources with this security group.",
            "from_port": 20000,
            "id": "sgrule-2676440499",
            "ipv6_cidr_blocks": [],
            "prefix_list_ids": [],
            "protocol": "tcp",
            "security_group_id": "sg-01a0d8ba570778729",
            "self": true,
            "source_security_group_id": "sg-01a0d8ba570778729",
            "to_port": 20000,
            "type": "ingress"
          },
          "sensitive_attributes": [],
          "private": "eyJzY2hlbWFfdmVyc2lvbiI6IjIifQ==",
          "dependencies": [
            "aws_security_group.consul_client",
            "aws_vpc.main"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_security_group_rule",
      "name": "consul_client_allow_inbound_self_8301",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 2,
          "attributes": {
            "cidr_blocks": [],
            "description": "Allow LAN Serf traffic from resources with this security group.",
            "from_port": 8301,
            "id": "sgrule-1557817536",
            "ipv6_cidr_blocks": [],
            "prefix_list_ids": [],
            "protocol": "tcp",
            "security_group_id": "sg-01a0d8ba570778729",
            "self": true,
            "source_security_group_id": "sg-01a0d8ba570778729",
            "to_port": 8301,
            "type": "ingress"
          },
          "sensitive_attributes": [],
          "private": "eyJzY2hlbWFfdmVyc2lvbiI6IjIifQ==",
          "dependencies": [
            "aws_security_group.consul_client",
            "aws_vpc.main"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_security_group_rule",
      "name": "consul_client_allow_outbound",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 2,
          "attributes": {
            "cidr_blocks": [
              "0.0.0.0/0"
            ],
            "description": "Allow any outbound traffic.",
            "from_port": 0,
            "id": "sgrule-1182992585",
            "ipv6_cidr_blocks": [
              "::/0"
            ],
            "prefix_list_ids": [],
            "protocol": "-1",
            "security_group_id": "sg-01a0d8ba570778729",
            "self": false,
            "source_security_group_id": null,
            "to_port": 0,
            "type": "egress"
          },
          "sensitive_attributes": [],
          "private": "eyJzY2hlbWFfdmVyc2lvbiI6IjIifQ==",
          "dependencies": [
            "aws_security_group.consul_client",
            "aws_vpc.main"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_security_group_rule",
      "name": "consul_server_allow_8300",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 2,
          "attributes": {
            "cidr_blocks": [],
            "description": "Allow RPC traffic between consul servers for data replication",
            "from_port": 8300,
            "id": "sgrule-3963256537",
            "ipv6_cidr_blocks": [],
            "prefix_list_ids": [],
            "protocol": "tcp",
            "security_group_id": "sg-099249b9de6500d0a",
            "self": true,
            "source_security_group_id": "sg-099249b9de6500d0a",
            "to_port": 8300,
            "type": "ingress"
          },
          "sensitive_attributes": [],
          "private": "eyJzY2hlbWFfdmVyc2lvbiI6IjIifQ==",
          "dependencies": [
            "aws_security_group.consul_server",
            "aws_vpc.main"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_security_group_rule",
      "name": "consul_server_allow_8301",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 2,
          "attributes": {
            "cidr_blocks": [],
            "description": "Allow LAN gossip between consul servers for cluster membership, distributed health checks of agents",
            "from_port": 8301,
            "id": "sgrule-2438806253",
            "ipv6_cidr_blocks": [],
            "prefix_list_ids": [],
            "protocol": "tcp",
            "security_group_id": "sg-099249b9de6500d0a",
            "self": true,
            "source_security_group_id": "sg-099249b9de6500d0a",
            "to_port": 8301,
            "type": "ingress"
          },
          "sensitive_attributes": [],
          "private": "eyJzY2hlbWFfdmVyc2lvbiI6IjIifQ==",
          "dependencies": [
            "aws_security_group.consul_server",
            "aws_vpc.main"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_security_group_rule",
      "name": "consul_server_allow_8302",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 2,
          "attributes": {
            "cidr_blocks": [],
            "description": "Allow WAN gossip traffic between consul servers for data replication accross data centers",
            "from_port": 8302,
            "id": "sgrule-385152689",
            "ipv6_cidr_blocks": [],
            "prefix_list_ids": [],
            "protocol": "tcp",
            "security_group_id": "sg-099249b9de6500d0a",
            "self": true,
            "source_security_group_id": "sg-099249b9de6500d0a",
            "to_port": 8302,
            "type": "ingress"
          },
          "sensitive_attributes": [],
          "private": "eyJzY2hlbWFfdmVyc2lvbiI6IjIifQ==",
          "dependencies": [
            "aws_security_group.consul_server",
            "aws_vpc.main"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_security_group_rule",
      "name": "consul_server_allow_client_8300",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 2,
          "attributes": {
            "cidr_blocks": [],
            "description": "Allow RPC traffic from Consul Client to Server.  For data replication between servers.",
            "from_port": 8300,
            "id": "sgrule-1378024202",
            "ipv6_cidr_blocks": [],
            "prefix_list_ids": [],
            "protocol": "tcp",
            "security_group_id": "sg-099249b9de6500d0a",
            "self": false,
            "source_security_group_id": "sg-01a0d8ba570778729",
            "to_port": 8300,
            "type": "ingress"
          },
          "sensitive_attributes": [],
          "private": "eyJzY2hlbWFfdmVyc2lvbiI6IjIifQ==",
          "dependencies": [
            "aws_security_group.consul_client",
            "aws_security_group.consul_server",
            "aws_vpc.main"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_security_group_rule",
      "name": "consul_server_allow_client_8301",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 2,
          "attributes": {
            "cidr_blocks": [],
            "description": "Allow LAN gossip traffic from Consul Client to Server.  For data replication between servers.",
            "from_port": 8301,
            "id": "sgrule-793100094",
            "ipv6_cidr_blocks": [],
            "prefix_list_ids": [],
            "protocol": "tcp",
            "security_group_id": "sg-099249b9de6500d0a",
            "self": false,
            "source_security_group_id": "sg-01a0d8ba570778729",
            "to_port": 8301,
            "type": "ingress"
          },
          "sensitive_attributes": [],
          "private": "eyJzY2hlbWFfdmVyc2lvbiI6IjIifQ==",
          "dependencies": [
            "aws_security_group.consul_client",
            "aws_security_group.consul_server",
            "aws_vpc.main"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_security_group_rule",
      "name": "consul_server_allow_client_8500",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 2,
          "attributes": {
            "cidr_blocks": [],
            "description": "Allow HTTP API traffic from Consul Client to Server.",
            "from_port": 8500,
            "id": "sgrule-2162936735",
            "ipv6_cidr_blocks": [],
            "prefix_list_ids": [],
            "protocol": "tcp",
            "security_group_id": "sg-099249b9de6500d0a",
            "self": false,
            "source_security_group_id": "sg-01a0d8ba570778729",
            "to_port": 8500,
            "type": "ingress"
          },
          "sensitive_attributes": [],
          "private": "eyJzY2hlbWFfdmVyc2lvbiI6IjIifQ==",
          "dependencies": [
            "aws_security_group.consul_client",
            "aws_security_group.consul_server",
            "aws_vpc.main"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_security_group_rule",
      "name": "consul_server_allow_client_8501",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 2,
          "attributes": {
            "cidr_blocks": [],
            "description": "Allow HTTPS API traffic from Consul Client to Server.",
            "from_port": 8501,
            "id": "sgrule-4253847467",
            "ipv6_cidr_blocks": [],
            "prefix_list_ids": [],
            "protocol": "tcp",
            "security_group_id": "sg-099249b9de6500d0a",
            "self": false,
            "source_security_group_id": "sg-01a0d8ba570778729",
            "to_port": 8501,
            "type": "ingress"
          },
          "sensitive_attributes": [],
          "private": "eyJzY2hlbWFfdmVyc2lvbiI6IjIifQ==",
          "dependencies": [
            "aws_security_group.consul_client",
            "aws_security_group.consul_server",
            "aws_vpc.main"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_security_group_rule",
      "name": "consul_server_allow_lb_8500",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 2,
          "attributes": {
            "cidr_blocks": [],
            "description": "Allow HTTP traffic from Load Balancer to the Consul Server API.",
            "from_port": 8500,
            "id": "sgrule-2981976876",
            "ipv6_cidr_blocks": [],
            "prefix_list_ids": [],
            "protocol": "tcp",
            "security_group_id": "sg-099249b9de6500d0a",
            "self": false,
            "source_security_group_id": "sg-0b0c486662f6fb5da",
            "to_port": 8500,
            "type": "ingress"
          },
          "sensitive_attributes": [],
          "private": "eyJzY2hlbWFfdmVyc2lvbiI6IjIifQ==",
          "dependencies": [
            "aws_security_group.consul_server",
            "aws_security_group.consul_server_lb",
            "aws_vpc.main"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_security_group_rule",
      "name": "consul_server_allow_server_8501",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 2,
          "attributes": {
            "cidr_blocks": [],
            "description": "Allow HTTPS API traffic from Consul Server to Server.",
            "from_port": 8501,
            "id": "sgrule-1133775480",
            "ipv6_cidr_blocks": [],
            "prefix_list_ids": [],
            "protocol": "tcp",
            "security_group_id": "sg-099249b9de6500d0a",
            "self": true,
            "source_security_group_id": "sg-099249b9de6500d0a",
            "to_port": 8501,
            "type": "ingress"
          },
          "sensitive_attributes": [],
          "private": "eyJzY2hlbWFfdmVyc2lvbiI6IjIifQ==",
          "dependencies": [
            "aws_security_group.consul_server",
            "aws_vpc.main"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_security_group_rule",
      "name": "consul_server_lb_allow_80",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 2,
          "attributes": {
            "cidr_blocks": [
              "0.0.0.0/0",
              "10.255.0.0/20"
            ],
            "description": "Allow HTTP traffic.",
            "from_port": 80,
            "id": "sgrule-2802038608",
            "ipv6_cidr_blocks": [],
            "prefix_list_ids": [],
            "protocol": "tcp",
            "security_group_id": "sg-0b0c486662f6fb5da",
            "self": false,
            "source_security_group_id": null,
            "to_port": 80,
            "type": "ingress"
          },
          "sensitive_attributes": [],
          "private": "eyJzY2hlbWFfdmVyc2lvbiI6IjIifQ==",
          "dependencies": [
            "aws_security_group.consul_server_lb",
            "aws_vpc.main"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_security_group_rule",
      "name": "consul_server_lb_allow_outbound",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 2,
          "attributes": {
            "cidr_blocks": [
              "0.0.0.0/0"
            ],
            "description": "Allow any outbound traffic.",
            "from_port": 0,
            "id": "sgrule-2327963212",
            "ipv6_cidr_blocks": [
              "::/0"
            ],
            "prefix_list_ids": [],
            "protocol": "-1",
            "security_group_id": "sg-0b0c486662f6fb5da",
            "self": false,
            "source_security_group_id": null,
            "to_port": 0,
            "type": "egress"
          },
          "sensitive_attributes": [],
          "private": "eyJzY2hlbWFfdmVyc2lvbiI6IjIifQ==",
          "dependencies": [
            "aws_security_group.consul_server_lb",
            "aws_vpc.main"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_security_group_rule",
      "name": "database_allow_fruits_27017",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 2,
          "attributes": {
            "cidr_blocks": [],
            "description": "Allow incoming traffic from the vegetables service.",
            "from_port": 27017,
            "id": "sgrule-4219356278",
            "ipv6_cidr_blocks": [],
            "prefix_list_ids": [],
            "protocol": "tcp",
            "security_group_id": "sg-0ac3f4150d01861c6",
            "self": false,
            "source_security_group_id": "sg-0c252702870e44a7a",
            "to_port": 27017,
            "type": "ingress"
          },
          "sensitive_attributes": [],
          "private": "eyJzY2hlbWFfdmVyc2lvbiI6IjIifQ==",
          "dependencies": [
            "aws_security_group.database",
            "aws_security_group.ecs_fruits_service",
            "aws_vpc.main"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_security_group_rule",
      "name": "database_allow_outbound",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 2,
          "attributes": {
            "cidr_blocks": [
              "0.0.0.0/0"
            ],
            "description": "Allow all outbound traffic.",
            "from_port": 0,
            "id": "sgrule-14325756",
            "ipv6_cidr_blocks": [
              "::/0"
            ],
            "prefix_list_ids": [],
            "protocol": "-1",
            "security_group_id": "sg-0ac3f4150d01861c6",
            "self": false,
            "source_security_group_id": null,
            "to_port": 0,
            "type": "egress"
          },
          "sensitive_attributes": [],
          "private": "eyJzY2hlbWFfdmVyc2lvbiI6IjIifQ==",
          "dependencies": [
            "aws_security_group.database",
            "aws_vpc.main"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_security_group_rule",
      "name": "database_allow_vegetables_27017",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 2,
          "attributes": {
            "cidr_blocks": [],
            "description": "Allow incoming traffic from the fruits service.",
            "from_port": 27017,
            "id": "sgrule-3383887608",
            "ipv6_cidr_blocks": [],
            "prefix_list_ids": [],
            "protocol": "tcp",
            "security_group_id": "sg-0ac3f4150d01861c6",
            "self": false,
            "source_security_group_id": "sg-00ef2f09f17783f2e",
            "to_port": 27017,
            "type": "ingress"
          },
          "sensitive_attributes": [],
          "private": "eyJzY2hlbWFfdmVyc2lvbiI6IjIifQ==",
          "dependencies": [
            "aws_security_group.database",
            "aws_security_group.ecs_vegetables_service",
            "aws_vpc.main"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_security_group_rule",
      "name": "ecs_client_service_allow_9090",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 2,
          "attributes": {
            "cidr_blocks": [],
            "description": "Allow incoming traffic from the client LB to the service container port.",
            "from_port": 9090,
            "id": "sgrule-3231231828",
            "ipv6_cidr_blocks": [],
            "prefix_list_ids": [],
            "protocol": "tcp",
            "security_group_id": "sg-0cffc3728a1b93aa4",
            "self": false,
            "source_security_group_id": "sg-0fabe5ddb4777f433",
            "to_port": 9090,
            "type": "ingress"
          },
          "sensitive_attributes": [],
          "private": "eyJzY2hlbWFfdmVyc2lvbiI6IjIifQ==",
          "dependencies": [
            "aws_security_group.client_lb",
            "aws_security_group.ecs_client_service",
            "aws_vpc.main"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_security_group_rule",
      "name": "ecs_client_service_allow_inbound_self",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 2,
          "attributes": {
            "cidr_blocks": [],
            "description": "Allow traffic from resources with this security group.",
            "from_port": 0,
            "id": "sgrule-1634877007",
            "ipv6_cidr_blocks": [],
            "prefix_list_ids": [],
            "protocol": "-1",
            "security_group_id": "sg-0cffc3728a1b93aa4",
            "self": true,
            "source_security_group_id": "sg-0cffc3728a1b93aa4",
            "to_port": 0,
            "type": "ingress"
          },
          "sensitive_attributes": [],
          "private": "eyJzY2hlbWFfdmVyc2lvbiI6IjIifQ==",
          "dependencies": [
            "aws_security_group.ecs_client_service",
            "aws_vpc.main"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_security_group_rule",
      "name": "ecs_client_service_allow_outbound",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 2,
          "attributes": {
            "cidr_blocks": [
              "0.0.0.0/0"
            ],
            "description": "Allow all outbound traffic.",
            "from_port": 0,
            "id": "sgrule-3737654634",
            "ipv6_cidr_blocks": [
              "::/0"
            ],
            "prefix_list_ids": [],
            "protocol": "-1",
            "security_group_id": "sg-0cffc3728a1b93aa4",
            "self": false,
            "source_security_group_id": null,
            "to_port": 0,
            "type": "egress"
          },
          "sensitive_attributes": [],
          "private": "eyJzY2hlbWFfdmVyc2lvbiI6IjIifQ==",
          "dependencies": [
            "aws_security_group.ecs_client_service",
            "aws_vpc.main"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_security_group_rule",
      "name": "ecs_fruits_service_allow_inbound_self",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 2,
          "attributes": {
            "cidr_blocks": [],
            "description": "Allow traffic from resources with this security group.",
            "from_port": 0,
            "id": "sgrule-1707754456",
            "ipv6_cidr_blocks": [],
            "prefix_list_ids": [],
            "protocol": "-1",
            "security_group_id": "sg-0c252702870e44a7a",
            "self": true,
            "source_security_group_id": "sg-0c252702870e44a7a",
            "to_port": 0,
            "type": "ingress"
          },
          "sensitive_attributes": [],
          "private": "eyJzY2hlbWFfdmVyc2lvbiI6IjIifQ==",
          "dependencies": [
            "aws_security_group.ecs_fruits_service",
            "aws_vpc.main"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_security_group_rule",
      "name": "ecs_fruits_service_allow_outbound",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 2,
          "attributes": {
            "cidr_blocks": [
              "0.0.0.0/0"
            ],
            "description": "Allow all outbound traffic.",
            "from_port": 0,
            "id": "sgrule-3566595688",
            "ipv6_cidr_blocks": [
              "::/0"
            ],
            "prefix_list_ids": [],
            "protocol": "-1",
            "security_group_id": "sg-0c252702870e44a7a",
            "self": false,
            "source_security_group_id": null,
            "to_port": 0,
            "type": "egress"
          },
          "sensitive_attributes": [],
          "private": "eyJzY2hlbWFfdmVyc2lvbiI6IjIifQ==",
          "dependencies": [
            "aws_security_group.ecs_fruits_service",
            "aws_vpc.main"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_security_group_rule",
      "name": "ecs_vegetables_service_allow_inbound_self",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 2,
          "attributes": {
            "cidr_blocks": [],
            "description": "Allow traffic from resources with this security group.",
            "from_port": 0,
            "id": "sgrule-1943082985",
            "ipv6_cidr_blocks": [],
            "prefix_list_ids": [],
            "protocol": "-1",
            "security_group_id": "sg-00ef2f09f17783f2e",
            "self": true,
            "source_security_group_id": "sg-00ef2f09f17783f2e",
            "to_port": 0,
            "type": "ingress"
          },
          "sensitive_attributes": [],
          "private": "eyJzY2hlbWFfdmVyc2lvbiI6IjIifQ==",
          "dependencies": [
            "aws_security_group.ecs_vegetables_service",
            "aws_vpc.main"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_security_group_rule",
      "name": "ecs_vegetables_service_allow_outbound",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 2,
          "attributes": {
            "cidr_blocks": [
              "0.0.0.0/0"
            ],
            "description": "Allow all outbound traffic.",
            "from_port": 0,
            "id": "sgrule-1273585268",
            "ipv6_cidr_blocks": [
              "::/0"
            ],
            "prefix_list_ids": [],
            "protocol": "-1",
            "security_group_id": "sg-00ef2f09f17783f2e",
            "self": false,
            "source_security_group_id": null,
            "to_port": 0,
            "type": "egress"
          },
          "sensitive_attributes": [],
          "private": "eyJzY2hlbWFfdmVyc2lvbiI6IjIifQ==",
          "dependencies": [
            "aws_security_group.ecs_vegetables_service",
            "aws_vpc.main"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_subnet",
      "name": "private",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "index_key": 0,
          "schema_version": 1,
          "attributes": {
            "arn": "arn:aws:ec2:us-east-1:321863202336:subnet/subnet-0bbeb83d0ff5ba713",
            "assign_ipv6_address_on_creation": false,
            "availability_zone": "us-east-1a",
            "availability_zone_id": "use1-az6",
            "cidr_block": "10.255.3.0/24",
            "customer_owned_ipv4_pool": "",
            "enable_dns64": false,
            "enable_resource_name_dns_a_record_on_launch": false,
            "enable_resource_name_dns_aaaa_record_on_launch": false,
            "id": "subnet-0bbeb83d0ff5ba713",
            "ipv6_cidr_block": "",
            "ipv6_cidr_block_association_id": "",
            "ipv6_native": false,
            "map_customer_owned_ip_on_launch": false,
            "map_public_ip_on_launch": false,
            "outpost_arn": "",
            "owner_id": "321863202336",
            "private_dns_hostname_type_on_launch": "ip-name",
            "tags": {
              "Name": "Microservice-private-us-east-1a"
            },
            "tags_all": {
              "Name": "Microservice-private-us-east-1a",
              "project": "Microservice"
            },
            "timeouts": null,
            "vpc_id": "vpc-063729d25a525321f"
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDAsImRlbGV0ZSI6MTIwMDAwMDAwMDAwMH0sInNjaGVtYV92ZXJzaW9uIjoiMSJ9",
          "dependencies": [
            "aws_vpc.main",
            "data.aws_availability_zones.availabile"
          ]
        },
        {
          "index_key": 1,
          "schema_version": 1,
          "attributes": {
            "arn": "arn:aws:ec2:us-east-1:321863202336:subnet/subnet-04e5b7eb6345ca38d",
            "assign_ipv6_address_on_creation": false,
            "availability_zone": "us-east-1b",
            "availability_zone_id": "use1-az1",
            "cidr_block": "10.255.4.0/24",
            "customer_owned_ipv4_pool": "",
            "enable_dns64": false,
            "enable_resource_name_dns_a_record_on_launch": false,
            "enable_resource_name_dns_aaaa_record_on_launch": false,
            "id": "subnet-04e5b7eb6345ca38d",
            "ipv6_cidr_block": "",
            "ipv6_cidr_block_association_id": "",
            "ipv6_native": false,
            "map_customer_owned_ip_on_launch": false,
            "map_public_ip_on_launch": false,
            "outpost_arn": "",
            "owner_id": "321863202336",
            "private_dns_hostname_type_on_launch": "ip-name",
            "tags": {
              "Name": "Microservice-private-us-east-1b"
            },
            "tags_all": {
              "Name": "Microservice-private-us-east-1b",
              "project": "Microservice"
            },
            "timeouts": null,
            "vpc_id": "vpc-063729d25a525321f"
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDAsImRlbGV0ZSI6MTIwMDAwMDAwMDAwMH0sInNjaGVtYV92ZXJzaW9uIjoiMSJ9",
          "dependencies": [
            "aws_vpc.main",
            "data.aws_availability_zones.availabile"
          ]
        },
        {
          "index_key": 2,
          "schema_version": 1,
          "attributes": {
            "arn": "arn:aws:ec2:us-east-1:321863202336:subnet/subnet-0a44d86f13a3ea809",
            "assign_ipv6_address_on_creation": false,
            "availability_zone": "us-east-1c",
            "availability_zone_id": "use1-az2",
            "cidr_block": "10.255.5.0/24",
            "customer_owned_ipv4_pool": "",
            "enable_dns64": false,
            "enable_resource_name_dns_a_record_on_launch": false,
            "enable_resource_name_dns_aaaa_record_on_launch": false,
            "id": "subnet-0a44d86f13a3ea809",
            "ipv6_cidr_block": "",
            "ipv6_cidr_block_association_id": "",
            "ipv6_native": false,
            "map_customer_owned_ip_on_launch": false,
            "map_public_ip_on_launch": false,
            "outpost_arn": "",
            "owner_id": "321863202336",
            "private_dns_hostname_type_on_launch": "ip-name",
            "tags": {
              "Name": "Microservice-private-us-east-1c"
            },
            "tags_all": {
              "Name": "Microservice-private-us-east-1c",
              "project": "Microservice"
            },
            "timeouts": null,
            "vpc_id": "vpc-063729d25a525321f"
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDAsImRlbGV0ZSI6MTIwMDAwMDAwMDAwMH0sInNjaGVtYV92ZXJzaW9uIjoiMSJ9",
          "dependencies": [
            "aws_vpc.main",
            "data.aws_availability_zones.availabile"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_subnet",
      "name": "public",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "index_key": 0,
          "schema_version": 1,
          "attributes": {
            "arn": "arn:aws:ec2:us-east-1:321863202336:subnet/subnet-055366b6983931828",
            "assign_ipv6_address_on_creation": true,
            "availability_zone": "us-east-1a",
            "availability_zone_id": "use1-az6",
            "cidr_block": "10.255.0.0/24",
            "customer_owned_ipv4_pool": "",
            "enable_dns64": false,
            "enable_resource_name_dns_a_record_on_launch": false,
            "enable_resource_name_dns_aaaa_record_on_launch": false,
            "id": "subnet-055366b6983931828",
            "ipv6_cidr_block": "2600:1f18:2305:b800::/64",
            "ipv6_cidr_block_association_id": "subnet-cidr-assoc-0cf7c78149adee108",
            "ipv6_native": false,
            "map_customer_owned_ip_on_launch": false,
            "map_public_ip_on_launch": true,
            "outpost_arn": "",
            "owner_id": "321863202336",
            "private_dns_hostname_type_on_launch": "ip-name",
            "tags": {
              "Name": "Microservice-public-us-east-1a"
            },
            "tags_all": {
              "Name": "Microservice-public-us-east-1a",
              "project": "Microservice"
            },
            "timeouts": null,
            "vpc_id": "vpc-063729d25a525321f"
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDAsImRlbGV0ZSI6MTIwMDAwMDAwMDAwMH0sInNjaGVtYV92ZXJzaW9uIjoiMSJ9",
          "dependencies": [
            "aws_vpc.main",
            "data.aws_availability_zones.availabile"
          ]
        },
        {
          "index_key": 1,
          "schema_version": 1,
          "attributes": {
            "arn": "arn:aws:ec2:us-east-1:321863202336:subnet/subnet-032653db81b4fe346",
            "assign_ipv6_address_on_creation": true,
            "availability_zone": "us-east-1b",
            "availability_zone_id": "use1-az1",
            "cidr_block": "10.255.1.0/24",
            "customer_owned_ipv4_pool": "",
            "enable_dns64": false,
            "enable_resource_name_dns_a_record_on_launch": false,
            "enable_resource_name_dns_aaaa_record_on_launch": false,
            "id": "subnet-032653db81b4fe346",
            "ipv6_cidr_block": "2600:1f18:2305:b801::/64",
            "ipv6_cidr_block_association_id": "subnet-cidr-assoc-016801297ec6f67a3",
            "ipv6_native": false,
            "map_customer_owned_ip_on_launch": false,
            "map_public_ip_on_launch": true,
            "outpost_arn": "",
            "owner_id": "321863202336",
            "private_dns_hostname_type_on_launch": "ip-name",
            "tags": {
              "Name": "Microservice-public-us-east-1b"
            },
            "tags_all": {
              "Name": "Microservice-public-us-east-1b",
              "project": "Microservice"
            },
            "timeouts": null,
            "vpc_id": "vpc-063729d25a525321f"
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDAsImRlbGV0ZSI6MTIwMDAwMDAwMDAwMH0sInNjaGVtYV92ZXJzaW9uIjoiMSJ9",
          "dependencies": [
            "aws_vpc.main",
            "data.aws_availability_zones.availabile"
          ]
        },
        {
          "index_key": 2,
          "schema_version": 1,
          "attributes": {
            "arn": "arn:aws:ec2:us-east-1:321863202336:subnet/subnet-081e3f95d78a7ed93",
            "assign_ipv6_address_on_creation": true,
            "availability_zone": "us-east-1c",
            "availability_zone_id": "use1-az2",
            "cidr_block": "10.255.2.0/24",
            "customer_owned_ipv4_pool": "",
            "enable_dns64": false,
            "enable_resource_name_dns_a_record_on_launch": false,
            "enable_resource_name_dns_aaaa_record_on_launch": false,
            "id": "subnet-081e3f95d78a7ed93",
            "ipv6_cidr_block": "2600:1f18:2305:b802::/64",
            "ipv6_cidr_block_association_id": "subnet-cidr-assoc-0d7b6414d3e180ad1",
            "ipv6_native": false,
            "map_customer_owned_ip_on_launch": false,
            "map_public_ip_on_launch": true,
            "outpost_arn": "",
            "owner_id": "321863202336",
            "private_dns_hostname_type_on_launch": "ip-name",
            "tags": {
              "Name": "Microservice-public-us-east-1c"
            },
            "tags_all": {
              "Name": "Microservice-public-us-east-1c",
              "project": "Microservice"
            },
            "timeouts": null,
            "vpc_id": "vpc-063729d25a525321f"
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDAsImRlbGV0ZSI6MTIwMDAwMDAwMDAwMH0sInNjaGVtYV92ZXJzaW9uIjoiMSJ9",
          "dependencies": [
            "aws_vpc.main",
            "data.aws_availability_zones.availabile"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_vpc",
      "name": "main",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 1,
          "attributes": {
            "arn": "arn:aws:ec2:us-east-1:321863202336:vpc/vpc-063729d25a525321f",
            "assign_generated_ipv6_cidr_block": true,
            "cidr_block": "10.255.0.0/20",
            "default_network_acl_id": "acl-0258cd3fe8b76be48",
            "default_route_table_id": "rtb-0f80132cf9d34749f",
            "default_security_group_id": "sg-094c4ecf6e4b84d10",
            "dhcp_options_id": "dopt-00fc5823eccd70426",
            "enable_classiclink": false,
            "enable_classiclink_dns_support": false,
            "enable_dns_hostnames": true,
            "enable_dns_support": true,
            "id": "vpc-063729d25a525321f",
            "instance_tenancy": "default",
            "ipv4_ipam_pool_id": null,
            "ipv4_netmask_length": null,
            "ipv6_association_id": "vpc-cidr-assoc-072d1df9b61e63f19",
            "ipv6_cidr_block": "2600:1f18:2305:b800::/56",
            "ipv6_cidr_block_network_border_group": "us-east-1",
            "ipv6_ipam_pool_id": "",
            "ipv6_netmask_length": 0,
            "main_route_table_id": "rtb-0f80132cf9d34749f",
            "owner_id": "321863202336",
            "tags": {
              "Name": "Microservice-vpc"
            },
            "tags_all": {
              "Name": "Microservice-vpc",
              "project": "Microservice"
            }
          },
          "sensitive_attributes": [],
          "private": "eyJzY2hlbWFfdmVyc2lvbiI6IjEifQ=="
        }
      ]
    },
    {
      "mode": "managed",
      "type": "random_id",
      "name": "consul_gossip_key",
      "provider": "provider[\"registry.terraform.io/hashicorp/random\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "b64_std": "7atOmRVh0+o9/RRL76n0+xjgjOZZB4YRtJFrwuLUmJc=",
            "b64_url": "7atOmRVh0-o9_RRL76n0-xjgjOZZB4YRtJFrwuLUmJc",
            "byte_length": 32,
            "dec": "107500818425649929647703719054816226144469047136381036059107924894242066176151",
            "hex": "edab4e991561d3ea3dfd144befa9f4fb18e08ce659078611b4916bc2e2d49897",
            "id": "7atOmRVh0-o9_RRL76n0-xjgjOZZB4YRtJFrwuLUmJc",
            "keepers": null,
            "prefix": null
          },
          "sensitive_attributes": []
        }
      ]
    },
    {
      "mode": "managed",
      "type": "random_uuid",
      "name": "consul_bootstrap_token",
      "provider": "provider[\"registry.terraform.io/hashicorp/random\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "85697c2a-b34b-4759-42c3-b96a868a3315",
            "keepers": null,
            "result": "85697c2a-b34b-4759-42c3-b96a868a3315"
          },
          "sensitive_attributes": []
        }
      ]
    },
    {
      "mode": "managed",
      "type": "tls_cert_request",
      "name": "consul_server_cert",
      "provider": "provider[\"registry.terraform.io/hashicorp/tls\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "cert_request_pem": "-----BEGIN CERTIFICATE REQUEST-----\nMIIBPTCB4wIBADA1MRcwFQYDVQQKEw5IYXNoaUNvcnAgSW5jLjEaMBgGA1UEAxMR\nc2VydmVyLmRjMS5jb25zdWwwWTATBgcqhkjOPQIBBggqhkjOPQMBBwNCAAT68br+\n1paGuUF6m2S7A0YuCkFTX+Ah1HQ1giRw/Ax8PLF+4BKRGGUcC5pt7pku7aI2aN5i\nUx6IqCtE7VPLMRMzoEwwSgYJKoZIhvcNAQkOMT0wOzA5BgNVHREEMjAwghFzZXJ2\nZXIuZGMxLmNvbnN1bIIJbG9jYWxob3N0hwQK/wP6hwQK/wT6hwQK/wX6MAoGCCqG\nSM49BAMCA0kAMEYCIQD//CfuUWDwmWxnhhmwIyGzzMZZf3t+YSYSrYaofUyCOgIh\nAItwDPQJ3SZBfdGsZHfuLWlfR7MZp9VdOneVi/4HreBH\n-----END CERTIFICATE REQUEST-----\n",
            "dns_names": [
              "server.dc1.consul",
              "localhost"
            ],
            "id": "56f0caf0c5350e81acd6ece1a38dffad063057d0",
            "ip_addresses": [
              "10.255.3.250",
              "10.255.4.250",
              "10.255.5.250"
            ],
            "key_algorithm": "ECDSA",
            "private_key_pem": "-----BEGIN EC PRIVATE KEY-----\nMHcCAQEEIIea+00lkPn8VJLWH2hyAGRXH0gIu27Ebdyf4Yaqh7OyoAoGCCqGSM49\nAwEHoUQDQgAE+vG6/taWhrlBeptkuwNGLgpBU1/gIdR0NYIkcPwMfDyxfuASkRhl\nHAuabe6ZLu2iNmjeYlMeiKgrRO1TyzETMw==\n-----END EC PRIVATE KEY-----\n",
            "subject": [
              {
                "common_name": "server.dc1.consul",
                "country": null,
                "locality": null,
                "organization": "HashiCorp Inc.",
                "organizational_unit": null,
                "postal_code": null,
                "province": null,
                "serial_number": null,
                "street_address": null
              }
            ],
            "uris": null
          },
          "sensitive_attributes": [
            [
              {
                "type": "get_attr",
                "value": "private_key_pem"
              }
            ]
          ],
          "dependencies": [
            "tls_private_key.consul_server_key"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "tls_locally_signed_cert",
      "name": "consul_server_signed_cert",
      "provider": "provider[\"registry.terraform.io/hashicorp/tls\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "allowed_uses": [
              "digital_signature",
              "key_encipherment"
            ],
            "ca_cert_pem": "-----BEGIN CERTIFICATE-----\nMIIBqDCCAU2gAwIBAgIRAK2Yyb526faKLe7FQZyCHcIwCgYIKoZIzj0EAwIwMzEX\nMBUGA1UEChMOSGFzaGlDb3JwIEluYy4xGDAWBgNVBAMTD0NvbnN1bCBBZ2VudCBD\nQTAeFw0yMjExMTIxNDUxMDRaFw0yMzExMTIxNDUxMDRaMDMxFzAVBgNVBAoTDkhh\nc2hpQ29ycCBJbmMuMRgwFgYDVQQDEw9Db25zdWwgQWdlbnQgQ0EwWTATBgcqhkjO\nPQIBBggqhkjOPQMBBwNCAARAs3cfXaA9ydPPVXg0TmfVNa+UZYnL7QWNCk7PnHx7\nqr10B1sSvD7EMTz2f0axCdSgogkYnWWWNxOtLZqgu8uZo0IwQDAOBgNVHQ8BAf8E\nBAMCAqQwDwYDVR0TAQH/BAUwAwEB/zAdBgNVHQ4EFgQUcg0DVtsbJ5UiMvSjssk6\naDvAVH0wCgYIKoZIzj0EAwIDSQAwRgIhAMT4iBGihCu3uc7qkUIYBjvTsgf1feNg\noFOITbGulbGHAiEAqSCt/vGHTfF6+iqMdQODwCp+uRTnKEf6tMxp33ARm1w=\n-----END CERTIFICATE-----\n",
            "ca_key_algorithm": "ECDSA",
            "ca_private_key_pem": "-----BEGIN EC PRIVATE KEY-----\nMHcCAQEEID4kZ8WfV9lSzkGlGUnmVY/8VcJYtJeKBO2v051gebQvoAoGCCqGSM49\nAwEHoUQDQgAEQLN3H12gPcnTz1V4NE5n1TWvlGWJy+0FjQpOz5x8e6q9dAdbErw+\nxDE89n9GsQnUoKIJGJ1lljcTrS2aoLvLmQ==\n-----END EC PRIVATE KEY-----\n",
            "cert_pem": "-----BEGIN CERTIFICATE-----\nMIIB4jCCAYigAwIBAgIQG5vjr6vFJsymk+LQsS3FczAKBggqhkjOPQQDAjAzMRcw\nFQYDVQQKEw5IYXNoaUNvcnAgSW5jLjEYMBYGA1UEAxMPQ29uc3VsIEFnZW50IENB\nMB4XDTIyMTExMjE0NTEwNFoXDTIzMTExMjE0NTEwNFowNTEXMBUGA1UEChMOSGFz\naGlDb3JwIEluYy4xGjAYBgNVBAMTEXNlcnZlci5kYzEuY29uc3VsMFkwEwYHKoZI\nzj0CAQYIKoZIzj0DAQcDQgAE+vG6/taWhrlBeptkuwNGLgpBU1/gIdR0NYIkcPwM\nfDyxfuASkRhlHAuabe6ZLu2iNmjeYlMeiKgrRO1TyzETM6N8MHowDgYDVR0PAQH/\nBAQDAgWgMAwGA1UdEwEB/wQCMAAwHwYDVR0jBBgwFoAUcg0DVtsbJ5UiMvSjssk6\naDvAVH0wOQYDVR0RBDIwMIIRc2VydmVyLmRjMS5jb25zdWyCCWxvY2FsaG9zdIcE\nCv8D+ocECv8E+ocECv8F+jAKBggqhkjOPQQDAgNIADBFAiAD5NKK4Sc6l8vMv2/C\nB7AuJSvKLFGJV2srSV9cM2bjZAIhAMfO+dII3qSQisXFmjSz8YOPe4hRwxTEiJsG\nxbqLj6xk\n-----END CERTIFICATE-----\n",
            "cert_request_pem": "-----BEGIN CERTIFICATE REQUEST-----\nMIIBPTCB4wIBADA1MRcwFQYDVQQKEw5IYXNoaUNvcnAgSW5jLjEaMBgGA1UEAxMR\nc2VydmVyLmRjMS5jb25zdWwwWTATBgcqhkjOPQIBBggqhkjOPQMBBwNCAAT68br+\n1paGuUF6m2S7A0YuCkFTX+Ah1HQ1giRw/Ax8PLF+4BKRGGUcC5pt7pku7aI2aN5i\nUx6IqCtE7VPLMRMzoEwwSgYJKoZIhvcNAQkOMT0wOzA5BgNVHREEMjAwghFzZXJ2\nZXIuZGMxLmNvbnN1bIIJbG9jYWxob3N0hwQK/wP6hwQK/wT6hwQK/wX6MAoGCCqG\nSM49BAMCA0kAMEYCIQD//CfuUWDwmWxnhhmwIyGzzMZZf3t+YSYSrYaofUyCOgIh\nAItwDPQJ3SZBfdGsZHfuLWlfR7MZp9VdOneVi/4HreBH\n-----END CERTIFICATE REQUEST-----\n",
            "early_renewal_hours": 0,
            "id": "36698579924334374067249748055279125875",
            "is_ca_certificate": false,
            "ready_for_renewal": false,
            "set_subject_key_id": false,
            "validity_end_time": "2023-11-12T14:51:04.131695473Z",
            "validity_period_hours": 8760,
            "validity_start_time": "2022-11-12T14:51:04.131695473Z"
          },
          "sensitive_attributes": [
            [
              {
                "type": "get_attr",
                "value": "ca_private_key_pem"
              }
            ]
          ],
          "dependencies": [
            "tls_cert_request.consul_server_cert",
            "tls_private_key.ca_key",
            "tls_private_key.consul_server_key",
            "tls_self_signed_cert.ca_cert"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "tls_private_key",
      "name": "ca_key",
      "provider": "provider[\"registry.terraform.io/hashicorp/tls\"]",
      "instances": [
        {
          "schema_version": 1,
          "attributes": {
            "algorithm": "ECDSA",
            "ecdsa_curve": "P256",
            "id": "a687ae6b50f82cfba598334cdf32fd14f9b8cc16",
            "private_key_openssh": "-----BEGIN OPENSSH PRIVATE KEY-----\nb3BlbnNzaC1rZXktdjEAAAAABG5vbmUAAAAEbm9uZQAAAAAAAAABAAAAaAAAABNl\nY2RzYS1zaGEyLW5pc3RwMjU2AAAACG5pc3RwMjU2AAAAQQRAs3cfXaA9ydPPVXg0\nTmfVNa+UZYnL7QWNCk7PnHx7qr10B1sSvD7EMTz2f0axCdSgogkYnWWWNxOtLZqg\nu8uZAAAAmBgWWsEYFlrBAAAAE2VjZHNhLXNoYTItbmlzdHAyNTYAAAAIbmlzdHAy\nNTYAAABBBECzdx9doD3J089VeDROZ9U1r5RlicvtBY0KTs+cfHuqvXQHWxK8PsQx\nPPZ/RrEJ1KCiCRidZZY3E60tmqC7y5kAAAAgPiRnxZ9X2VLOQaUZSeZVj/xVwli0\nl4oE7a/TnWB5tC8AAAAA\n-----END OPENSSH PRIVATE KEY-----\n",
            "private_key_pem": "-----BEGIN EC PRIVATE KEY-----\nMHcCAQEEID4kZ8WfV9lSzkGlGUnmVY/8VcJYtJeKBO2v051gebQvoAoGCCqGSM49\nAwEHoUQDQgAEQLN3H12gPcnTz1V4NE5n1TWvlGWJy+0FjQpOz5x8e6q9dAdbErw+\nxDE89n9GsQnUoKIJGJ1lljcTrS2aoLvLmQ==\n-----END EC PRIVATE KEY-----\n",
            "private_key_pem_pkcs8": "-----BEGIN PRIVATE KEY-----\nMIGHAgEAMBMGByqGSM49AgEGCCqGSM49AwEHBG0wawIBAQQgPiRnxZ9X2VLOQaUZ\nSeZVj/xVwli0l4oE7a/TnWB5tC+hRANCAARAs3cfXaA9ydPPVXg0TmfVNa+UZYnL\n7QWNCk7PnHx7qr10B1sSvD7EMTz2f0axCdSgogkYnWWWNxOtLZqgu8uZ\n-----END PRIVATE KEY-----\n",
            "public_key_fingerprint_md5": "9e:22:e3:8b:13:80:b2:80:7f:30:90:7e:b9:3e:cf:63",
            "public_key_fingerprint_sha256": "SHA256:0+XTUFq7IihlkyXAWuH0U4gKrL8EFqtBYHLGsYSTznY",
            "public_key_openssh": "ecdsa-sha2-nistp256 AAAAE2VjZHNhLXNoYTItbmlzdHAyNTYAAAAIbmlzdHAyNTYAAABBBECzdx9doD3J089VeDROZ9U1r5RlicvtBY0KTs+cfHuqvXQHWxK8PsQxPPZ/RrEJ1KCiCRidZZY3E60tmqC7y5k=\n",
            "public_key_pem": "-----BEGIN PUBLIC KEY-----\nMFkwEwYHKoZIzj0CAQYIKoZIzj0DAQcDQgAEQLN3H12gPcnTz1V4NE5n1TWvlGWJ\ny+0FjQpOz5x8e6q9dAdbErw+xDE89n9GsQnUoKIJGJ1lljcTrS2aoLvLmQ==\n-----END PUBLIC KEY-----\n",
            "rsa_bits": 2048
          },
          "sensitive_attributes": []
        }
      ]
    },
    {
      "mode": "managed",
      "type": "tls_private_key",
      "name": "consul_server_key",
      "provider": "provider[\"registry.terraform.io/hashicorp/tls\"]",
      "instances": [
        {
          "schema_version": 1,
          "attributes": {
            "algorithm": "ECDSA",
            "ecdsa_curve": "P256",
            "id": "7106f410cd196813598ef33acc79708e85ed333c",
            "private_key_openssh": "-----BEGIN OPENSSH PRIVATE KEY-----\nb3BlbnNzaC1rZXktdjEAAAAABG5vbmUAAAAEbm9uZQAAAAAAAAABAAAAaAAAABNl\nY2RzYS1zaGEyLW5pc3RwMjU2AAAACG5pc3RwMjU2AAAAQQT68br+1paGuUF6m2S7\nA0YuCkFTX+Ah1HQ1giRw/Ax8PLF+4BKRGGUcC5pt7pku7aI2aN5iUx6IqCtE7VPL\nMRMzAAAAoD2cSI89nEiPAAAAE2VjZHNhLXNoYTItbmlzdHAyNTYAAAAIbmlzdHAy\nNTYAAABBBPrxuv7Wloa5QXqbZLsDRi4KQVNf4CHUdDWCJHD8DHw8sX7gEpEYZRwL\nmm3umS7tojZo3mJTHoioK0TtU8sxEzMAAAAhAIea+00lkPn8VJLWH2hyAGRXH0gI\nu27Ebdyf4Yaqh7OyAAAAAAECAwQFBgc=\n-----END OPENSSH PRIVATE KEY-----\n",
            "private_key_pem": "-----BEGIN EC PRIVATE KEY-----\nMHcCAQEEIIea+00lkPn8VJLWH2hyAGRXH0gIu27Ebdyf4Yaqh7OyoAoGCCqGSM49\nAwEHoUQDQgAE+vG6/taWhrlBeptkuwNGLgpBU1/gIdR0NYIkcPwMfDyxfuASkRhl\nHAuabe6ZLu2iNmjeYlMeiKgrRO1TyzETMw==\n-----END EC PRIVATE KEY-----\n",
            "private_key_pem_pkcs8": "-----BEGIN PRIVATE KEY-----\nMIGHAgEAMBMGByqGSM49AgEGCCqGSM49AwEHBG0wawIBAQQgh5r7TSWQ+fxUktYf\naHIAZFcfSAi7bsRt3J/hhqqHs7KhRANCAAT68br+1paGuUF6m2S7A0YuCkFTX+Ah\n1HQ1giRw/Ax8PLF+4BKRGGUcC5pt7pku7aI2aN5iUx6IqCtE7VPLMRMz\n-----END PRIVATE KEY-----\n",
            "public_key_fingerprint_md5": "ba:2a:06:8a:f4:e4:84:fd:53:64:42:a4:ca:ba:3b:3e",
            "public_key_fingerprint_sha256": "SHA256:V+RUJUV08i1Vprl1qti95SF1/SGOwJGOqMVzIxosTXc",
            "public_key_openssh": "ecdsa-sha2-nistp256 AAAAE2VjZHNhLXNoYTItbmlzdHAyNTYAAAAIbmlzdHAyNTYAAABBBPrxuv7Wloa5QXqbZLsDRi4KQVNf4CHUdDWCJHD8DHw8sX7gEpEYZRwLmm3umS7tojZo3mJTHoioK0TtU8sxEzM=\n",
            "public_key_pem": "-----BEGIN PUBLIC KEY-----\nMFkwEwYHKoZIzj0CAQYIKoZIzj0DAQcDQgAE+vG6/taWhrlBeptkuwNGLgpBU1/g\nIdR0NYIkcPwMfDyxfuASkRhlHAuabe6ZLu2iNmjeYlMeiKgrRO1TyzETMw==\n-----END PUBLIC KEY-----\n",
            "rsa_bits": 2048
          },
          "sensitive_attributes": []
        }
      ]
    },
    {
      "mode": "managed",
      "type": "tls_self_signed_cert",
      "name": "ca_cert",
      "provider": "provider[\"registry.terraform.io/hashicorp/tls\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "allowed_uses": [
              "cert_signing",
              "key_encipherment",
              "digital_signature"
            ],
            "cert_pem": "-----BEGIN CERTIFICATE-----\nMIIBqDCCAU2gAwIBAgIRAK2Yyb526faKLe7FQZyCHcIwCgYIKoZIzj0EAwIwMzEX\nMBUGA1UEChMOSGFzaGlDb3JwIEluYy4xGDAWBgNVBAMTD0NvbnN1bCBBZ2VudCBD\nQTAeFw0yMjExMTIxNDUxMDRaFw0yMzExMTIxNDUxMDRaMDMxFzAVBgNVBAoTDkhh\nc2hpQ29ycCBJbmMuMRgwFgYDVQQDEw9Db25zdWwgQWdlbnQgQ0EwWTATBgcqhkjO\nPQIBBggqhkjOPQMBBwNCAARAs3cfXaA9ydPPVXg0TmfVNa+UZYnL7QWNCk7PnHx7\nqr10B1sSvD7EMTz2f0axCdSgogkYnWWWNxOtLZqgu8uZo0IwQDAOBgNVHQ8BAf8E\nBAMCAqQwDwYDVR0TAQH/BAUwAwEB/zAdBgNVHQ4EFgQUcg0DVtsbJ5UiMvSjssk6\naDvAVH0wCgYIKoZIzj0EAwIDSQAwRgIhAMT4iBGihCu3uc7qkUIYBjvTsgf1feNg\noFOITbGulbGHAiEAqSCt/vGHTfF6+iqMdQODwCp+uRTnKEf6tMxp33ARm1w=\n-----END CERTIFICATE-----\n",
            "dns_names": null,
            "early_renewal_hours": 0,
            "id": "230749764247771026633878807515024727490",
            "ip_addresses": null,
            "is_ca_certificate": true,
            "key_algorithm": "ECDSA",
            "private_key_pem": "-----BEGIN EC PRIVATE KEY-----\nMHcCAQEEID4kZ8WfV9lSzkGlGUnmVY/8VcJYtJeKBO2v051gebQvoAoGCCqGSM49\nAwEHoUQDQgAEQLN3H12gPcnTz1V4NE5n1TWvlGWJy+0FjQpOz5x8e6q9dAdbErw+\nxDE89n9GsQnUoKIJGJ1lljcTrS2aoLvLmQ==\n-----END EC PRIVATE KEY-----\n",
            "ready_for_renewal": false,
            "set_authority_key_id": false,
            "set_subject_key_id": false,
            "subject": [
              {
                "common_name": "Consul Agent CA",
                "country": null,
                "locality": null,
                "organization": "HashiCorp Inc.",
                "organizational_unit": null,
                "postal_code": null,
                "province": null,
                "serial_number": null,
                "street_address": null
              }
            ],
            "uris": null,
            "validity_end_time": "2023-11-12T14:51:04.063461207Z",
            "validity_period_hours": 8760,
            "validity_start_time": "2022-11-12T14:51:04.063461207Z"
          },
          "sensitive_attributes": [
            [
              {
                "type": "get_attr",
                "value": "private_key_pem"
              }
            ]
          ],
          "dependencies": [
            "tls_private_key.ca_key"
          ]
        }
      ]
    },
    {
      "module": "module.client",
      "mode": "data",
      "type": "aws_region",
      "name": "current",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "description": "US East (N. Virginia)",
            "endpoint": "ec2.us-east-1.amazonaws.com",
            "id": "us-east-1",
            "name": "us-east-1"
          },
          "sensitive_attributes": []
        }
      ]
    },
    {
      "module": "module.client",
      "mode": "managed",
      "type": "aws_ecs_task_definition",
      "name": "this",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 1,
          "attributes": {
            "arn": "arn:aws:ecs:us-east-1:321863202336:task-definition/Microservice-client:3",
            "container_definitions": "[{\"cpu\":0,\"dependsOn\":[{\"condition\":\"SUCCESS\",\"containerName\":\"consul-ecs-mesh-init\"},{\"condition\":\"HEALTHY\",\"containerName\":\"sidecar-proxy\"}],\"environment\":[{\"name\":\"MESSAGE\",\"value\":\"Hello from the client!\"},{\"name\":\"NAME\",\"value\":\"client\"},{\"name\":\"UPSTREAM_URIS\",\"value\":\"http://localhost:1234,http://localhost:1235\"}],\"essential\":true,\"image\":\"nicholasjackson/fake-service:v0.23.1\",\"logConfiguration\":{\"logDriver\":\"awslogs\",\"options\":{\"awslogs-group\":\"Microservice-client-logs\",\"awslogs-region\":\"us-east-1\",\"awslogs-stream-prefix\":\"Microservice-client\"}},\"mountPoints\":[],\"name\":\"client\",\"portMappings\":[{\"containerPort\":9090,\"hostPort\":9090,\"protocol\":\"tcp\"}],\"volumesFrom\":[]},{\"command\":[\"mesh-init\"],\"cpu\":0,\"environment\":[{\"name\":\"CONSUL_ECS_CONFIG_JSON\",\"value\":\"{\\\"bootstrapDir\\\":\\\"/consul\\\",\\\"healthSyncContainers\\\":[],\\\"proxy\\\":{\\\"upstreams\\\":[{\\\"destinationName\\\":\\\"Microservice-fruits\\\",\\\"localBindPort\\\":1234},{\\\"destinationName\\\":\\\"Microservice-vegetables\\\",\\\"localBindPort\\\":1235}]},\\\"service\\\":{\\\"checks\\\":[],\\\"meta\\\":{},\\\"name\\\":\\\"Microservice-client\\\",\\\"namespace\\\":\\\"\\\",\\\"partition\\\":\\\"\\\",\\\"port\\\":9090,\\\"tags\\\":[]}}\"}],\"essential\":false,\"image\":\"public.ecr.aws/hashicorp/consul-ecs:0.4.1\",\"logConfiguration\":{\"logDriver\":\"awslogs\",\"options\":{\"awslogs-group\":\"Microservice-client-sidecars-logs\",\"awslogs-region\":\"us-east-1\",\"awslogs-stream-prefix\":\"Microservice-client-sidecars-\"}},\"mountPoints\":[{\"containerPath\":\"/consul\",\"readOnly\":false,\"sourceVolume\":\"consul_data\"},{\"containerPath\":\"/bin/consul-inject\",\"readOnly\":true,\"sourceVolume\":\"consul_binary\"}],\"name\":\"consul-ecs-mesh-init\",\"portMappings\":[],\"secrets\":[{\"name\":\"CONSUL_HTTP_TOKEN\",\"valueFrom\":\"arn:aws:secretsmanager:us-east-1:321863202336:secret:Microservice-Microservice-client-5d5OE6:token::\"}],\"volumesFrom\":[]},{\"command\":[\"cp /bin/consul /bin/consul-inject/consul\\n\\nECS_IPV4=$(curl -s $ECS_CONTAINER_METADATA_URI_V4 | jq -r '.Networks[0].IPv4Addresses[0]')\\n\\necho \\\"$CONSUL_CACERT\\\" \u003e /tmp/consul-ca-cert.pem\\n\\ncat \u003c\u003c EOF \u003e /consul/agent-defaults.hcl\\naddresses = {\\n  dns = \\\"127.0.0.1\\\"\\n  grpc = \\\"127.0.0.1\\\"\\n  http = \\\"127.0.0.1\\\"\\n}\\nadvertise_addr = \\\"$ECS_IPV4\\\"\\nadvertise_reconnect_timeout = \\\"15m\\\"\\nclient_addr = \\\"0.0.0.0\\\"\\ndatacenter = \\\"$CONSUL_DATACENTER\\\"\\nenable_central_service_config = true\\nencrypt = \\\"$CONSUL_GOSSIP_ENCRYPTION_KEY\\\"\\nleave_on_terminate = true\\nports {\\n  grpc = 8502\\n}\\nretry_join = [\\n  \\\"10.255.3.250\\\",\\n  \\\"10.255.4.250\\\",\\n  \\\"10.255.5.250\\\",\\n]\\ntelemetry {\\n  disable_compat_1.9 = true\\n}\\nauto_encrypt = {\\n  tls = true\\n  ip_san = [\\\"$ECS_IPV4\\\"]\\n}\\nca_file = \\\"/tmp/consul-ca-cert.pem\\\"\\nverify_outgoing = true\\nacl {\\n  enabled = true\\n  default_policy = \\\"deny\\\"\\n  down_policy = \\\"async-cache\\\"\\n  tokens {\\n    agent = \\\"$AGENT_TOKEN\\\"\\n  }\\n}\\n\\n\\nEOF\\n\\n\\nexec consul agent \\\\\\n    -data-dir /consul/data \\\\\\n    -config-file /consul/agent-defaults.hcl \\\\\\n\"],\"cpu\":0,\"entryPoint\":[\"/bin/sh\",\"-ec\"],\"environment\":[{\"name\":\"CONSUL_DATACENTER\",\"value\":\"dc1\"}],\"essential\":false,\"image\":\"public.ecr.aws/hashicorp/consul:1.11.4\",\"linuxParameters\":{\"initProcessEnabled\":true},\"logConfiguration\":{\"logDriver\":\"awslogs\",\"options\":{\"awslogs-group\":\"Microservice-client-sidecars-logs\",\"awslogs-region\":\"us-east-1\",\"awslogs-stream-prefix\":\"Microservice-client-sidecars-\"}},\"mountPoints\":[{\"containerPath\":\"/consul\",\"readOnly\":false,\"sourceVolume\":\"consul_data\"},{\"containerPath\":\"/bin/consul-inject\",\"sourceVolume\":\"consul_binary\"}],\"name\":\"consul-client\",\"portMappings\":[],\"secrets\":[{\"name\":\"CONSUL_CACERT\",\"valueFrom\":\"arn:aws:secretsmanager:us-east-1:321863202336:secret:Microservice-root-ca-cert-20221112145104712200000003-WB9O04\"},{\"name\":\"CONSUL_GOSSIP_ENCRYPTION_KEY\",\"valueFrom\":\"arn:aws:secretsmanager:us-east-1:321863202336:secret:Microservice-gossip-key-20221112145104705800000002-bEmTO5\"},{\"name\":\"AGENT_TOKEN\",\"valueFrom\":\"arn:aws:secretsmanager:us-east-1:321863202336:secret:Microservice-consul-client-token-AXDtBP:token::\"}],\"volumesFrom\":[]},{\"command\":[\"envoy\",\"--config-path\",\"/consul/envoy-bootstrap.json\"],\"cpu\":0,\"dependsOn\":[{\"condition\":\"SUCCESS\",\"containerName\":\"consul-ecs-mesh-init\"}],\"entryPoint\":[\"/consul/consul-ecs\",\"envoy-entrypoint\"],\"environment\":[],\"essential\":false,\"healthCheck\":{\"command\":[\"nc\",\"-z\",\"127.0.0.1\",\"20000\"],\"interval\":30,\"retries\":3,\"timeout\":5},\"image\":\"envoyproxy/envoy-alpine:v1.20.2\",\"logConfiguration\":{\"logDriver\":\"awslogs\",\"options\":{\"awslogs-group\":\"Microservice-client-sidecars-logs\",\"awslogs-region\":\"us-east-1\",\"awslogs-stream-prefix\":\"Microservice-client-sidecars-\"}},\"mountPoints\":[{\"containerPath\":\"/consul\",\"readOnly\":true,\"sourceVolume\":\"consul_data\"}],\"name\":\"sidecar-proxy\",\"portMappings\":[],\"ulimits\":[{\"hardLimit\":1048576,\"name\":\"nofile\",\"softLimit\":1048576}],\"volumesFrom\":[]}]",
            "cpu": "256",
            "ephemeral_storage": [],
            "execution_role_arn": "arn:aws:iam::321863202336:role/ecs/Microservice-client-execution",
            "family": "Microservice-client",
            "id": "Microservice-client",
            "inference_accelerator": [],
            "ipc_mode": "",
            "memory": "512",
            "network_mode": "awsvpc",
            "pid_mode": "",
            "placement_constraints": [],
            "proxy_configuration": [],
            "requires_compatibilities": [
              "FARGATE"
            ],
            "revision": 3,
            "runtime_platform": [],
            "skip_destroy": false,
            "tags": {
              "consul.hashicorp.com/mesh": "true",
              "consul.hashicorp.com/module": "terraform-aws-consul-ecs",
              "consul.hashicorp.com/module-version": "0.4.1",
              "consul.hashicorp.com/service-name": "Microservice-client"
            },
            "tags_all": {
              "consul.hashicorp.com/mesh": "true",
              "consul.hashicorp.com/module": "terraform-aws-consul-ecs",
              "consul.hashicorp.com/module-version": "0.4.1",
              "consul.hashicorp.com/service-name": "Microservice-client",
              "project": "Microservice"
            },
            "task_role_arn": "arn:aws:iam::321863202336:role/Microservice-client-task",
            "volume": [
              {
                "docker_volume_configuration": [],
                "efs_volume_configuration": [],
                "fsx_windows_file_server_volume_configuration": [],
                "host_path": "",
                "name": "consul_binary"
              },
              {
                "docker_volume_configuration": [],
                "efs_volume_configuration": [],
                "fsx_windows_file_server_volume_configuration": [],
                "host_path": "",
                "name": "consul_data"
              }
            ]
          },
          "sensitive_attributes": [],
          "private": "eyJzY2hlbWFfdmVyc2lvbiI6IjEifQ==",
          "dependencies": [
            "aws_cloudwatch_log_group.acl",
            "aws_cloudwatch_log_group.client",
            "aws_cloudwatch_log_group.client_sidecars",
            "aws_ecs_cluster.main",
            "aws_eip.nat",
            "aws_iam_instance_profile.consul_instance_profile",
            "aws_iam_role.consul_instance",
            "aws_instance.consul_server",
            "aws_internet_gateway.gw",
            "aws_nat_gateway.nat",
            "aws_secretsmanager_secret.consul_bootstrap_token",
            "aws_secretsmanager_secret.consul_gossip_key",
            "aws_secretsmanager_secret.consul_server_root_ca_cert",
            "aws_security_group.acl_controller",
            "aws_security_group.consul_client",
            "aws_security_group.consul_server",
            "aws_subnet.private",
            "aws_subnet.public",
            "aws_vpc.main",
            "data.aws_availability_zones.availabile",
            "data.aws_iam_policy_document.instance_trust_policy",
            "data.aws_ssm_parameter.ubuntu_latest",
            "module.client.aws_iam_role.execution",
            "module.client.aws_iam_role.task",
            "module.client.aws_secretsmanager_secret.service_token",
            "module.consul_acl_controller.aws_ecs_service.this",
            "module.consul_acl_controller.aws_ecs_task_definition.this",
            "module.consul_acl_controller.aws_iam_policy.this_execution",
            "module.consul_acl_controller.aws_iam_role.this_execution",
            "module.consul_acl_controller.aws_iam_role.this_task",
            "module.consul_acl_controller.aws_iam_role_policy_attachment.consul-controller-execution",
            "module.consul_acl_controller.aws_secretsmanager_secret.client_token",
            "module.consul_acl_controller.aws_secretsmanager_secret_version.client_token",
            "random_id.consul_gossip_key",
            "random_uuid.consul_bootstrap_token",
            "tls_cert_request.consul_server_cert",
            "tls_locally_signed_cert.consul_server_signed_cert",
            "tls_private_key.ca_key",
            "tls_private_key.consul_server_key",
            "tls_self_signed_cert.ca_cert"
          ]
        }
      ]
    },
    {
      "module": "module.client",
      "mode": "managed",
      "type": "aws_iam_policy",
      "name": "execution",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:iam::321863202336:policy/ecs/Microservice-client-execution",
            "description": "Microservice-client mesh-task execution policy",
            "id": "arn:aws:iam::321863202336:policy/ecs/Microservice-client-execution",
            "name": "Microservice-client-execution",
            "name_prefix": null,
            "path": "/ecs/",
            "policy": "{\"Statement\":[{\"Action\":[\"secretsmanager:GetSecretValue\"],\"Effect\":\"Allow\",\"Resource\":[\"arn:aws:secretsmanager:us-east-1:321863202336:secret:Microservice-root-ca-cert-20221112145104712200000003-WB9O04\"]},{\"Action\":[\"secretsmanager:GetSecretValue\"],\"Effect\":\"Allow\",\"Resource\":[\"arn:aws:secretsmanager:us-east-1:321863202336:secret:Microservice-consul-client-token-AXDtBP\",\"arn:aws:secretsmanager:us-east-1:321863202336:secret:Microservice-Microservice-client-5d5OE6\"]},{\"Action\":[\"secretsmanager:GetSecretValue\"],\"Effect\":\"Allow\",\"Resource\":[\"arn:aws:secretsmanager:us-east-1:321863202336:secret:Microservice-gossip-key-20221112145104705800000002-bEmTO5\"]},{\"Action\":[\"logs:CreateLogStream\",\"logs:PutLogEvents\"],\"Effect\":\"Allow\",\"Resource\":\"*\"}],\"Version\":\"2012-10-17\"}",
            "policy_id": "ANPAUV4EKWYQDKY5M4UIV",
            "tags": {},
            "tags_all": {
              "project": "Microservice"
            }
          },
          "sensitive_attributes": [],
          "private": "bnVsbA==",
          "dependencies": [
            "aws_cloudwatch_log_group.acl",
            "aws_ecs_cluster.main",
            "aws_eip.nat",
            "aws_iam_instance_profile.consul_instance_profile",
            "aws_iam_role.consul_instance",
            "aws_instance.consul_server",
            "aws_internet_gateway.gw",
            "aws_nat_gateway.nat",
            "aws_secretsmanager_secret.consul_bootstrap_token",
            "aws_secretsmanager_secret.consul_gossip_key",
            "aws_secretsmanager_secret.consul_server_root_ca_cert",
            "aws_security_group.acl_controller",
            "aws_security_group.consul_client",
            "aws_security_group.consul_server",
            "aws_subnet.private",
            "aws_subnet.public",
            "aws_vpc.main",
            "data.aws_availability_zones.availabile",
            "data.aws_iam_policy_document.instance_trust_policy",
            "data.aws_ssm_parameter.ubuntu_latest",
            "module.client.aws_secretsmanager_secret.service_token",
            "module.consul_acl_controller.aws_ecs_service.this",
            "module.consul_acl_controller.aws_ecs_task_definition.this",
            "module.consul_acl_controller.aws_iam_policy.this_execution",
            "module.consul_acl_controller.aws_iam_role.this_execution",
            "module.consul_acl_controller.aws_iam_role.this_task",
            "module.consul_acl_controller.aws_iam_role_policy_attachment.consul-controller-execution",
            "module.consul_acl_controller.aws_secretsmanager_secret.client_token",
            "module.consul_acl_controller.aws_secretsmanager_secret_version.client_token",
            "random_id.consul_gossip_key",
            "random_uuid.consul_bootstrap_token",
            "tls_cert_request.consul_server_cert",
            "tls_locally_signed_cert.consul_server_signed_cert",
            "tls_private_key.ca_key",
            "tls_private_key.consul_server_key",
            "tls_self_signed_cert.ca_cert"
          ]
        }
      ]
    },
    {
      "module": "module.client",
      "mode": "managed",
      "type": "aws_iam_role",
      "name": "execution",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "index_key": 0,
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:iam::321863202336:role/ecs/Microservice-client-execution",
            "assume_role_policy": "{\"Version\":\"2012-10-17\",\"Statement\":[{\"Effect\":\"Allow\",\"Principal\":{\"Service\":\"ecs-tasks.amazonaws.com\"},\"Action\":\"sts:AssumeRole\"}]}",
            "create_date": "2022-11-12T14:54:15Z",
            "description": "",
            "force_detach_policies": false,
            "id": "Microservice-client-execution",
            "inline_policy": [
              {
                "name": "",
                "policy": ""
              }
            ],
            "managed_policy_arns": [
              "arn:aws:iam::321863202336:policy/ecs/Microservice-client-execution"
            ],
            "max_session_duration": 3600,
            "name": "Microservice-client-execution",
            "name_prefix": "",
            "path": "/ecs/",
            "permissions_boundary": null,
            "tags": {},
            "tags_all": {
              "project": "Microservice"
            },
            "unique_id": "AROAUV4EKWYQDGZ2UU7UT"
          },
          "sensitive_attributes": [],
          "private": "bnVsbA==",
          "dependencies": [
            "aws_cloudwatch_log_group.acl",
            "aws_ecs_cluster.main",
            "aws_eip.nat",
            "aws_iam_instance_profile.consul_instance_profile",
            "aws_iam_role.consul_instance",
            "aws_instance.consul_server",
            "aws_internet_gateway.gw",
            "aws_nat_gateway.nat",
            "aws_secretsmanager_secret.consul_bootstrap_token",
            "aws_secretsmanager_secret.consul_server_root_ca_cert",
            "aws_security_group.acl_controller",
            "aws_security_group.consul_client",
            "aws_security_group.consul_server",
            "aws_subnet.private",
            "aws_subnet.public",
            "aws_vpc.main",
            "data.aws_availability_zones.availabile",
            "data.aws_iam_policy_document.instance_trust_policy",
            "data.aws_ssm_parameter.ubuntu_latest",
            "module.consul_acl_controller.aws_ecs_service.this",
            "module.consul_acl_controller.aws_ecs_task_definition.this",
            "module.consul_acl_controller.aws_iam_policy.this_execution",
            "module.consul_acl_controller.aws_iam_role.this_execution",
            "module.consul_acl_controller.aws_iam_role.this_task",
            "module.consul_acl_controller.aws_iam_role_policy_attachment.consul-controller-execution",
            "module.consul_acl_controller.aws_secretsmanager_secret.client_token",
            "module.consul_acl_controller.aws_secretsmanager_secret_version.client_token",
            "random_id.consul_gossip_key",
            "random_uuid.consul_bootstrap_token",
            "tls_cert_request.consul_server_cert",
            "tls_locally_signed_cert.consul_server_signed_cert",
            "tls_private_key.ca_key",
            "tls_private_key.consul_server_key",
            "tls_self_signed_cert.ca_cert"
          ]
        }
      ]
    },
    {
      "module": "module.client",
      "mode": "managed",
      "type": "aws_iam_role",
      "name": "task",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "index_key": 0,
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:iam::321863202336:role/Microservice-client-task",
            "assume_role_policy": "{\"Version\":\"2012-10-17\",\"Statement\":[{\"Effect\":\"Allow\",\"Principal\":{\"Service\":\"ecs-tasks.amazonaws.com\"},\"Action\":\"sts:AssumeRole\"}]}",
            "create_date": "2022-11-12T14:54:15Z",
            "description": "",
            "force_detach_policies": false,
            "id": "Microservice-client-task",
            "inline_policy": [
              {
                "name": "",
                "policy": ""
              }
            ],
            "managed_policy_arns": [],
            "max_session_duration": 3600,
            "name": "Microservice-client-task",
            "name_prefix": "",
            "path": "/",
            "permissions_boundary": null,
            "tags": {},
            "tags_all": {
              "project": "Microservice"
            },
            "unique_id": "AROAUV4EKWYQEYYFHEDLX"
          },
          "sensitive_attributes": [],
          "private": "bnVsbA==",
          "dependencies": [
            "aws_cloudwatch_log_group.acl",
            "aws_ecs_cluster.main",
            "aws_eip.nat",
            "aws_iam_instance_profile.consul_instance_profile",
            "aws_iam_role.consul_instance",
            "aws_instance.consul_server",
            "aws_internet_gateway.gw",
            "aws_nat_gateway.nat",
            "aws_secretsmanager_secret.consul_bootstrap_token",
            "aws_secretsmanager_secret.consul_server_root_ca_cert",
            "aws_security_group.acl_controller",
            "aws_security_group.consul_client",
            "aws_security_group.consul_server",
            "aws_subnet.private",
            "aws_subnet.public",
            "aws_vpc.main",
            "data.aws_availability_zones.availabile",
            "data.aws_iam_policy_document.instance_trust_policy",
            "data.aws_ssm_parameter.ubuntu_latest",
            "module.consul_acl_controller.aws_ecs_service.this",
            "module.consul_acl_controller.aws_ecs_task_definition.this",
            "module.consul_acl_controller.aws_iam_policy.this_execution",
            "module.consul_acl_controller.aws_iam_role.this_execution",
            "module.consul_acl_controller.aws_iam_role.this_task",
            "module.consul_acl_controller.aws_iam_role_policy_attachment.consul-controller-execution",
            "module.consul_acl_controller.aws_secretsmanager_secret.client_token",
            "module.consul_acl_controller.aws_secretsmanager_secret_version.client_token",
            "random_id.consul_gossip_key",
            "random_uuid.consul_bootstrap_token",
            "tls_cert_request.consul_server_cert",
            "tls_locally_signed_cert.consul_server_signed_cert",
            "tls_private_key.ca_key",
            "tls_private_key.consul_server_key",
            "tls_self_signed_cert.ca_cert"
          ]
        }
      ]
    },
    {
      "module": "module.client",
      "mode": "managed",
      "type": "aws_iam_role_policy_attachment",
      "name": "execution",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "Microservice-client-execution-2022111214541670330000001a",
            "policy_arn": "arn:aws:iam::321863202336:policy/ecs/Microservice-client-execution",
            "role": "Microservice-client-execution"
          },
          "sensitive_attributes": [],
          "private": "bnVsbA==",
          "dependencies": [
            "aws_cloudwatch_log_group.acl",
            "aws_ecs_cluster.main",
            "aws_eip.nat",
            "aws_iam_instance_profile.consul_instance_profile",
            "aws_iam_role.consul_instance",
            "aws_instance.consul_server",
            "aws_internet_gateway.gw",
            "aws_nat_gateway.nat",
            "aws_secretsmanager_secret.consul_bootstrap_token",
            "aws_secretsmanager_secret.consul_gossip_key",
            "aws_secretsmanager_secret.consul_server_root_ca_cert",
            "aws_security_group.acl_controller",
            "aws_security_group.consul_client",
            "aws_security_group.consul_server",
            "aws_subnet.private",
            "aws_subnet.public",
            "aws_vpc.main",
            "data.aws_availability_zones.availabile",
            "data.aws_iam_policy_document.instance_trust_policy",
            "data.aws_ssm_parameter.ubuntu_latest",
            "module.client.aws_iam_policy.execution",
            "module.client.aws_iam_role.execution",
            "module.client.aws_secretsmanager_secret.service_token",
            "module.consul_acl_controller.aws_ecs_service.this",
            "module.consul_acl_controller.aws_ecs_task_definition.this",
            "module.consul_acl_controller.aws_iam_policy.this_execution",
            "module.consul_acl_controller.aws_iam_role.this_execution",
            "module.consul_acl_controller.aws_iam_role.this_task",
            "module.consul_acl_controller.aws_iam_role_policy_attachment.consul-controller-execution",
            "module.consul_acl_controller.aws_secretsmanager_secret.client_token",
            "module.consul_acl_controller.aws_secretsmanager_secret_version.client_token",
            "random_id.consul_gossip_key",
            "random_uuid.consul_bootstrap_token",
            "tls_cert_request.consul_server_cert",
            "tls_locally_signed_cert.consul_server_signed_cert",
            "tls_private_key.ca_key",
            "tls_private_key.consul_server_key",
            "tls_self_signed_cert.ca_cert"
          ]
        }
      ]
    },
    {
      "module": "module.client",
      "mode": "managed",
      "type": "aws_secretsmanager_secret",
      "name": "service_token",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "index_key": 0,
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:secretsmanager:us-east-1:321863202336:secret:Microservice-Microservice-client-5d5OE6",
            "description": "",
            "force_overwrite_replica_secret": false,
            "id": "arn:aws:secretsmanager:us-east-1:321863202336:secret:Microservice-Microservice-client-5d5OE6",
            "kms_key_id": "",
            "name": "Microservice-Microservice-client",
            "name_prefix": null,
            "policy": "",
            "recovery_window_in_days": 0,
            "replica": [],
            "rotation_enabled": false,
            "rotation_lambda_arn": "",
            "rotation_rules": [],
            "tags": {},
            "tags_all": {
              "project": "Microservice"
            }
          },
          "sensitive_attributes": [],
          "private": "bnVsbA==",
          "dependencies": [
            "aws_cloudwatch_log_group.acl",
            "aws_ecs_cluster.main",
            "aws_eip.nat",
            "aws_iam_instance_profile.consul_instance_profile",
            "aws_iam_role.consul_instance",
            "aws_instance.consul_server",
            "aws_internet_gateway.gw",
            "aws_nat_gateway.nat",
            "aws_secretsmanager_secret.consul_bootstrap_token",
            "aws_secretsmanager_secret.consul_server_root_ca_cert",
            "aws_security_group.acl_controller",
            "aws_security_group.consul_client",
            "aws_security_group.consul_server",
            "aws_subnet.private",
            "aws_subnet.public",
            "aws_vpc.main",
            "data.aws_availability_zones.availabile",
            "data.aws_iam_policy_document.instance_trust_policy",
            "data.aws_ssm_parameter.ubuntu_latest",
            "module.consul_acl_controller.aws_ecs_service.this",
            "module.consul_acl_controller.aws_ecs_task_definition.this",
            "module.consul_acl_controller.aws_iam_policy.this_execution",
            "module.consul_acl_controller.aws_iam_role.this_execution",
            "module.consul_acl_controller.aws_iam_role.this_task",
            "module.consul_acl_controller.aws_iam_role_policy_attachment.consul-controller-execution",
            "module.consul_acl_controller.aws_secretsmanager_secret.client_token",
            "module.consul_acl_controller.aws_secretsmanager_secret_version.client_token",
            "random_id.consul_gossip_key",
            "random_uuid.consul_bootstrap_token",
            "tls_cert_request.consul_server_cert",
            "tls_locally_signed_cert.consul_server_signed_cert",
            "tls_private_key.ca_key",
            "tls_private_key.consul_server_key",
            "tls_self_signed_cert.ca_cert"
          ]
        }
      ]
    },
    {
      "module": "module.client",
      "mode": "managed",
      "type": "aws_secretsmanager_secret_version",
      "name": "service_token",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "index_key": 0,
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:secretsmanager:us-east-1:321863202336:secret:Microservice-Microservice-client-5d5OE6",
            "id": "arn:aws:secretsmanager:us-east-1:321863202336:secret:Microservice-Microservice-client-5d5OE6|F62A6AC8-EB0F-40D6-857D-3F047CC867ED",
            "secret_binary": "",
            "secret_id": "arn:aws:secretsmanager:us-east-1:321863202336:secret:Microservice-Microservice-client-5d5OE6",
            "secret_string": "{}",
            "version_id": "F62A6AC8-EB0F-40D6-857D-3F047CC867ED",
            "version_stages": [
              "AWSPREVIOUS"
            ]
          },
          "sensitive_attributes": [],
          "private": "bnVsbA==",
          "dependencies": [
            "aws_cloudwatch_log_group.acl",
            "aws_ecs_cluster.main",
            "aws_eip.nat",
            "aws_iam_instance_profile.consul_instance_profile",
            "aws_iam_role.consul_instance",
            "aws_instance.consul_server",
            "aws_internet_gateway.gw",
            "aws_nat_gateway.nat",
            "aws_secretsmanager_secret.consul_bootstrap_token",
            "aws_secretsmanager_secret.consul_server_root_ca_cert",
            "aws_security_group.acl_controller",
            "aws_security_group.consul_client",
            "aws_security_group.consul_server",
            "aws_subnet.private",
            "aws_subnet.public",
            "aws_vpc.main",
            "data.aws_availability_zones.availabile",
            "data.aws_iam_policy_document.instance_trust_policy",
            "data.aws_ssm_parameter.ubuntu_latest",
            "module.client.aws_secretsmanager_secret.service_token",
            "module.consul_acl_controller.aws_ecs_service.this",
            "module.consul_acl_controller.aws_ecs_task_definition.this",
            "module.consul_acl_controller.aws_iam_policy.this_execution",
            "module.consul_acl_controller.aws_iam_role.this_execution",
            "module.consul_acl_controller.aws_iam_role.this_task",
            "module.consul_acl_controller.aws_iam_role_policy_attachment.consul-controller-execution",
            "module.consul_acl_controller.aws_secretsmanager_secret.client_token",
            "module.consul_acl_controller.aws_secretsmanager_secret_version.client_token",
            "random_id.consul_gossip_key",
            "random_uuid.consul_bootstrap_token",
            "tls_cert_request.consul_server_cert",
            "tls_locally_signed_cert.consul_server_signed_cert",
            "tls_private_key.ca_key",
            "tls_private_key.consul_server_key",
            "tls_self_signed_cert.ca_cert"
          ]
        }
      ]
    },
    {
      "module": "module.consul_acl_controller",
      "mode": "managed",
      "type": "aws_ecs_service",
      "name": "this",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "capacity_provider_strategy": [],
            "cluster": "arn:aws:ecs:us-east-1:321863202336:cluster/Microservice",
            "deployment_circuit_breaker": [
              {
                "enable": false,
                "rollback": false
              }
            ],
            "deployment_controller": [
              {
                "type": "ECS"
              }
            ],
            "deployment_maximum_percent": 200,
            "deployment_minimum_healthy_percent": 100,
            "desired_count": 1,
            "enable_ecs_managed_tags": false,
            "enable_execute_command": true,
            "force_new_deployment": null,
            "health_check_grace_period_seconds": 0,
            "iam_role": "aws-service-role",
            "id": "arn:aws:ecs:us-east-1:321863202336:service/Microservice/consul-acl-controller",
            "launch_type": "FARGATE",
            "load_balancer": [],
            "name": "consul-acl-controller",
            "network_configuration": [
              {
                "assign_public_ip": false,
                "security_groups": [
                  "sg-01a0d8ba570778729",
                  "sg-0857dbcfcc05bae7b"
                ],
                "subnets": [
                  "subnet-04e5b7eb6345ca38d",
                  "subnet-0a44d86f13a3ea809",
                  "subnet-0bbeb83d0ff5ba713"
                ]
              }
            ],
            "ordered_placement_strategy": [],
            "placement_constraints": [],
            "platform_version": "LATEST",
            "propagate_tags": "NONE",
            "scheduling_strategy": "REPLICA",
            "service_registries": [],
            "tags": {},
            "tags_all": {
              "project": "Microservice"
            },
            "task_definition": "arn:aws:ecs:us-east-1:321863202336:task-definition/Microservice-consul-acl-controller:3",
            "timeouts": null,
            "wait_for_steady_state": false
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiZGVsZXRlIjoxMjAwMDAwMDAwMDAwfX0=",
          "dependencies": [
            "aws_cloudwatch_log_group.acl",
            "aws_ecs_cluster.main",
            "aws_eip.nat",
            "aws_iam_instance_profile.consul_instance_profile",
            "aws_iam_role.consul_instance",
            "aws_instance.consul_server",
            "aws_internet_gateway.gw",
            "aws_nat_gateway.nat",
            "aws_secretsmanager_secret.consul_bootstrap_token",
            "aws_secretsmanager_secret.consul_server_root_ca_cert",
            "aws_security_group.acl_controller",
            "aws_security_group.consul_client",
            "aws_security_group.consul_server",
            "aws_subnet.private",
            "aws_subnet.public",
            "aws_vpc.main",
            "data.aws_availability_zones.availabile",
            "data.aws_iam_policy_document.instance_trust_policy",
            "data.aws_ssm_parameter.ubuntu_latest",
            "module.consul_acl_controller.aws_ecs_task_definition.this",
            "module.consul_acl_controller.aws_iam_role.this_execution",
            "module.consul_acl_controller.aws_iam_role.this_task",
            "module.consul_acl_controller.aws_secretsmanager_secret.client_token",
            "random_id.consul_gossip_key",
            "random_uuid.consul_bootstrap_token",
            "tls_cert_request.consul_server_cert",
            "tls_locally_signed_cert.consul_server_signed_cert",
            "tls_private_key.ca_key",
            "tls_private_key.consul_server_key",
            "tls_self_signed_cert.ca_cert"
          ]
        }
      ]
    },
    {
      "module": "module.consul_acl_controller",
      "mode": "managed",
      "type": "aws_ecs_task_definition",
      "name": "this",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 1,
          "attributes": {
            "arn": "arn:aws:ecs:us-east-1:321863202336:task-definition/Microservice-consul-acl-controller:3",
            "container_definitions": "[{\"command\":[\"acl-controller\",\"-consul-client-secret-arn\",\"arn:aws:secretsmanager:us-east-1:321863202336:secret:Microservice-consul-client-token-AXDtBP\",\"-secret-name-prefix\",\"Microservice\"],\"cpu\":0,\"environment\":[{\"name\":\"CONSUL_HTTP_ADDR\",\"value\":\"https://10.255.3.250:8501\"}],\"essential\":true,\"image\":\"public.ecr.aws/hashicorp/consul-ecs:0.4.1\",\"linuxParameters\":{\"initProcessEnabled\":true},\"logConfiguration\":{\"logDriver\":\"awslogs\",\"options\":{\"awslogs-group\":\"Microservice-acl-logs\",\"awslogs-region\":\"us-east-1\",\"awslogs-stream-prefix\":\"Microservice-acl-\"}},\"mountPoints\":[],\"name\":\"consul-acl-controller\",\"portMappings\":[],\"secrets\":[{\"name\":\"CONSUL_HTTP_TOKEN\",\"valueFrom\":\"arn:aws:secretsmanager:us-east-1:321863202336:secret:Microservice-bootstrap-token-20221112145104728500000004-DGyda6\"},{\"name\":\"CONSUL_CACERT_PEM\",\"valueFrom\":\"arn:aws:secretsmanager:us-east-1:321863202336:secret:Microservice-root-ca-cert-20221112145104712200000003-WB9O04\"}],\"volumesFrom\":[]}]",
            "cpu": "256",
            "ephemeral_storage": [],
            "execution_role_arn": "arn:aws:iam::321863202336:role/ecs/Microservice-consul-acl-controller-execution",
            "family": "Microservice-consul-acl-controller",
            "id": "Microservice-consul-acl-controller",
            "inference_accelerator": [],
            "ipc_mode": "",
            "memory": "512",
            "network_mode": "awsvpc",
            "pid_mode": "",
            "placement_constraints": [],
            "proxy_configuration": [],
            "requires_compatibilities": [
              "EC2",
              "FARGATE"
            ],
            "revision": 3,
            "runtime_platform": [],
            "skip_destroy": false,
            "tags": {},
            "tags_all": {
              "project": "Microservice"
            },
            "task_role_arn": "arn:aws:iam::321863202336:role/Microservice-consul-acl-controller-task",
            "volume": []
          },
          "sensitive_attributes": [],
          "private": "eyJzY2hlbWFfdmVyc2lvbiI6IjEifQ==",
          "dependencies": [
            "aws_cloudwatch_log_group.acl",
            "aws_eip.nat",
            "aws_iam_instance_profile.consul_instance_profile",
            "aws_iam_role.consul_instance",
            "aws_instance.consul_server",
            "aws_internet_gateway.gw",
            "aws_nat_gateway.nat",
            "aws_secretsmanager_secret.consul_bootstrap_token",
            "aws_secretsmanager_secret.consul_server_root_ca_cert",
            "aws_security_group.consul_server",
            "aws_subnet.private",
            "aws_subnet.public",
            "aws_vpc.main",
            "data.aws_availability_zones.availabile",
            "data.aws_iam_policy_document.instance_trust_policy",
            "data.aws_ssm_parameter.ubuntu_latest",
            "module.consul_acl_controller.aws_iam_role.this_execution",
            "module.consul_acl_controller.aws_iam_role.this_task",
            "module.consul_acl_controller.aws_secretsmanager_secret.client_token",
            "random_id.consul_gossip_key",
            "random_uuid.consul_bootstrap_token",
            "tls_cert_request.consul_server_cert",
            "tls_locally_signed_cert.consul_server_signed_cert",
            "tls_private_key.ca_key",
            "tls_private_key.consul_server_key",
            "tls_self_signed_cert.ca_cert"
          ]
        }
      ]
    },
    {
      "module": "module.consul_acl_controller",
      "mode": "managed",
      "type": "aws_iam_policy",
      "name": "this_execution",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:iam::321863202336:policy/ecs/Microservice-consul-acl-controller-execution",
            "description": "Consul controller execution",
            "id": "arn:aws:iam::321863202336:policy/ecs/Microservice-consul-acl-controller-execution",
            "name": "Microservice-consul-acl-controller-execution",
            "name_prefix": null,
            "path": "/ecs/",
            "policy": "{\"Statement\":[{\"Action\":[\"secretsmanager:GetSecretValue\"],\"Effect\":\"Allow\",\"Resource\":[\"arn:aws:secretsmanager:us-east-1:321863202336:secret:Microservice-bootstrap-token-20221112145104728500000004-DGyda6\"]},{\"Action\":[\"secretsmanager:GetSecretValue\"],\"Effect\":\"Allow\",\"Resource\":[\"arn:aws:secretsmanager:us-east-1:321863202336:secret:Microservice-root-ca-cert-20221112145104712200000003-WB9O04\"]},{\"Action\":[\"logs:CreateLogStream\",\"logs:PutLogEvents\"],\"Effect\":\"Allow\",\"Resource\":\"*\"}],\"Version\":\"2012-10-17\"}",
            "policy_id": "ANPAUV4EKWYQEEE3YRCRP",
            "tags": {},
            "tags_all": {
              "project": "Microservice"
            }
          },
          "sensitive_attributes": [],
          "private": "bnVsbA==",
          "dependencies": [
            "aws_eip.nat",
            "aws_iam_instance_profile.consul_instance_profile",
            "aws_iam_role.consul_instance",
            "aws_instance.consul_server",
            "aws_internet_gateway.gw",
            "aws_nat_gateway.nat",
            "aws_secretsmanager_secret.consul_bootstrap_token",
            "aws_secretsmanager_secret.consul_server_root_ca_cert",
            "aws_security_group.consul_server",
            "aws_subnet.private",
            "aws_subnet.public",
            "aws_vpc.main",
            "data.aws_availability_zones.availabile",
            "data.aws_iam_policy_document.instance_trust_policy",
            "data.aws_ssm_parameter.ubuntu_latest",
            "random_id.consul_gossip_key",
            "random_uuid.consul_bootstrap_token",
            "tls_cert_request.consul_server_cert",
            "tls_locally_signed_cert.consul_server_signed_cert",
            "tls_private_key.ca_key",
            "tls_private_key.consul_server_key",
            "tls_self_signed_cert.ca_cert"
          ]
        }
      ]
    },
    {
      "module": "module.consul_acl_controller",
      "mode": "managed",
      "type": "aws_iam_role",
      "name": "this_execution",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:iam::321863202336:role/ecs/Microservice-consul-acl-controller-execution",
            "assume_role_policy": "{\"Version\":\"2012-10-17\",\"Statement\":[{\"Sid\":\"\",\"Effect\":\"Allow\",\"Principal\":{\"Service\":\"ecs-tasks.amazonaws.com\"},\"Action\":\"sts:AssumeRole\"}]}",
            "create_date": "2022-11-12T14:54:14Z",
            "description": "",
            "force_detach_policies": false,
            "id": "Microservice-consul-acl-controller-execution",
            "inline_policy": [
              {
                "name": "",
                "policy": ""
              }
            ],
            "managed_policy_arns": [
              "arn:aws:iam::321863202336:policy/ecs/Microservice-consul-acl-controller-execution"
            ],
            "max_session_duration": 3600,
            "name": "Microservice-consul-acl-controller-execution",
            "name_prefix": "",
            "path": "/ecs/",
            "permissions_boundary": null,
            "tags": {},
            "tags_all": {
              "project": "Microservice"
            },
            "unique_id": "AROAUV4EKWYQKBB3WRKBF"
          },
          "sensitive_attributes": [],
          "private": "bnVsbA==",
          "dependencies": [
            "aws_eip.nat",
            "aws_iam_instance_profile.consul_instance_profile",
            "aws_iam_role.consul_instance",
            "aws_instance.consul_server",
            "aws_internet_gateway.gw",
            "aws_nat_gateway.nat",
            "aws_security_group.consul_server",
            "aws_subnet.private",
            "aws_subnet.public",
            "aws_vpc.main",
            "data.aws_availability_zones.availabile",
            "data.aws_iam_policy_document.instance_trust_policy",
            "data.aws_ssm_parameter.ubuntu_latest",
            "random_id.consul_gossip_key",
            "random_uuid.consul_bootstrap_token",
            "tls_cert_request.consul_server_cert",
            "tls_locally_signed_cert.consul_server_signed_cert",
            "tls_private_key.ca_key",
            "tls_private_key.consul_server_key",
            "tls_self_signed_cert.ca_cert"
          ]
        }
      ]
    },
    {
      "module": "module.consul_acl_controller",
      "mode": "managed",
      "type": "aws_iam_role",
      "name": "this_task",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:iam::321863202336:role/Microservice-consul-acl-controller-task",
            "assume_role_policy": "{\"Version\":\"2012-10-17\",\"Statement\":[{\"Sid\":\"\",\"Effect\":\"Allow\",\"Principal\":{\"Service\":\"ecs-tasks.amazonaws.com\"},\"Action\":\"sts:AssumeRole\"}]}",
            "create_date": "2022-11-12T14:54:14Z",
            "description": "",
            "force_detach_policies": false,
            "id": "Microservice-consul-acl-controller-task",
            "inline_policy": [
              {
                "name": "exec",
                "policy": "{\"Statement\":[{\"Action\":[\"ssmmessages:CreateControlChannel\",\"ssmmessages:CreateDataChannel\",\"ssmmessages:OpenControlChannel\",\"ssmmessages:OpenDataChannel\",\"ecs:ListTasks\",\"ecs:DescribeTasks\"],\"Effect\":\"Allow\",\"Resource\":\"*\"},{\"Action\":[\"secretsmanager:GetSecretValue\",\"secretsmanager:UpdateSecret\"],\"Effect\":\"Allow\",\"Resource\":\"arn:aws:secretsmanager:us-east-1:*:secret:Microservice-*\"}],\"Version\":\"2012-10-17\"}"
              }
            ],
            "managed_policy_arns": [],
            "max_session_duration": 3600,
            "name": "Microservice-consul-acl-controller-task",
            "name_prefix": "",
            "path": "/",
            "permissions_boundary": null,
            "tags": {},
            "tags_all": {
              "project": "Microservice"
            },
            "unique_id": "AROAUV4EKWYQG6LSV2HFI"
          },
          "sensitive_attributes": [],
          "private": "bnVsbA==",
          "dependencies": [
            "aws_eip.nat",
            "aws_iam_instance_profile.consul_instance_profile",
            "aws_iam_role.consul_instance",
            "aws_instance.consul_server",
            "aws_internet_gateway.gw",
            "aws_nat_gateway.nat",
            "aws_security_group.consul_server",
            "aws_subnet.private",
            "aws_subnet.public",
            "aws_vpc.main",
            "data.aws_availability_zones.availabile",
            "data.aws_iam_policy_document.instance_trust_policy",
            "data.aws_ssm_parameter.ubuntu_latest",
            "random_id.consul_gossip_key",
            "random_uuid.consul_bootstrap_token",
            "tls_cert_request.consul_server_cert",
            "tls_locally_signed_cert.consul_server_signed_cert",
            "tls_private_key.ca_key",
            "tls_private_key.consul_server_key",
            "tls_self_signed_cert.ca_cert"
          ]
        }
      ]
    },
    {
      "module": "module.consul_acl_controller",
      "mode": "managed",
      "type": "aws_iam_role_policy_attachment",
      "name": "consul-controller-execution",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "Microservice-consul-acl-controller-execution-20221112145414902600000017",
            "policy_arn": "arn:aws:iam::321863202336:policy/ecs/Microservice-consul-acl-controller-execution",
            "role": "Microservice-consul-acl-controller-execution"
          },
          "sensitive_attributes": [],
          "private": "bnVsbA==",
          "dependencies": [
            "aws_eip.nat",
            "aws_iam_instance_profile.consul_instance_profile",
            "aws_iam_role.consul_instance",
            "aws_instance.consul_server",
            "aws_internet_gateway.gw",
            "aws_nat_gateway.nat",
            "aws_secretsmanager_secret.consul_bootstrap_token",
            "aws_secretsmanager_secret.consul_server_root_ca_cert",
            "aws_security_group.consul_server",
            "aws_subnet.private",
            "aws_subnet.public",
            "aws_vpc.main",
            "data.aws_availability_zones.availabile",
            "data.aws_iam_policy_document.instance_trust_policy",
            "data.aws_ssm_parameter.ubuntu_latest",
            "module.consul_acl_controller.aws_iam_policy.this_execution",
            "module.consul_acl_controller.aws_iam_role.this_execution",
            "random_id.consul_gossip_key",
            "random_uuid.consul_bootstrap_token",
            "tls_cert_request.consul_server_cert",
            "tls_locally_signed_cert.consul_server_signed_cert",
            "tls_private_key.ca_key",
            "tls_private_key.consul_server_key",
            "tls_self_signed_cert.ca_cert"
          ]
        }
      ]
    },
    {
      "module": "module.consul_acl_controller",
      "mode": "managed",
      "type": "aws_secretsmanager_secret",
      "name": "client_token",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:secretsmanager:us-east-1:321863202336:secret:Microservice-consul-client-token-AXDtBP",
            "description": "",
            "force_overwrite_replica_secret": false,
            "id": "arn:aws:secretsmanager:us-east-1:321863202336:secret:Microservice-consul-client-token-AXDtBP",
            "kms_key_id": "",
            "name": "Microservice-consul-client-token",
            "name_prefix": null,
            "policy": "",
            "recovery_window_in_days": 0,
            "replica": [],
            "rotation_enabled": false,
            "rotation_lambda_arn": "",
            "rotation_rules": [],
            "tags": {},
            "tags_all": {
              "project": "Microservice"
            }
          },
          "sensitive_attributes": [],
          "private": "bnVsbA==",
          "dependencies": [
            "aws_eip.nat",
            "aws_iam_instance_profile.consul_instance_profile",
            "aws_iam_role.consul_instance",
            "aws_instance.consul_server",
            "aws_internet_gateway.gw",
            "aws_nat_gateway.nat",
            "aws_security_group.consul_server",
            "aws_subnet.private",
            "aws_subnet.public",
            "aws_vpc.main",
            "data.aws_availability_zones.availabile",
            "data.aws_iam_policy_document.instance_trust_policy",
            "data.aws_ssm_parameter.ubuntu_latest",
            "random_id.consul_gossip_key",
            "random_uuid.consul_bootstrap_token",
            "tls_cert_request.consul_server_cert",
            "tls_locally_signed_cert.consul_server_signed_cert",
            "tls_private_key.ca_key",
            "tls_private_key.consul_server_key",
            "tls_self_signed_cert.ca_cert"
          ]
        }
      ]
    },
    {
      "module": "module.consul_acl_controller",
      "mode": "managed",
      "type": "aws_secretsmanager_secret_version",
      "name": "client_token",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:secretsmanager:us-east-1:321863202336:secret:Microservice-consul-client-token-AXDtBP",
            "id": "arn:aws:secretsmanager:us-east-1:321863202336:secret:Microservice-consul-client-token-AXDtBP|4E32D6B9-E51F-44F0-A13A-86086BF34F9D",
            "secret_binary": "",
            "secret_id": "arn:aws:secretsmanager:us-east-1:321863202336:secret:Microservice-consul-client-token-AXDtBP",
            "secret_string": "{}",
            "version_id": "4E32D6B9-E51F-44F0-A13A-86086BF34F9D",
            "version_stages": [
              "AWSPREVIOUS"
            ]
          },
          "sensitive_attributes": [],
          "private": "bnVsbA==",
          "dependencies": [
            "aws_eip.nat",
            "aws_iam_instance_profile.consul_instance_profile",
            "aws_iam_role.consul_instance",
            "aws_instance.consul_server",
            "aws_internet_gateway.gw",
            "aws_nat_gateway.nat",
            "aws_security_group.consul_server",
            "aws_subnet.private",
            "aws_subnet.public",
            "aws_vpc.main",
            "data.aws_availability_zones.availabile",
            "data.aws_iam_policy_document.instance_trust_policy",
            "data.aws_ssm_parameter.ubuntu_latest",
            "module.consul_acl_controller.aws_secretsmanager_secret.client_token",
            "random_id.consul_gossip_key",
            "random_uuid.consul_bootstrap_token",
            "tls_cert_request.consul_server_cert",
            "tls_locally_signed_cert.consul_server_signed_cert",
            "tls_private_key.ca_key",
            "tls_private_key.consul_server_key",
            "tls_self_signed_cert.ca_cert"
          ]
        }
      ]
    },
    {
      "module": "module.fruits",
      "mode": "data",
      "type": "aws_region",
      "name": "current",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "description": "US East (N. Virginia)",
            "endpoint": "ec2.us-east-1.amazonaws.com",
            "id": "us-east-1",
            "name": "us-east-1"
          },
          "sensitive_attributes": []
        }
      ]
    },
    {
      "module": "module.fruits",
      "mode": "managed",
      "type": "aws_ecs_task_definition",
      "name": "this",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 1,
          "attributes": {
            "arn": "arn:aws:ecs:us-east-1:321863202336:task-definition/Microservice-fruits:3",
            "container_definitions": "[{\"cpu\":0,\"dependsOn\":[{\"condition\":\"SUCCESS\",\"containerName\":\"consul-ecs-mesh-init\"},{\"condition\":\"HEALTHY\",\"containerName\":\"sidecar-proxy\"}],\"environment\":[{\"name\":\"MESSAGE\",\"value\":\"Hello from the client!\"},{\"name\":\"NAME\",\"value\":\"fruits\"},{\"name\":\"UPSTREAM_URIS\",\"value\":\"http://10.255.3.253:27017\"}],\"essential\":true,\"image\":\"nicholasjackson/fake-service:v0.23.1\",\"logConfiguration\":{\"logDriver\":\"awslogs\",\"options\":{\"awslogs-group\":\"Microservice-fruits-logs\",\"awslogs-region\":\"us-east-1\",\"awslogs-stream-prefix\":\"Microservice-fruits\"}},\"mountPoints\":[],\"name\":\"fruits\",\"portMappings\":[{\"containerPort\":9090,\"hostPort\":9090,\"protocol\":\"tcp\"}],\"volumesFrom\":[]},{\"command\":[\"mesh-init\"],\"cpu\":0,\"environment\":[{\"name\":\"CONSUL_ECS_CONFIG_JSON\",\"value\":\"{\\\"bootstrapDir\\\":\\\"/consul\\\",\\\"healthSyncContainers\\\":[],\\\"proxy\\\":{\\\"upstreams\\\":[]},\\\"service\\\":{\\\"checks\\\":[],\\\"meta\\\":{},\\\"name\\\":\\\"Microservice-fruits\\\",\\\"namespace\\\":\\\"\\\",\\\"partition\\\":\\\"\\\",\\\"port\\\":9090,\\\"tags\\\":[]}}\"}],\"essential\":false,\"image\":\"public.ecr.aws/hashicorp/consul-ecs:0.4.1\",\"logConfiguration\":{\"logDriver\":\"awslogs\",\"options\":{\"awslogs-group\":\"Microservice-fruits-sidecars-logs\",\"awslogs-region\":\"us-east-1\",\"awslogs-stream-prefix\":\"Microservice-fruits-sidecars-\"}},\"mountPoints\":[{\"containerPath\":\"/consul\",\"readOnly\":false,\"sourceVolume\":\"consul_data\"},{\"containerPath\":\"/bin/consul-inject\",\"readOnly\":true,\"sourceVolume\":\"consul_binary\"}],\"name\":\"consul-ecs-mesh-init\",\"portMappings\":[],\"secrets\":[{\"name\":\"CONSUL_HTTP_TOKEN\",\"valueFrom\":\"arn:aws:secretsmanager:us-east-1:321863202336:secret:Microservice-Microservice-fruits-gd14d5:token::\"}],\"volumesFrom\":[]},{\"command\":[\"cp /bin/consul /bin/consul-inject/consul\\n\\nECS_IPV4=$(curl -s $ECS_CONTAINER_METADATA_URI_V4 | jq -r '.Networks[0].IPv4Addresses[0]')\\n\\necho \\\"$CONSUL_CACERT\\\" \u003e /tmp/consul-ca-cert.pem\\n\\ncat \u003c\u003c EOF \u003e /consul/agent-defaults.hcl\\naddresses = {\\n  dns = \\\"127.0.0.1\\\"\\n  grpc = \\\"127.0.0.1\\\"\\n  http = \\\"127.0.0.1\\\"\\n}\\nadvertise_addr = \\\"$ECS_IPV4\\\"\\nadvertise_reconnect_timeout = \\\"15m\\\"\\nclient_addr = \\\"0.0.0.0\\\"\\ndatacenter = \\\"$CONSUL_DATACENTER\\\"\\nenable_central_service_config = true\\nencrypt = \\\"$CONSUL_GOSSIP_ENCRYPTION_KEY\\\"\\nleave_on_terminate = true\\nports {\\n  grpc = 8502\\n}\\nretry_join = [\\n  \\\"10.255.3.250\\\",\\n  \\\"10.255.4.250\\\",\\n  \\\"10.255.5.250\\\",\\n]\\ntelemetry {\\n  disable_compat_1.9 = true\\n}\\nauto_encrypt = {\\n  tls = true\\n  ip_san = [\\\"$ECS_IPV4\\\"]\\n}\\nca_file = \\\"/tmp/consul-ca-cert.pem\\\"\\nverify_outgoing = true\\nacl {\\n  enabled = true\\n  default_policy = \\\"deny\\\"\\n  down_policy = \\\"async-cache\\\"\\n  tokens {\\n    agent = \\\"$AGENT_TOKEN\\\"\\n  }\\n}\\n\\n\\nEOF\\n\\n\\nexec consul agent \\\\\\n    -data-dir /consul/data \\\\\\n    -config-file /consul/agent-defaults.hcl \\\\\\n\"],\"cpu\":0,\"entryPoint\":[\"/bin/sh\",\"-ec\"],\"environment\":[{\"name\":\"CONSUL_DATACENTER\",\"value\":\"dc1\"}],\"essential\":false,\"image\":\"public.ecr.aws/hashicorp/consul:1.11.4\",\"linuxParameters\":{\"initProcessEnabled\":true},\"logConfiguration\":{\"logDriver\":\"awslogs\",\"options\":{\"awslogs-group\":\"Microservice-fruits-sidecars-logs\",\"awslogs-region\":\"us-east-1\",\"awslogs-stream-prefix\":\"Microservice-fruits-sidecars-\"}},\"mountPoints\":[{\"containerPath\":\"/consul\",\"readOnly\":false,\"sourceVolume\":\"consul_data\"},{\"containerPath\":\"/bin/consul-inject\",\"sourceVolume\":\"consul_binary\"}],\"name\":\"consul-client\",\"portMappings\":[],\"secrets\":[{\"name\":\"CONSUL_CACERT\",\"valueFrom\":\"arn:aws:secretsmanager:us-east-1:321863202336:secret:Microservice-root-ca-cert-20221112145104712200000003-WB9O04\"},{\"name\":\"CONSUL_GOSSIP_ENCRYPTION_KEY\",\"valueFrom\":\"arn:aws:secretsmanager:us-east-1:321863202336:secret:Microservice-gossip-key-20221112145104705800000002-bEmTO5\"},{\"name\":\"AGENT_TOKEN\",\"valueFrom\":\"arn:aws:secretsmanager:us-east-1:321863202336:secret:Microservice-consul-client-token-AXDtBP:token::\"}],\"volumesFrom\":[]},{\"command\":[\"envoy\",\"--config-path\",\"/consul/envoy-bootstrap.json\"],\"cpu\":0,\"dependsOn\":[{\"condition\":\"SUCCESS\",\"containerName\":\"consul-ecs-mesh-init\"}],\"entryPoint\":[\"/consul/consul-ecs\",\"envoy-entrypoint\"],\"environment\":[],\"essential\":false,\"healthCheck\":{\"command\":[\"nc\",\"-z\",\"127.0.0.1\",\"20000\"],\"interval\":30,\"retries\":3,\"timeout\":5},\"image\":\"envoyproxy/envoy-alpine:v1.20.2\",\"logConfiguration\":{\"logDriver\":\"awslogs\",\"options\":{\"awslogs-group\":\"Microservice-fruits-sidecars-logs\",\"awslogs-region\":\"us-east-1\",\"awslogs-stream-prefix\":\"Microservice-fruits-sidecars-\"}},\"mountPoints\":[{\"containerPath\":\"/consul\",\"readOnly\":true,\"sourceVolume\":\"consul_data\"}],\"name\":\"sidecar-proxy\",\"portMappings\":[],\"ulimits\":[{\"hardLimit\":1048576,\"name\":\"nofile\",\"softLimit\":1048576}],\"volumesFrom\":[]}]",
            "cpu": "256",
            "ephemeral_storage": [],
            "execution_role_arn": "arn:aws:iam::321863202336:role/ecs/Microservice-fruits-execution",
            "family": "Microservice-fruits",
            "id": "Microservice-fruits",
            "inference_accelerator": [],
            "ipc_mode": "",
            "memory": "512",
            "network_mode": "awsvpc",
            "pid_mode": "",
            "placement_constraints": [],
            "proxy_configuration": [],
            "requires_compatibilities": [
              "FARGATE"
            ],
            "revision": 3,
            "runtime_platform": [],
            "skip_destroy": false,
            "tags": {
              "consul.hashicorp.com/mesh": "true",
              "consul.hashicorp.com/module": "terraform-aws-consul-ecs",
              "consul.hashicorp.com/module-version": "0.4.1",
              "consul.hashicorp.com/service-name": "Microservice-fruits"
            },
            "tags_all": {
              "consul.hashicorp.com/mesh": "true",
              "consul.hashicorp.com/module": "terraform-aws-consul-ecs",
              "consul.hashicorp.com/module-version": "0.4.1",
              "consul.hashicorp.com/service-name": "Microservice-fruits",
              "project": "Microservice"
            },
            "task_role_arn": "arn:aws:iam::321863202336:role/Microservice-fruits-task",
            "volume": [
              {
                "docker_volume_configuration": [],
                "efs_volume_configuration": [],
                "fsx_windows_file_server_volume_configuration": [],
                "host_path": "",
                "name": "consul_binary"
              },
              {
                "docker_volume_configuration": [],
                "efs_volume_configuration": [],
                "fsx_windows_file_server_volume_configuration": [],
                "host_path": "",
                "name": "consul_data"
              }
            ]
          },
          "sensitive_attributes": [],
          "private": "eyJzY2hlbWFfdmVyc2lvbiI6IjEifQ==",
          "dependencies": [
            "aws_cloudwatch_log_group.acl",
            "aws_cloudwatch_log_group.fruits",
            "aws_cloudwatch_log_group.fruits_sidecars",
            "aws_ecs_cluster.main",
            "aws_eip.nat",
            "aws_iam_instance_profile.consul_instance_profile",
            "aws_iam_role.consul_instance",
            "aws_instance.consul_server",
            "aws_internet_gateway.gw",
            "aws_nat_gateway.nat",
            "aws_secretsmanager_secret.consul_bootstrap_token",
            "aws_secretsmanager_secret.consul_gossip_key",
            "aws_secretsmanager_secret.consul_server_root_ca_cert",
            "aws_security_group.acl_controller",
            "aws_security_group.consul_client",
            "aws_security_group.consul_server",
            "aws_subnet.private",
            "aws_subnet.public",
            "aws_vpc.main",
            "data.aws_availability_zones.availabile",
            "data.aws_iam_policy_document.instance_trust_policy",
            "data.aws_ssm_parameter.ubuntu_latest",
            "module.consul_acl_controller.aws_ecs_service.this",
            "module.consul_acl_controller.aws_ecs_task_definition.this",
            "module.consul_acl_controller.aws_iam_policy.this_execution",
            "module.consul_acl_controller.aws_iam_role.this_execution",
            "module.consul_acl_controller.aws_iam_role.this_task",
            "module.consul_acl_controller.aws_iam_role_policy_attachment.consul-controller-execution",
            "module.consul_acl_controller.aws_secretsmanager_secret.client_token",
            "module.consul_acl_controller.aws_secretsmanager_secret_version.client_token",
            "module.fruits.aws_iam_role.execution",
            "module.fruits.aws_iam_role.task",
            "module.fruits.aws_secretsmanager_secret.service_token",
            "random_id.consul_gossip_key",
            "random_uuid.consul_bootstrap_token",
            "tls_cert_request.consul_server_cert",
            "tls_locally_signed_cert.consul_server_signed_cert",
            "tls_private_key.ca_key",
            "tls_private_key.consul_server_key",
            "tls_self_signed_cert.ca_cert"
          ]
        }
      ]
    },
    {
      "module": "module.fruits",
      "mode": "managed",
      "type": "aws_iam_policy",
      "name": "execution",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:iam::321863202336:policy/ecs/Microservice-fruits-execution",
            "description": "Microservice-fruits mesh-task execution policy",
            "id": "arn:aws:iam::321863202336:policy/ecs/Microservice-fruits-execution",
            "name": "Microservice-fruits-execution",
            "name_prefix": null,
            "path": "/ecs/",
            "policy": "{\"Statement\":[{\"Action\":[\"secretsmanager:GetSecretValue\"],\"Effect\":\"Allow\",\"Resource\":[\"arn:aws:secretsmanager:us-east-1:321863202336:secret:Microservice-root-ca-cert-20221112145104712200000003-WB9O04\"]},{\"Action\":[\"secretsmanager:GetSecretValue\"],\"Effect\":\"Allow\",\"Resource\":[\"arn:aws:secretsmanager:us-east-1:321863202336:secret:Microservice-consul-client-token-AXDtBP\",\"arn:aws:secretsmanager:us-east-1:321863202336:secret:Microservice-Microservice-fruits-gd14d5\"]},{\"Action\":[\"secretsmanager:GetSecretValue\"],\"Effect\":\"Allow\",\"Resource\":[\"arn:aws:secretsmanager:us-east-1:321863202336:secret:Microservice-gossip-key-20221112145104705800000002-bEmTO5\"]},{\"Action\":[\"logs:CreateLogStream\",\"logs:PutLogEvents\"],\"Effect\":\"Allow\",\"Resource\":\"*\"}],\"Version\":\"2012-10-17\"}",
            "policy_id": "ANPAUV4EKWYQA7LWPGYS3",
            "tags": {},
            "tags_all": {
              "project": "Microservice"
            }
          },
          "sensitive_attributes": [],
          "private": "bnVsbA==",
          "dependencies": [
            "aws_cloudwatch_log_group.acl",
            "aws_ecs_cluster.main",
            "aws_eip.nat",
            "aws_iam_instance_profile.consul_instance_profile",
            "aws_iam_role.consul_instance",
            "aws_instance.consul_server",
            "aws_internet_gateway.gw",
            "aws_nat_gateway.nat",
            "aws_secretsmanager_secret.consul_bootstrap_token",
            "aws_secretsmanager_secret.consul_gossip_key",
            "aws_secretsmanager_secret.consul_server_root_ca_cert",
            "aws_security_group.acl_controller",
            "aws_security_group.consul_client",
            "aws_security_group.consul_server",
            "aws_subnet.private",
            "aws_subnet.public",
            "aws_vpc.main",
            "data.aws_availability_zones.availabile",
            "data.aws_iam_policy_document.instance_trust_policy",
            "data.aws_ssm_parameter.ubuntu_latest",
            "module.consul_acl_controller.aws_ecs_service.this",
            "module.consul_acl_controller.aws_ecs_task_definition.this",
            "module.consul_acl_controller.aws_iam_policy.this_execution",
            "module.consul_acl_controller.aws_iam_role.this_execution",
            "module.consul_acl_controller.aws_iam_role.this_task",
            "module.consul_acl_controller.aws_iam_role_policy_attachment.consul-controller-execution",
            "module.consul_acl_controller.aws_secretsmanager_secret.client_token",
            "module.consul_acl_controller.aws_secretsmanager_secret_version.client_token",
            "module.fruits.aws_secretsmanager_secret.service_token",
            "random_id.consul_gossip_key",
            "random_uuid.consul_bootstrap_token",
            "tls_cert_request.consul_server_cert",
            "tls_locally_signed_cert.consul_server_signed_cert",
            "tls_private_key.ca_key",
            "tls_private_key.consul_server_key",
            "tls_self_signed_cert.ca_cert"
          ]
        }
      ]
    },
    {
      "module": "module.fruits",
      "mode": "managed",
      "type": "aws_iam_role",
      "name": "execution",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "index_key": 0,
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:iam::321863202336:role/ecs/Microservice-fruits-execution",
            "assume_role_policy": "{\"Version\":\"2012-10-17\",\"Statement\":[{\"Effect\":\"Allow\",\"Principal\":{\"Service\":\"ecs-tasks.amazonaws.com\"},\"Action\":\"sts:AssumeRole\"}]}",
            "create_date": "2022-11-12T14:54:15Z",
            "description": "",
            "force_detach_policies": false,
            "id": "Microservice-fruits-execution",
            "inline_policy": [
              {
                "name": "",
                "policy": ""
              }
            ],
            "managed_policy_arns": [
              "arn:aws:iam::321863202336:policy/ecs/Microservice-fruits-execution"
            ],
            "max_session_duration": 3600,
            "name": "Microservice-fruits-execution",
            "name_prefix": "",
            "path": "/ecs/",
            "permissions_boundary": null,
            "tags": {},
            "tags_all": {
              "project": "Microservice"
            },
            "unique_id": "AROAUV4EKWYQP5VRYKCMP"
          },
          "sensitive_attributes": [],
          "private": "bnVsbA==",
          "dependencies": [
            "aws_cloudwatch_log_group.acl",
            "aws_ecs_cluster.main",
            "aws_eip.nat",
            "aws_iam_instance_profile.consul_instance_profile",
            "aws_iam_role.consul_instance",
            "aws_instance.consul_server",
            "aws_internet_gateway.gw",
            "aws_nat_gateway.nat",
            "aws_secretsmanager_secret.consul_bootstrap_token",
            "aws_secretsmanager_secret.consul_server_root_ca_cert",
            "aws_security_group.acl_controller",
            "aws_security_group.consul_client",
            "aws_security_group.consul_server",
            "aws_subnet.private",
            "aws_subnet.public",
            "aws_vpc.main",
            "data.aws_availability_zones.availabile",
            "data.aws_iam_policy_document.instance_trust_policy",
            "data.aws_ssm_parameter.ubuntu_latest",
            "module.consul_acl_controller.aws_ecs_service.this",
            "module.consul_acl_controller.aws_ecs_task_definition.this",
            "module.consul_acl_controller.aws_iam_policy.this_execution",
            "module.consul_acl_controller.aws_iam_role.this_execution",
            "module.consul_acl_controller.aws_iam_role.this_task",
            "module.consul_acl_controller.aws_iam_role_policy_attachment.consul-controller-execution",
            "module.consul_acl_controller.aws_secretsmanager_secret.client_token",
            "module.consul_acl_controller.aws_secretsmanager_secret_version.client_token",
            "random_id.consul_gossip_key",
            "random_uuid.consul_bootstrap_token",
            "tls_cert_request.consul_server_cert",
            "tls_locally_signed_cert.consul_server_signed_cert",
            "tls_private_key.ca_key",
            "tls_private_key.consul_server_key",
            "tls_self_signed_cert.ca_cert"
          ]
        }
      ]
    },
    {
      "module": "module.fruits",
      "mode": "managed",
      "type": "aws_iam_role",
      "name": "task",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "index_key": 0,
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:iam::321863202336:role/Microservice-fruits-task",
            "assume_role_policy": "{\"Version\":\"2012-10-17\",\"Statement\":[{\"Effect\":\"Allow\",\"Principal\":{\"Service\":\"ecs-tasks.amazonaws.com\"},\"Action\":\"sts:AssumeRole\"}]}",
            "create_date": "2022-11-12T14:54:15Z",
            "description": "",
            "force_detach_policies": false,
            "id": "Microservice-fruits-task",
            "inline_policy": [
              {
                "name": "",
                "policy": ""
              }
            ],
            "managed_policy_arns": [],
            "max_session_duration": 3600,
            "name": "Microservice-fruits-task",
            "name_prefix": "",
            "path": "/",
            "permissions_boundary": null,
            "tags": {},
            "tags_all": {
              "project": "Microservice"
            },
            "unique_id": "AROAUV4EKWYQPGC6ZGJAA"
          },
          "sensitive_attributes": [],
          "private": "bnVsbA==",
          "dependencies": [
            "aws_cloudwatch_log_group.acl",
            "aws_ecs_cluster.main",
            "aws_eip.nat",
            "aws_iam_instance_profile.consul_instance_profile",
            "aws_iam_role.consul_instance",
            "aws_instance.consul_server",
            "aws_internet_gateway.gw",
            "aws_nat_gateway.nat",
            "aws_secretsmanager_secret.consul_bootstrap_token",
            "aws_secretsmanager_secret.consul_server_root_ca_cert",
            "aws_security_group.acl_controller",
            "aws_security_group.consul_client",
            "aws_security_group.consul_server",
            "aws_subnet.private",
            "aws_subnet.public",
            "aws_vpc.main",
            "data.aws_availability_zones.availabile",
            "data.aws_iam_policy_document.instance_trust_policy",
            "data.aws_ssm_parameter.ubuntu_latest",
            "module.consul_acl_controller.aws_ecs_service.this",
            "module.consul_acl_controller.aws_ecs_task_definition.this",
            "module.consul_acl_controller.aws_iam_policy.this_execution",
            "module.consul_acl_controller.aws_iam_role.this_execution",
            "module.consul_acl_controller.aws_iam_role.this_task",
            "module.consul_acl_controller.aws_iam_role_policy_attachment.consul-controller-execution",
            "module.consul_acl_controller.aws_secretsmanager_secret.client_token",
            "module.consul_acl_controller.aws_secretsmanager_secret_version.client_token",
            "random_id.consul_gossip_key",
            "random_uuid.consul_bootstrap_token",
            "tls_cert_request.consul_server_cert",
            "tls_locally_signed_cert.consul_server_signed_cert",
            "tls_private_key.ca_key",
            "tls_private_key.consul_server_key",
            "tls_self_signed_cert.ca_cert"
          ]
        }
      ]
    },
    {
      "module": "module.fruits",
      "mode": "managed",
      "type": "aws_iam_role_policy_attachment",
      "name": "execution",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "Microservice-fruits-execution-20221112145416671000000019",
            "policy_arn": "arn:aws:iam::321863202336:policy/ecs/Microservice-fruits-execution",
            "role": "Microservice-fruits-execution"
          },
          "sensitive_attributes": [],
          "private": "bnVsbA==",
          "dependencies": [
            "aws_cloudwatch_log_group.acl",
            "aws_ecs_cluster.main",
            "aws_eip.nat",
            "aws_iam_instance_profile.consul_instance_profile",
            "aws_iam_role.consul_instance",
            "aws_instance.consul_server",
            "aws_internet_gateway.gw",
            "aws_nat_gateway.nat",
            "aws_secretsmanager_secret.consul_bootstrap_token",
            "aws_secretsmanager_secret.consul_gossip_key",
            "aws_secretsmanager_secret.consul_server_root_ca_cert",
            "aws_security_group.acl_controller",
            "aws_security_group.consul_client",
            "aws_security_group.consul_server",
            "aws_subnet.private",
            "aws_subnet.public",
            "aws_vpc.main",
            "data.aws_availability_zones.availabile",
            "data.aws_iam_policy_document.instance_trust_policy",
            "data.aws_ssm_parameter.ubuntu_latest",
            "module.consul_acl_controller.aws_ecs_service.this",
            "module.consul_acl_controller.aws_ecs_task_definition.this",
            "module.consul_acl_controller.aws_iam_policy.this_execution",
            "module.consul_acl_controller.aws_iam_role.this_execution",
            "module.consul_acl_controller.aws_iam_role.this_task",
            "module.consul_acl_controller.aws_iam_role_policy_attachment.consul-controller-execution",
            "module.consul_acl_controller.aws_secretsmanager_secret.client_token",
            "module.consul_acl_controller.aws_secretsmanager_secret_version.client_token",
            "module.fruits.aws_iam_policy.execution",
            "module.fruits.aws_iam_role.execution",
            "module.fruits.aws_secretsmanager_secret.service_token",
            "random_id.consul_gossip_key",
            "random_uuid.consul_bootstrap_token",
            "tls_cert_request.consul_server_cert",
            "tls_locally_signed_cert.consul_server_signed_cert",
            "tls_private_key.ca_key",
            "tls_private_key.consul_server_key",
            "tls_self_signed_cert.ca_cert"
          ]
        }
      ]
    },
    {
      "module": "module.fruits",
      "mode": "managed",
      "type": "aws_secretsmanager_secret",
      "name": "service_token",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "index_key": 0,
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:secretsmanager:us-east-1:321863202336:secret:Microservice-Microservice-fruits-gd14d5",
            "description": "",
            "force_overwrite_replica_secret": false,
            "id": "arn:aws:secretsmanager:us-east-1:321863202336:secret:Microservice-Microservice-fruits-gd14d5",
            "kms_key_id": "",
            "name": "Microservice-Microservice-fruits",
            "name_prefix": null,
            "policy": "",
            "recovery_window_in_days": 0,
            "replica": [],
            "rotation_enabled": false,
            "rotation_lambda_arn": "",
            "rotation_rules": [],
            "tags": {},
            "tags_all": {
              "project": "Microservice"
            }
          },
          "sensitive_attributes": [],
          "private": "bnVsbA==",
          "dependencies": [
            "aws_cloudwatch_log_group.acl",
            "aws_ecs_cluster.main",
            "aws_eip.nat",
            "aws_iam_instance_profile.consul_instance_profile",
            "aws_iam_role.consul_instance",
            "aws_instance.consul_server",
            "aws_internet_gateway.gw",
            "aws_nat_gateway.nat",
            "aws_secretsmanager_secret.consul_bootstrap_token",
            "aws_secretsmanager_secret.consul_server_root_ca_cert",
            "aws_security_group.acl_controller",
            "aws_security_group.consul_client",
            "aws_security_group.consul_server",
            "aws_subnet.private",
            "aws_subnet.public",
            "aws_vpc.main",
            "data.aws_availability_zones.availabile",
            "data.aws_iam_policy_document.instance_trust_policy",
            "data.aws_ssm_parameter.ubuntu_latest",
            "module.consul_acl_controller.aws_ecs_service.this",
            "module.consul_acl_controller.aws_ecs_task_definition.this",
            "module.consul_acl_controller.aws_iam_policy.this_execution",
            "module.consul_acl_controller.aws_iam_role.this_execution",
            "module.consul_acl_controller.aws_iam_role.this_task",
            "module.consul_acl_controller.aws_iam_role_policy_attachment.consul-controller-execution",
            "module.consul_acl_controller.aws_secretsmanager_secret.client_token",
            "module.consul_acl_controller.aws_secretsmanager_secret_version.client_token",
            "random_id.consul_gossip_key",
            "random_uuid.consul_bootstrap_token",
            "tls_cert_request.consul_server_cert",
            "tls_locally_signed_cert.consul_server_signed_cert",
            "tls_private_key.ca_key",
            "tls_private_key.consul_server_key",
            "tls_self_signed_cert.ca_cert"
          ]
        }
      ]
    },
    {
      "module": "module.fruits",
      "mode": "managed",
      "type": "aws_secretsmanager_secret_version",
      "name": "service_token",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "index_key": 0,
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:secretsmanager:us-east-1:321863202336:secret:Microservice-Microservice-fruits-gd14d5",
            "id": "arn:aws:secretsmanager:us-east-1:321863202336:secret:Microservice-Microservice-fruits-gd14d5|64B8A23E-78F5-4470-B57C-CFD976DFBFB0",
            "secret_binary": "",
            "secret_id": "arn:aws:secretsmanager:us-east-1:321863202336:secret:Microservice-Microservice-fruits-gd14d5",
            "secret_string": "{}",
            "version_id": "64B8A23E-78F5-4470-B57C-CFD976DFBFB0",
            "version_stages": [
              "AWSPREVIOUS"
            ]
          },
          "sensitive_attributes": [],
          "private": "bnVsbA==",
          "dependencies": [
            "aws_cloudwatch_log_group.acl",
            "aws_ecs_cluster.main",
            "aws_eip.nat",
            "aws_iam_instance_profile.consul_instance_profile",
            "aws_iam_role.consul_instance",
            "aws_instance.consul_server",
            "aws_internet_gateway.gw",
            "aws_nat_gateway.nat",
            "aws_secretsmanager_secret.consul_bootstrap_token",
            "aws_secretsmanager_secret.consul_server_root_ca_cert",
            "aws_security_group.acl_controller",
            "aws_security_group.consul_client",
            "aws_security_group.consul_server",
            "aws_subnet.private",
            "aws_subnet.public",
            "aws_vpc.main",
            "data.aws_availability_zones.availabile",
            "data.aws_iam_policy_document.instance_trust_policy",
            "data.aws_ssm_parameter.ubuntu_latest",
            "module.consul_acl_controller.aws_ecs_service.this",
            "module.consul_acl_controller.aws_ecs_task_definition.this",
            "module.consul_acl_controller.aws_iam_policy.this_execution",
            "module.consul_acl_controller.aws_iam_role.this_execution",
            "module.consul_acl_controller.aws_iam_role.this_task",
            "module.consul_acl_controller.aws_iam_role_policy_attachment.consul-controller-execution",
            "module.consul_acl_controller.aws_secretsmanager_secret.client_token",
            "module.consul_acl_controller.aws_secretsmanager_secret_version.client_token",
            "module.fruits.aws_secretsmanager_secret.service_token",
            "random_id.consul_gossip_key",
            "random_uuid.consul_bootstrap_token",
            "tls_cert_request.consul_server_cert",
            "tls_locally_signed_cert.consul_server_signed_cert",
            "tls_private_key.ca_key",
            "tls_private_key.consul_server_key",
            "tls_self_signed_cert.ca_cert"
          ]
        }
      ]
    },
    {
      "module": "module.vegetables",
      "mode": "data",
      "type": "aws_region",
      "name": "current",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "description": "US East (N. Virginia)",
            "endpoint": "ec2.us-east-1.amazonaws.com",
            "id": "us-east-1",
            "name": "us-east-1"
          },
          "sensitive_attributes": []
        }
      ]
    },
    {
      "module": "module.vegetables",
      "mode": "managed",
      "type": "aws_ecs_task_definition",
      "name": "this",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 1,
          "attributes": {
            "arn": "arn:aws:ecs:us-east-1:321863202336:task-definition/Microservice-vegetables:3",
            "container_definitions": "[{\"cpu\":0,\"dependsOn\":[{\"condition\":\"SUCCESS\",\"containerName\":\"consul-ecs-mesh-init\"},{\"condition\":\"HEALTHY\",\"containerName\":\"sidecar-proxy\"}],\"environment\":[{\"name\":\"MESSAGE\",\"value\":\"Hello from the client!\"},{\"name\":\"NAME\",\"value\":\"vegetables\"},{\"name\":\"UPSTREAM_URIS\",\"value\":\"http://10.255.3.253:27017\"}],\"essential\":true,\"image\":\"nicholasjackson/fake-service:v0.23.1\",\"logConfiguration\":{\"logDriver\":\"awslogs\",\"options\":{\"awslogs-group\":\"Microservice-vegetables-logs\",\"awslogs-region\":\"us-east-1\",\"awslogs-stream-prefix\":\"Microservice-vegetables\"}},\"mountPoints\":[],\"name\":\"vegetables\",\"portMappings\":[{\"containerPort\":9090,\"hostPort\":9090,\"protocol\":\"tcp\"}],\"volumesFrom\":[]},{\"command\":[\"mesh-init\"],\"cpu\":0,\"environment\":[{\"name\":\"CONSUL_ECS_CONFIG_JSON\",\"value\":\"{\\\"bootstrapDir\\\":\\\"/consul\\\",\\\"healthSyncContainers\\\":[],\\\"proxy\\\":{\\\"upstreams\\\":[]},\\\"service\\\":{\\\"checks\\\":[],\\\"meta\\\":{},\\\"name\\\":\\\"Microservice-vegetables\\\",\\\"namespace\\\":\\\"\\\",\\\"partition\\\":\\\"\\\",\\\"port\\\":9090,\\\"tags\\\":[]}}\"}],\"essential\":false,\"image\":\"public.ecr.aws/hashicorp/consul-ecs:0.4.1\",\"logConfiguration\":{\"logDriver\":\"awslogs\",\"options\":{\"awslogs-group\":\"Microservice-vegetables-sidecars-logs\",\"awslogs-region\":\"us-east-1\",\"awslogs-stream-prefix\":\"Microservice-vegetables-sidecars-\"}},\"mountPoints\":[{\"containerPath\":\"/consul\",\"readOnly\":false,\"sourceVolume\":\"consul_data\"},{\"containerPath\":\"/bin/consul-inject\",\"readOnly\":true,\"sourceVolume\":\"consul_binary\"}],\"name\":\"consul-ecs-mesh-init\",\"portMappings\":[],\"secrets\":[{\"name\":\"CONSUL_HTTP_TOKEN\",\"valueFrom\":\"arn:aws:secretsmanager:us-east-1:321863202336:secret:Microservice-Microservice-vegetables-bVSvOs:token::\"}],\"volumesFrom\":[]},{\"command\":[\"cp /bin/consul /bin/consul-inject/consul\\n\\nECS_IPV4=$(curl -s $ECS_CONTAINER_METADATA_URI_V4 | jq -r '.Networks[0].IPv4Addresses[0]')\\n\\necho \\\"$CONSUL_CACERT\\\" \u003e /tmp/consul-ca-cert.pem\\n\\ncat \u003c\u003c EOF \u003e /consul/agent-defaults.hcl\\naddresses = {\\n  dns = \\\"127.0.0.1\\\"\\n  grpc = \\\"127.0.0.1\\\"\\n  http = \\\"127.0.0.1\\\"\\n}\\nadvertise_addr = \\\"$ECS_IPV4\\\"\\nadvertise_reconnect_timeout = \\\"15m\\\"\\nclient_addr = \\\"0.0.0.0\\\"\\ndatacenter = \\\"$CONSUL_DATACENTER\\\"\\nenable_central_service_config = true\\nencrypt = \\\"$CONSUL_GOSSIP_ENCRYPTION_KEY\\\"\\nleave_on_terminate = true\\nports {\\n  grpc = 8502\\n}\\nretry_join = [\\n  \\\"10.255.3.250\\\",\\n  \\\"10.255.4.250\\\",\\n  \\\"10.255.5.250\\\",\\n]\\ntelemetry {\\n  disable_compat_1.9 = true\\n}\\nauto_encrypt = {\\n  tls = true\\n  ip_san = [\\\"$ECS_IPV4\\\"]\\n}\\nca_file = \\\"/tmp/consul-ca-cert.pem\\\"\\nverify_outgoing = true\\nacl {\\n  enabled = true\\n  default_policy = \\\"deny\\\"\\n  down_policy = \\\"async-cache\\\"\\n  tokens {\\n    agent = \\\"$AGENT_TOKEN\\\"\\n  }\\n}\\n\\n\\nEOF\\n\\n\\nexec consul agent \\\\\\n    -data-dir /consul/data \\\\\\n    -config-file /consul/agent-defaults.hcl \\\\\\n\"],\"cpu\":0,\"entryPoint\":[\"/bin/sh\",\"-ec\"],\"environment\":[{\"name\":\"CONSUL_DATACENTER\",\"value\":\"dc1\"}],\"essential\":false,\"image\":\"public.ecr.aws/hashicorp/consul:1.11.4\",\"linuxParameters\":{\"initProcessEnabled\":true},\"logConfiguration\":{\"logDriver\":\"awslogs\",\"options\":{\"awslogs-group\":\"Microservice-vegetables-sidecars-logs\",\"awslogs-region\":\"us-east-1\",\"awslogs-stream-prefix\":\"Microservice-vegetables-sidecars-\"}},\"mountPoints\":[{\"containerPath\":\"/consul\",\"readOnly\":false,\"sourceVolume\":\"consul_data\"},{\"containerPath\":\"/bin/consul-inject\",\"sourceVolume\":\"consul_binary\"}],\"name\":\"consul-client\",\"portMappings\":[],\"secrets\":[{\"name\":\"CONSUL_CACERT\",\"valueFrom\":\"arn:aws:secretsmanager:us-east-1:321863202336:secret:Microservice-root-ca-cert-20221112145104712200000003-WB9O04\"},{\"name\":\"CONSUL_GOSSIP_ENCRYPTION_KEY\",\"valueFrom\":\"arn:aws:secretsmanager:us-east-1:321863202336:secret:Microservice-gossip-key-20221112145104705800000002-bEmTO5\"},{\"name\":\"AGENT_TOKEN\",\"valueFrom\":\"arn:aws:secretsmanager:us-east-1:321863202336:secret:Microservice-consul-client-token-AXDtBP:token::\"}],\"volumesFrom\":[]},{\"command\":[\"envoy\",\"--config-path\",\"/consul/envoy-bootstrap.json\"],\"cpu\":0,\"dependsOn\":[{\"condition\":\"SUCCESS\",\"containerName\":\"consul-ecs-mesh-init\"}],\"entryPoint\":[\"/consul/consul-ecs\",\"envoy-entrypoint\"],\"environment\":[],\"essential\":false,\"healthCheck\":{\"command\":[\"nc\",\"-z\",\"127.0.0.1\",\"20000\"],\"interval\":30,\"retries\":3,\"timeout\":5},\"image\":\"envoyproxy/envoy-alpine:v1.20.2\",\"logConfiguration\":{\"logDriver\":\"awslogs\",\"options\":{\"awslogs-group\":\"Microservice-vegetables-sidecars-logs\",\"awslogs-region\":\"us-east-1\",\"awslogs-stream-prefix\":\"Microservice-vegetables-sidecars-\"}},\"mountPoints\":[{\"containerPath\":\"/consul\",\"readOnly\":true,\"sourceVolume\":\"consul_data\"}],\"name\":\"sidecar-proxy\",\"portMappings\":[],\"ulimits\":[{\"hardLimit\":1048576,\"name\":\"nofile\",\"softLimit\":1048576}],\"volumesFrom\":[]}]",
            "cpu": "256",
            "ephemeral_storage": [],
            "execution_role_arn": "arn:aws:iam::321863202336:role/ecs/Microservice-vegetables-execution",
            "family": "Microservice-vegetables",
            "id": "Microservice-vegetables",
            "inference_accelerator": [],
            "ipc_mode": "",
            "memory": "512",
            "network_mode": "awsvpc",
            "pid_mode": "",
            "placement_constraints": [],
            "proxy_configuration": [],
            "requires_compatibilities": [
              "FARGATE"
            ],
            "revision": 3,
            "runtime_platform": [],
            "skip_destroy": false,
            "tags": {
              "consul.hashicorp.com/mesh": "true",
              "consul.hashicorp.com/module": "terraform-aws-consul-ecs",
              "consul.hashicorp.com/module-version": "0.4.1",
              "consul.hashicorp.com/service-name": "Microservice-vegetables"
            },
            "tags_all": {
              "consul.hashicorp.com/mesh": "true",
              "consul.hashicorp.com/module": "terraform-aws-consul-ecs",
              "consul.hashicorp.com/module-version": "0.4.1",
              "consul.hashicorp.com/service-name": "Microservice-vegetables",
              "project": "Microservice"
            },
            "task_role_arn": "arn:aws:iam::321863202336:role/Microservice-vegetables-task",
            "volume": [
              {
                "docker_volume_configuration": [],
                "efs_volume_configuration": [],
                "fsx_windows_file_server_volume_configuration": [],
                "host_path": "",
                "name": "consul_binary"
              },
              {
                "docker_volume_configuration": [],
                "efs_volume_configuration": [],
                "fsx_windows_file_server_volume_configuration": [],
                "host_path": "",
                "name": "consul_data"
              }
            ]
          },
          "sensitive_attributes": [],
          "private": "eyJzY2hlbWFfdmVyc2lvbiI6IjEifQ==",
          "dependencies": [
            "aws_cloudwatch_log_group.acl",
            "aws_cloudwatch_log_group.vegetables",
            "aws_cloudwatch_log_group.vegetables_sidecars",
            "aws_ecs_cluster.main",
            "aws_eip.nat",
            "aws_iam_instance_profile.consul_instance_profile",
            "aws_iam_role.consul_instance",
            "aws_instance.consul_server",
            "aws_internet_gateway.gw",
            "aws_nat_gateway.nat",
            "aws_secretsmanager_secret.consul_bootstrap_token",
            "aws_secretsmanager_secret.consul_gossip_key",
            "aws_secretsmanager_secret.consul_server_root_ca_cert",
            "aws_security_group.acl_controller",
            "aws_security_group.consul_client",
            "aws_security_group.consul_server",
            "aws_subnet.private",
            "aws_subnet.public",
            "aws_vpc.main",
            "data.aws_availability_zones.availabile",
            "data.aws_iam_policy_document.instance_trust_policy",
            "data.aws_ssm_parameter.ubuntu_latest",
            "module.consul_acl_controller.aws_ecs_service.this",
            "module.consul_acl_controller.aws_ecs_task_definition.this",
            "module.consul_acl_controller.aws_iam_policy.this_execution",
            "module.consul_acl_controller.aws_iam_role.this_execution",
            "module.consul_acl_controller.aws_iam_role.this_task",
            "module.consul_acl_controller.aws_iam_role_policy_attachment.consul-controller-execution",
            "module.consul_acl_controller.aws_secretsmanager_secret.client_token",
            "module.consul_acl_controller.aws_secretsmanager_secret_version.client_token",
            "module.vegetables.aws_iam_role.execution",
            "module.vegetables.aws_iam_role.task",
            "module.vegetables.aws_secretsmanager_secret.service_token",
            "random_id.consul_gossip_key",
            "random_uuid.consul_bootstrap_token",
            "tls_cert_request.consul_server_cert",
            "tls_locally_signed_cert.consul_server_signed_cert",
            "tls_private_key.ca_key",
            "tls_private_key.consul_server_key",
            "tls_self_signed_cert.ca_cert"
          ]
        }
      ]
    },
    {
      "module": "module.vegetables",
      "mode": "managed",
      "type": "aws_iam_policy",
      "name": "execution",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:iam::321863202336:policy/ecs/Microservice-vegetables-execution",
            "description": "Microservice-vegetables mesh-task execution policy",
            "id": "arn:aws:iam::321863202336:policy/ecs/Microservice-vegetables-execution",
            "name": "Microservice-vegetables-execution",
            "name_prefix": null,
            "path": "/ecs/",
            "policy": "{\"Statement\":[{\"Action\":[\"secretsmanager:GetSecretValue\"],\"Effect\":\"Allow\",\"Resource\":[\"arn:aws:secretsmanager:us-east-1:321863202336:secret:Microservice-root-ca-cert-20221112145104712200000003-WB9O04\"]},{\"Action\":[\"secretsmanager:GetSecretValue\"],\"Effect\":\"Allow\",\"Resource\":[\"arn:aws:secretsmanager:us-east-1:321863202336:secret:Microservice-consul-client-token-AXDtBP\",\"arn:aws:secretsmanager:us-east-1:321863202336:secret:Microservice-Microservice-vegetables-bVSvOs\"]},{\"Action\":[\"secretsmanager:GetSecretValue\"],\"Effect\":\"Allow\",\"Resource\":[\"arn:aws:secretsmanager:us-east-1:321863202336:secret:Microservice-gossip-key-20221112145104705800000002-bEmTO5\"]},{\"Action\":[\"logs:CreateLogStream\",\"logs:PutLogEvents\"],\"Effect\":\"Allow\",\"Resource\":\"*\"}],\"Version\":\"2012-10-17\"}",
            "policy_id": "ANPAUV4EKWYQOQWXDGXZI",
            "tags": {},
            "tags_all": {
              "project": "Microservice"
            }
          },
          "sensitive_attributes": [],
          "private": "bnVsbA==",
          "dependencies": [
            "aws_cloudwatch_log_group.acl",
            "aws_ecs_cluster.main",
            "aws_eip.nat",
            "aws_iam_instance_profile.consul_instance_profile",
            "aws_iam_role.consul_instance",
            "aws_instance.consul_server",
            "aws_internet_gateway.gw",
            "aws_nat_gateway.nat",
            "aws_secretsmanager_secret.consul_bootstrap_token",
            "aws_secretsmanager_secret.consul_gossip_key",
            "aws_secretsmanager_secret.consul_server_root_ca_cert",
            "aws_security_group.acl_controller",
            "aws_security_group.consul_client",
            "aws_security_group.consul_server",
            "aws_subnet.private",
            "aws_subnet.public",
            "aws_vpc.main",
            "data.aws_availability_zones.availabile",
            "data.aws_iam_policy_document.instance_trust_policy",
            "data.aws_ssm_parameter.ubuntu_latest",
            "module.consul_acl_controller.aws_ecs_service.this",
            "module.consul_acl_controller.aws_ecs_task_definition.this",
            "module.consul_acl_controller.aws_iam_policy.this_execution",
            "module.consul_acl_controller.aws_iam_role.this_execution",
            "module.consul_acl_controller.aws_iam_role.this_task",
            "module.consul_acl_controller.aws_iam_role_policy_attachment.consul-controller-execution",
            "module.consul_acl_controller.aws_secretsmanager_secret.client_token",
            "module.consul_acl_controller.aws_secretsmanager_secret_version.client_token",
            "module.vegetables.aws_secretsmanager_secret.service_token",
            "random_id.consul_gossip_key",
            "random_uuid.consul_bootstrap_token",
            "tls_cert_request.consul_server_cert",
            "tls_locally_signed_cert.consul_server_signed_cert",
            "tls_private_key.ca_key",
            "tls_private_key.consul_server_key",
            "tls_self_signed_cert.ca_cert"
          ]
        }
      ]
    },
    {
      "module": "module.vegetables",
      "mode": "managed",
      "type": "aws_iam_role",
      "name": "execution",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "index_key": 0,
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:iam::321863202336:role/ecs/Microservice-vegetables-execution",
            "assume_role_policy": "{\"Version\":\"2012-10-17\",\"Statement\":[{\"Effect\":\"Allow\",\"Principal\":{\"Service\":\"ecs-tasks.amazonaws.com\"},\"Action\":\"sts:AssumeRole\"}]}",
            "create_date": "2022-11-12T14:54:15Z",
            "description": "",
            "force_detach_policies": false,
            "id": "Microservice-vegetables-execution",
            "inline_policy": [
              {
                "name": "",
                "policy": ""
              }
            ],
            "managed_policy_arns": [
              "arn:aws:iam::321863202336:policy/ecs/Microservice-vegetables-execution"
            ],
            "max_session_duration": 3600,
            "name": "Microservice-vegetables-execution",
            "name_prefix": "",
            "path": "/ecs/",
            "permissions_boundary": null,
            "tags": {},
            "tags_all": {
              "project": "Microservice"
            },
            "unique_id": "AROAUV4EKWYQJSE7QYWHR"
          },
          "sensitive_attributes": [],
          "private": "bnVsbA==",
          "dependencies": [
            "aws_cloudwatch_log_group.acl",
            "aws_ecs_cluster.main",
            "aws_eip.nat",
            "aws_iam_instance_profile.consul_instance_profile",
            "aws_iam_role.consul_instance",
            "aws_instance.consul_server",
            "aws_internet_gateway.gw",
            "aws_nat_gateway.nat",
            "aws_secretsmanager_secret.consul_bootstrap_token",
            "aws_secretsmanager_secret.consul_server_root_ca_cert",
            "aws_security_group.acl_controller",
            "aws_security_group.consul_client",
            "aws_security_group.consul_server",
            "aws_subnet.private",
            "aws_subnet.public",
            "aws_vpc.main",
            "data.aws_availability_zones.availabile",
            "data.aws_iam_policy_document.instance_trust_policy",
            "data.aws_ssm_parameter.ubuntu_latest",
            "module.consul_acl_controller.aws_ecs_service.this",
            "module.consul_acl_controller.aws_ecs_task_definition.this",
            "module.consul_acl_controller.aws_iam_policy.this_execution",
            "module.consul_acl_controller.aws_iam_role.this_execution",
            "module.consul_acl_controller.aws_iam_role.this_task",
            "module.consul_acl_controller.aws_iam_role_policy_attachment.consul-controller-execution",
            "module.consul_acl_controller.aws_secretsmanager_secret.client_token",
            "module.consul_acl_controller.aws_secretsmanager_secret_version.client_token",
            "random_id.consul_gossip_key",
            "random_uuid.consul_bootstrap_token",
            "tls_cert_request.consul_server_cert",
            "tls_locally_signed_cert.consul_server_signed_cert",
            "tls_private_key.ca_key",
            "tls_private_key.consul_server_key",
            "tls_self_signed_cert.ca_cert"
          ]
        }
      ]
    },
    {
      "module": "module.vegetables",
      "mode": "managed",
      "type": "aws_iam_role",
      "name": "task",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "index_key": 0,
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:iam::321863202336:role/Microservice-vegetables-task",
            "assume_role_policy": "{\"Version\":\"2012-10-17\",\"Statement\":[{\"Effect\":\"Allow\",\"Principal\":{\"Service\":\"ecs-tasks.amazonaws.com\"},\"Action\":\"sts:AssumeRole\"}]}",
            "create_date": "2022-11-12T14:54:15Z",
            "description": "",
            "force_detach_policies": false,
            "id": "Microservice-vegetables-task",
            "inline_policy": [
              {
                "name": "",
                "policy": ""
              }
            ],
            "managed_policy_arns": [],
            "max_session_duration": 3600,
            "name": "Microservice-vegetables-task",
            "name_prefix": "",
            "path": "/",
            "permissions_boundary": null,
            "tags": {},
            "tags_all": {
              "project": "Microservice"
            },
            "unique_id": "AROAUV4EKWYQJP6RKNEVA"
          },
          "sensitive_attributes": [],
          "private": "bnVsbA==",
          "dependencies": [
            "aws_cloudwatch_log_group.acl",
            "aws_ecs_cluster.main",
            "aws_eip.nat",
            "aws_iam_instance_profile.consul_instance_profile",
            "aws_iam_role.consul_instance",
            "aws_instance.consul_server",
            "aws_internet_gateway.gw",
            "aws_nat_gateway.nat",
            "aws_secretsmanager_secret.consul_bootstrap_token",
            "aws_secretsmanager_secret.consul_server_root_ca_cert",
            "aws_security_group.acl_controller",
            "aws_security_group.consul_client",
            "aws_security_group.consul_server",
            "aws_subnet.private",
            "aws_subnet.public",
            "aws_vpc.main",
            "data.aws_availability_zones.availabile",
            "data.aws_iam_policy_document.instance_trust_policy",
            "data.aws_ssm_parameter.ubuntu_latest",
            "module.consul_acl_controller.aws_ecs_service.this",
            "module.consul_acl_controller.aws_ecs_task_definition.this",
            "module.consul_acl_controller.aws_iam_policy.this_execution",
            "module.consul_acl_controller.aws_iam_role.this_execution",
            "module.consul_acl_controller.aws_iam_role.this_task",
            "module.consul_acl_controller.aws_iam_role_policy_attachment.consul-controller-execution",
            "module.consul_acl_controller.aws_secretsmanager_secret.client_token",
            "module.consul_acl_controller.aws_secretsmanager_secret_version.client_token",
            "random_id.consul_gossip_key",
            "random_uuid.consul_bootstrap_token",
            "tls_cert_request.consul_server_cert",
            "tls_locally_signed_cert.consul_server_signed_cert",
            "tls_private_key.ca_key",
            "tls_private_key.consul_server_key",
            "tls_self_signed_cert.ca_cert"
          ]
        }
      ]
    },
    {
      "module": "module.vegetables",
      "mode": "managed",
      "type": "aws_iam_role_policy_attachment",
      "name": "execution",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "Microservice-vegetables-execution-2022111214541670630000001b",
            "policy_arn": "arn:aws:iam::321863202336:policy/ecs/Microservice-vegetables-execution",
            "role": "Microservice-vegetables-execution"
          },
          "sensitive_attributes": [],
          "private": "bnVsbA==",
          "dependencies": [
            "aws_cloudwatch_log_group.acl",
            "aws_ecs_cluster.main",
            "aws_eip.nat",
            "aws_iam_instance_profile.consul_instance_profile",
            "aws_iam_role.consul_instance",
            "aws_instance.consul_server",
            "aws_internet_gateway.gw",
            "aws_nat_gateway.nat",
            "aws_secretsmanager_secret.consul_bootstrap_token",
            "aws_secretsmanager_secret.consul_gossip_key",
            "aws_secretsmanager_secret.consul_server_root_ca_cert",
            "aws_security_group.acl_controller",
            "aws_security_group.consul_client",
            "aws_security_group.consul_server",
            "aws_subnet.private",
            "aws_subnet.public",
            "aws_vpc.main",
            "data.aws_availability_zones.availabile",
            "data.aws_iam_policy_document.instance_trust_policy",
            "data.aws_ssm_parameter.ubuntu_latest",
            "module.consul_acl_controller.aws_ecs_service.this",
            "module.consul_acl_controller.aws_ecs_task_definition.this",
            "module.consul_acl_controller.aws_iam_policy.this_execution",
            "module.consul_acl_controller.aws_iam_role.this_execution",
            "module.consul_acl_controller.aws_iam_role.this_task",
            "module.consul_acl_controller.aws_iam_role_policy_attachment.consul-controller-execution",
            "module.consul_acl_controller.aws_secretsmanager_secret.client_token",
            "module.consul_acl_controller.aws_secretsmanager_secret_version.client_token",
            "module.vegetables.aws_iam_policy.execution",
            "module.vegetables.aws_iam_role.execution",
            "module.vegetables.aws_secretsmanager_secret.service_token",
            "random_id.consul_gossip_key",
            "random_uuid.consul_bootstrap_token",
            "tls_cert_request.consul_server_cert",
            "tls_locally_signed_cert.consul_server_signed_cert",
            "tls_private_key.ca_key",
            "tls_private_key.consul_server_key",
            "tls_self_signed_cert.ca_cert"
          ]
        }
      ]
    },
    {
      "module": "module.vegetables",
      "mode": "managed",
      "type": "aws_secretsmanager_secret",
      "name": "service_token",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "index_key": 0,
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:secretsmanager:us-east-1:321863202336:secret:Microservice-Microservice-vegetables-bVSvOs",
            "description": "",
            "force_overwrite_replica_secret": false,
            "id": "arn:aws:secretsmanager:us-east-1:321863202336:secret:Microservice-Microservice-vegetables-bVSvOs",
            "kms_key_id": "",
            "name": "Microservice-Microservice-vegetables",
            "name_prefix": null,
            "policy": "",
            "recovery_window_in_days": 0,
            "replica": [],
            "rotation_enabled": false,
            "rotation_lambda_arn": "",
            "rotation_rules": [],
            "tags": {},
            "tags_all": {
              "project": "Microservice"
            }
          },
          "sensitive_attributes": [],
          "private": "bnVsbA==",
          "dependencies": [
            "aws_cloudwatch_log_group.acl",
            "aws_ecs_cluster.main",
            "aws_eip.nat",
            "aws_iam_instance_profile.consul_instance_profile",
            "aws_iam_role.consul_instance",
            "aws_instance.consul_server",
            "aws_internet_gateway.gw",
            "aws_nat_gateway.nat",
            "aws_secretsmanager_secret.consul_bootstrap_token",
            "aws_secretsmanager_secret.consul_server_root_ca_cert",
            "aws_security_group.acl_controller",
            "aws_security_group.consul_client",
            "aws_security_group.consul_server",
            "aws_subnet.private",
            "aws_subnet.public",
            "aws_vpc.main",
            "data.aws_availability_zones.availabile",
            "data.aws_iam_policy_document.instance_trust_policy",
            "data.aws_ssm_parameter.ubuntu_latest",
            "module.consul_acl_controller.aws_ecs_service.this",
            "module.consul_acl_controller.aws_ecs_task_definition.this",
            "module.consul_acl_controller.aws_iam_policy.this_execution",
            "module.consul_acl_controller.aws_iam_role.this_execution",
            "module.consul_acl_controller.aws_iam_role.this_task",
            "module.consul_acl_controller.aws_iam_role_policy_attachment.consul-controller-execution",
            "module.consul_acl_controller.aws_secretsmanager_secret.client_token",
            "module.consul_acl_controller.aws_secretsmanager_secret_version.client_token",
            "random_id.consul_gossip_key",
            "random_uuid.consul_bootstrap_token",
            "tls_cert_request.consul_server_cert",
            "tls_locally_signed_cert.consul_server_signed_cert",
            "tls_private_key.ca_key",
            "tls_private_key.consul_server_key",
            "tls_self_signed_cert.ca_cert"
          ]
        }
      ]
    },
    {
      "module": "module.vegetables",
      "mode": "managed",
      "type": "aws_secretsmanager_secret_version",
      "name": "service_token",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "index_key": 0,
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:secretsmanager:us-east-1:321863202336:secret:Microservice-Microservice-vegetables-bVSvOs",
            "id": "arn:aws:secretsmanager:us-east-1:321863202336:secret:Microservice-Microservice-vegetables-bVSvOs|56AFDD9A-D61C-425E-B109-BFF971E3B135",
            "secret_binary": "",
            "secret_id": "arn:aws:secretsmanager:us-east-1:321863202336:secret:Microservice-Microservice-vegetables-bVSvOs",
            "secret_string": "{}",
            "version_id": "56AFDD9A-D61C-425E-B109-BFF971E3B135",
            "version_stages": [
              "AWSPREVIOUS"
            ]
          },
          "sensitive_attributes": [],
          "private": "bnVsbA==",
          "dependencies": [
            "aws_cloudwatch_log_group.acl",
            "aws_ecs_cluster.main",
            "aws_eip.nat",
            "aws_iam_instance_profile.consul_instance_profile",
            "aws_iam_role.consul_instance",
            "aws_instance.consul_server",
            "aws_internet_gateway.gw",
            "aws_nat_gateway.nat",
            "aws_secretsmanager_secret.consul_bootstrap_token",
            "aws_secretsmanager_secret.consul_server_root_ca_cert",
            "aws_security_group.acl_controller",
            "aws_security_group.consul_client",
            "aws_security_group.consul_server",
            "aws_subnet.private",
            "aws_subnet.public",
            "aws_vpc.main",
            "data.aws_availability_zones.availabile",
            "data.aws_iam_policy_document.instance_trust_policy",
            "data.aws_ssm_parameter.ubuntu_latest",
            "module.consul_acl_controller.aws_ecs_service.this",
            "module.consul_acl_controller.aws_ecs_task_definition.this",
            "module.consul_acl_controller.aws_iam_policy.this_execution",
            "module.consul_acl_controller.aws_iam_role.this_execution",
            "module.consul_acl_controller.aws_iam_role.this_task",
            "module.consul_acl_controller.aws_iam_role_policy_attachment.consul-controller-execution",
            "module.consul_acl_controller.aws_secretsmanager_secret.client_token",
            "module.consul_acl_controller.aws_secretsmanager_secret_version.client_token",
            "module.vegetables.aws_secretsmanager_secret.service_token",
            "random_id.consul_gossip_key",
            "random_uuid.consul_bootstrap_token",
            "tls_cert_request.consul_server_cert",
            "tls_locally_signed_cert.consul_server_signed_cert",
            "tls_private_key.ca_key",
            "tls_private_key.consul_server_key",
            "tls_self_signed_cert.ca_cert"
          ]
        }
      ]
    }
  ],
  "check_results": null
}
